<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ESP32 + MAX10 ãƒ–ãƒ¬ãƒƒãƒ‰ãƒœãƒ¼ãƒ‰SDR FMãƒ¢ãƒãƒ©ãƒ«ãƒ©ã‚¸ã‚ªç·¨</title>
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="/css/mainday.css" title="default">
<link rel="alternate stylesheet" href="/css/mainnight.css" title="alternate">
<script type="text/javascript" src="/js/styleswitcher.js"></script>
<script type="text/javascript" src="/js/global.js"></script>
</head>
<body>
<div class="novelpage">
<div class="novelbody">
<div id="tateyoko">
<div id="_top"></div>
<a href="/">ğŸ </a>&emsp;
<a href="#" onclick="setActiveStyleSheet('default'); return false;">æ—¥</a>&emsp;
<a href="#" onclick="setActiveStyleSheet('alternate'); return false;">æœˆ</a>&emsp;
<a href="#_top" onclick="myFunction()" style="cursor: pointer;">ç¸¦æ›¸ãï¼æ¨ªæ›¸ã</a>
<div id="calibre_link-67">
<div>
<div>
<table class="noveltitle">
<tr>
<td colspan="2"><i><span><i>ESP32 + MAX10 ãƒ–ãƒ¬ãƒƒãƒ‰ãƒœãƒ¼ãƒ‰SDR FMãƒ¢ãƒãƒ©ãƒ«ãƒ©ã‚¸ã‚ªç·¨</i></span></i></td>
</tr>
<tr>
                    
                    
      </tr>
<tr>
<td colspan="2">rapidnack</td>
</tr>
<tr>
<td colspan="2"> (2019)</td>
</tr>
<tr>
<td colspan="2"></td>
</tr>
</table>
<div></div>
</div>
<div></div>
</div>
</div>



<div id="calibre_link-0">
<div>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>ESP32 + MAX10</span>
 &nbsp;</p>
<p>&nbsp;<span>ãƒ–ãƒ¬ãƒƒãƒ‰ãƒœãƒ¼</span>
<span>ãƒ‰</span>
<span>SDR</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>F</span>
<span>M</span>
<span>ãƒ¢ãƒãƒ©ãƒ«ãƒ©ã‚¸ã‚ªç·¨</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>rapidnack&nbsp;--&nbsp;è‘—</span>
 &nbsp;</p>
<p>&nbsp;</p>
<div></div>
<br />
&nbsp;<p>&nbsp;<span>ãƒ»ä»¥ä¸‹ã®ã‚µã‚¤ãƒˆã§ã€æœ¬æ›¸ã§æ²è¼‰ã—ãŸã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’å…¥æ‰‹ã§ãã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<a href="https://github.com/Rapidnack/MAX1k_FM_Mono">
<span><u>https://github.com/Rapidnack/MAX1k_FM_Mono</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="https://github.com/Rapidnack/AvalonPacket">
<span><u>https://github.com/Rapidnack/AvalonPacket</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<span>ãƒ»æœ¬æ›¸ä¸­ã®ä¼šç¤¾åã‚„å•†å“åã¯ã€è©²å½“ã™ã‚‹å„ç¤¾ã®å•†æ¨™ã¾ãŸã¯ç™»éŒ²å•†æ¨™ã§ã™ã€‚æœ¬æ›¸ä¸­ã§</span>
<span>ã¯</span>
<span>T</span>
<span>M</span>
<span>ãŠã‚ˆ</span>
<span>ã³Â®</span>
<span>ãƒãƒ¼ã‚¯ã¯çœç•¥ã•ã›ã¦ã„ãŸã ã„ã¦ãŠã‚Šã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;</p>
<div></div>
<br />
&nbsp;<p>&nbsp;<a id="calibre_link-68"></a>
<a href="#calibre_link-1">
<span><u>ã¯ã˜ã‚ã«</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-2">
<span><u>1</u></span>
<span><u>ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã®æº–å‚™</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-3">
<span><u>1.1</u></span>
<span><u>MAX1</u></span>
<span><u>0</u></span>
<span><u>è©•ä¾¡ãƒœãƒ¼</u></span>
<span><u>ãƒ‰</u></span>
<span><u>MAX1000</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-4">
<span><u>1.2</u></span>
<span><u>ESP3</u></span>
<span><u>2</u></span>
<span><u>ãƒœãƒ¼ãƒ‰</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-5">
<span><u>1.3</u></span>
<span><u>A/</u></span>
<span><u>D</u></span>
<span><u>ã‚³ãƒ³ãƒãƒ¼ã‚¿</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-6">
<span><u>1.4</u></span>
<span><u>OLE</u></span>
<span><u>D</u></span>
<span><u>ãƒœãƒ¼ãƒ‰</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-7">
<span><u>1.5</u></span>
<span><u>I2S DA</u></span>
<span><u>C</u></span>
<span><u>ãƒœãƒ¼ãƒ‰</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-8">
<span><u>1.6</u></span>
<span><u>æ‰‹ä½œ</u></span>
<span><u>ã‚Š</u></span>
<span><u>R-2R DAC</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-9">
<span><u>2</u></span>
<span><u>Arduino ID</u></span>
<span><u>E</u></span>
<span><u>ã®æº–å‚™</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-10">
<span><u>2.1</u></span>
<span><u>Arduino ID</u></span>
<span><u>E</u></span>
<span><u>ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-11">
<span><u>2.2</u></span>
<span><u>Arduino core for the ESP3</u></span>
<span><u>2</u></span>
<span><u>ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-12">
<span><u>2.3</u></span>
<span><u>Oled Driver for SSD1306 displa</u></span>
<span><u>y</u></span>
<span><u>ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-13">
<span><u>2.4</u></span>
<span><u>AvalonPacke</u></span>
<span><u>t</u></span>
<span><u>ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-14">
<span><u>2.5</u></span>
<span><u>ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚±ãƒƒ</u></span>
<span><u>ãƒ</u></span>
<span><u>AvalonPacket_FM_Radi</u></span>
<span><u>o</u></span>
<span><u>ã‚’ä½¿ã†</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-15">
<span><u>3</u></span>
<span><u>Quartus Prime Lite Editio</u></span>
<span><u>n</u></span>
<span><u>ã®æº–å‚™</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-16">
<span><u>3.1</u></span>
<span><u>Quartus Prime Lite Editio</u></span>
<span><u>n</u></span>
<span><u>ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-17">
<span><u>3.2</u></span>
<span><u>USB Programmer Drive</u></span>
<span><u>r</u></span>
<span><u>ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-18">
<span><u>3.3</u></span>
<span><u>F</u></span>
<span><u>M</u></span>
<span><u>ãƒ©ã‚¸ã‚ªã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-19">
<span><u>3.4</u></span>
<span><u>FPG</u></span>
<span><u>A</u></span>
<span><u>ã«æ›¸ãè¾¼ã‚€</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-20">
<span><u>3.5</u></span>
<span><u>FPG</u></span>
<span><u>Aã®</u></span>
<span><u>FLAS</u></span>
<span><u>H</u></span>
<span><u>ãƒ¡ãƒ¢ãƒªã«æ›¸ãè¾¼ã‚€</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-21">
<span><u>4</u></span>
<span><u>SD</u></span>
<span><u>R</u></span>
<span><u>ã®æ§‹æˆ</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-22">
<span><u>4.1</u></span>
<span><u>top.</u></span>
<span><u>vã€€</u></span>
<span><u>Verilo</u></span>
<span><u>g</u></span>
<span><u>ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-23">
<span><u>4.2</u></span>
<span><u>QsysCore.qsy</u></span>
<span><u>s</u></span>
<span><u>ä½œæˆæ‰‹é †</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-24">
<span><u>5</u></span>
<span><u>Arduin</u></span>
<span><u>o</u></span>
<span><u>ã‚¹ã‚±ãƒƒãƒã‹</u></span>
<span><u>ã‚‰L</u></span>
<span><u>ãƒã‚«</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-25">
<span><u>5.1</u></span>
<span><u>ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚±ãƒƒ</u></span>
<span><u>ãƒ</u></span>
<span><u>AvalonPacket_LED_Swee</u></span>
<span><u>p</u></span>
<span><u>ã‚’ä½¿ã†</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-26">
<span><u>5.2</u></span>
<span><u>ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚±ãƒƒ</u></span>
<span><u>ãƒ</u></span>
<span><u>AvalonPacket_LED_Swee</u></span>
<span><u>p</u></span>
<span><u>ã®å†…å®¹</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-27">
<span><u>6</u></span>
<span><u>æ‰‹ä½œ</u></span>
<span><u>ã‚Š</u></span>
<span><u>R-2R DAC</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-28">
<span><u>6.1</u></span>
<span><u>ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚±ãƒƒ</u></span>
<span><u>ãƒ</u></span>
<span><u>AvalonPacket_LED_Swee</u></span>
<span><u>p</u></span>
<span><u>ã‚’å¤‰æ›´</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-29">
<span><u>6.2</u></span>
<span><u>DAC</u></span>
<span><u>Aã€</u></span>
<span><u>DAC</u></span>
<span><u>B</u></span>
<span><u>ã®å‡ºåŠ›å†…å®¹ã‚’å¤‰æ›´</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-30">
<span><u>6.3</u></span>
<span><u>ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚±ãƒƒ</u></span>
<span><u>ãƒ</u></span>
<span><u>AvalonPacket_LE</u></span>
<span><u>D</u></span>
<span><u>ã‚’ä½¿ã†</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-31">
<span><u>7</u></span>
<span><u>PLL</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-32">
<span><u>7.1</u></span>
<span><u>pll.qi</u></span>
<span><u>p</u></span>
<span><u>ä½œæˆæ‰‹é †</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-33">
<span><u>8</u></span>
<span><u>è‡ª</u></span>
<span><u>ä½œ</u></span>
<span><u>NCO</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-34">
<span><u>8.1</u></span>
<span><u>ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚±ãƒƒ</u></span>
<span><u>ãƒ</u></span>
<span><u>AvalonPacket_NC</u></span>
<span><u>O</u></span>
<span><u>ã‚’ä½¿ã†</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-35">
<span><u>8.2</u></span>
<span><u>DAC</u></span>
<span><u>Aã€</u></span>
<span><u>DAC</u></span>
<span><u>B</u></span>
<span><u>ã®å‡ºåŠ›å†…å®¹ã‚’å¤‰æ›´</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-36">
<span><u>8.3</u></span>
<span><u>ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚±ãƒƒ</u></span>
<span><u>ãƒ</u></span>
<span><u>AvalonPacket_NC</u></span>
<span><u>O</u></span>
<span><u>ã®å†…å®¹</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-37">
<span><u>8.4</u></span>
<span><u>ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚±ãƒƒ</u></span>
<span><u>ãƒ</u></span>
<span><u>AvalonPacket_NCO_Touc</u></span>
<span><u>h</u></span>
<span><u>ã‚’ä½¿ã†</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-38">
<span><u>8.5</u></span>
<span><u>ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚±ãƒƒ</u></span>
<span><u>ãƒ</u></span>
<span><u>AvalonPacket_NCO_Touc</u></span>
<span><u>h</u></span>
<span><u>ã®å†…å®¹</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-39">
<span><u>8.6</u></span>
<span><u>ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚±ãƒƒ</u></span>
<span><u>ãƒ</u></span>
<span><u>AvalonPacket_FM_Radi</u></span>
<span><u>o</u></span>
<span><u>ã‚’ä½¿ã†</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-40">
<span><u>8.7</u></span>
<span><u>ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚±ãƒƒ</u></span>
<span><u>ãƒ</u></span>
<span><u>AvalonPacket_FM_Radi</u></span>
<span><u>o</u></span>
<span><u>ã®å†…å®¹</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-41">
<span><u>8.8</u></span>
<span><u>romsin.qi</u></span>
<span><u>p</u></span>
<span><u>ä½œæˆæ‰‹é †</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-42">
<span><u>8.9</u></span>
<span><u>MyNCO.</u></span>
<span><u>vã€€</u></span>
<span><u>Verilo</u></span>
<span><u>g</u></span>
<span><u>ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-43">
<span><u>9</u></span>
<span><u>ADC</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-44">
<span><u>9.1</u></span>
<span><u>DAC</u></span>
<span><u>Aã€</u></span>
<span><u>DAC</u></span>
<span><u>B</u></span>
<span><u>ã®å‡ºåŠ›å†…å®¹ã‚’å¤‰æ›´</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-45">
<span><u>9.2</u></span>
<span><u>ãƒˆãƒƒãƒ—ãƒ¢ã‚¸ãƒ¥ãƒ¼</u></span>
<span><u>ãƒ«</u></span>
<span><u>top.</u></span>
<span><u>v</u></span>
<span><u>ã®è©²å½“ç®‡æ‰€</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-46">
<span><u>10</u></span>
<span><u>è‡ª</u></span>
<span><u>ä½œ</u></span>
<span><u>CI</u></span>
<span><u>C</u></span>
<span><u>ãƒ•ã‚£ãƒ«ã‚¿</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-47">
<span><u>10.1</u></span>
<span><u>å…¥åŠ›ãƒ‡ãƒ¼ã‚¿</u></span>
<span><u>ã‚’</u></span>
<span><u>NC</u></span>
<span><u>Oã®</u></span>
<span><u>CO</u></span>
<span><u>Sã€</u></span>
<span><u>SI</u></span>
<span><u>N</u></span>
<span><u>å‡ºåŠ›ã«å¤‰æ›´</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-48">
<span><u>10.2</u></span>
<span><u>ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚±ãƒƒ</u></span>
<span><u>ãƒ</u></span>
<span><u>AvalonPacket_NCO_Touc</u></span>
<span><u>h</u></span>
<span><u>ã‚’ä½¿ã†</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-49">
<span><u>10.3</u></span>
<span><u>DAC</u></span>
<span><u>Aã€</u></span>
<span><u>DAC</u></span>
<span><u>B</u></span>
<span><u>ã®å‡ºåŠ›å†…å®¹ã‚’å¤‰æ›´</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-50">
<span><u>10.4</u></span>
<span><u>MyCIC.</u></span>
<span><u>vã€€</u></span>
<span><u>Verilo</u></span>
<span><u>g</u></span>
<span><u>ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-51">
<span><u>10.5</u></span>
<span><u>å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã‚’å…ƒã«æˆ»ã™</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-52">
<span><u>11</u></span>
<span><u>è‡ª</u></span>
<span><u>ä½œ</u></span>
<span><u>FI</u></span>
<span><u>R</u></span>
<span><u>ãƒ•ã‚£ãƒ«ã‚¿</u></span>
<span><u>ï¼ˆ</u></span>
<span><u>3.072MSp</u></span>
<span><u>sâ†’</u></span>
<span><u>384kSp</u></span>
<span><u>s</u></span>
<span><u>ï¼‰</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-53">
<span><u>11.1</u></span>
<span><u>å…¥åŠ›ãƒ‡ãƒ¼ã‚¿</u></span>
<span><u>ã‚’</u></span>
<span><u>NC</u></span>
<span><u>Oã®</u></span>
<span><u>CO</u></span>
<span><u>Sã€</u></span>
<span><u>SI</u></span>
<span><u>N</u></span>
<span><u>å‡ºåŠ›ã«å¤‰æ›´</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-54">
<span><u>11.2</u></span>
<span><u>ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚±ãƒƒ</u></span>
<span><u>ãƒ</u></span>
<span><u>AvalonPacket_NCO_Touc</u></span>
<span><u>h</u></span>
<span><u>ã‚’ä½¿ã†</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-55">
<span><u>11.3</u></span>
<span><u>DAC</u></span>
<span><u>Aã€</u></span>
<span><u>DAC</u></span>
<span><u>B</u></span>
<span><u>ã®å‡ºåŠ›å†…å®¹ã‚’å¤‰æ›´</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-56">
<span><u>11.4</u></span>
<span><u>ram16x256.qi</u></span>
<span><u>p</u></span>
<span><u>ä½œæˆæ‰‹é †</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-57">
<span><u>11.5</u></span>
<span><u>MyFIR.</u></span>
<span><u>vã€€</u></span>
<span><u>Verilo</u></span>
<span><u>g</u></span>
<span><u>ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-58">
<span><u>11.6</u></span>
<span><u>å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã‚’å…ƒã«æˆ»ã™</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-59">
<span><u>12</u></span>
<span><u>F</u></span>
<span><u>M</u></span>
<span><u>å¾©èª¿</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-60">
<span><u>12.1</u></span>
<span><u>vectran.qsy</u></span>
<span><u>s</u></span>
<span><u>ä½œæˆæ‰‹é †</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-61">
<span><u>12.2</u></span>
<span><u>ãƒˆãƒƒãƒ—ãƒ¢ã‚¸ãƒ¥ãƒ¼</u></span>
<span><u>ãƒ«</u></span>
<span><u>top.</u></span>
<span><u>v</u></span>
<span><u>ã®è©²å½“ç®‡æ‰€</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-62">
<span><u>13</u></span>
<span><u>è‡ª</u></span>
<span><u>ä½œ</u></span>
<span><u>FI</u></span>
<span><u>R</u></span>
<span><u>ãƒ•ã‚£ãƒ«ã‚¿</u></span>
<span><u>ï¼ˆ</u></span>
<span><u>384kSp</u></span>
<span><u>sâ†’</u></span>
<span><u>48kSp</u></span>
<span><u>s</u></span>
<span><u>ï¼‰</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-63">
<span><u>14</u></span>
<span><u>è‡ªä½œãƒ‡ã‚£ã‚¨ãƒ³ãƒ•ã‚¡ã‚·ã‚¹</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-64">
<span><u>14.1</u></span>
<span><u>MyDeEmphasis.</u></span>
<span><u>vã€€</u></span>
<span><u>Verilo</u></span>
<span><u>g</u></span>
<span><u>ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-65">
<span><u>15</u></span>
<span><u>è‡ª</u></span>
<span><u>ä½œ</u></span>
<span><u>I2S I/F</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="#calibre_link-66">
<span><u>15.1</u></span>
<span><u>MyI2S.</u></span>
<span><u>vã€€</u></span>
<span><u>Verilo</u></span>
<span><u>g</u></span>
<span><u>ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<div></div>
<br />
&nbsp;<h1><b>
<a id="calibre_link-1"><b>
<span><b>ã¯ã˜ã‚ã«</b></span>
</b></a>
</b></h1>
<p>&nbsp;<span>FPG</span>
<span>A</span>
<span>ã‚’ä½¿ã£</span>
<span>ãŸ</span>
<span>SD</span>
<span>Rï¼ˆ</span>
<span>Software-defined radi</span>
<span>o</span>
<span>ï¼‰ã‚’æ‰‹è»½ã«å­¦ç¿’ã™ã‚‹æ–¹æ³•ã‚’æ¢ã—ã¦è©¦è¡ŒéŒ¯èª¤ã—ã¦ãã¾ã—ãŸãŒã€ã‚„ã£ã¨ç´å¾—ã§ãã‚‹æ–¹æ³•ã‚’è¦‹ã¤ã‘ã¾ã—ãŸã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000091.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>é¸å±€ã€éŸ³é‡ã®æ“ä½œç”¨ã«</span>
<span>ã€</span>
<span>ESP3</span>
<span>2</span>
<span>ã®ã‚¿ãƒƒãƒã‚»ãƒ³ã‚µãƒ¼ã«æ¥ç¶šã—ãŸã‚¸ãƒ£ãƒ³ãƒ‘ãƒ¼ãƒ¯ã‚¤ãƒ¤ãƒ¼ã‚’ã‚±ãƒ¼ã‚¹ã«é–‹ã‘ãŸç©´ã‹ã‚‰å¤–ã«å‡ºã—ã¦ã„ã¾ã™ã€‚é›»æºç”¨</span>
<span>ã®</span>
<span>US</span>
<span>B</span>
<span>ã‚±ãƒ¼ãƒ–ãƒ«ã¨ã‚¢ãƒ³ãƒ†ãƒŠã‚’æ¥ç¶šã™ã‚Œã°ãƒ©ã‚¸ã‚ªã¨ã—ã¦ä½¿ç”¨ã§ãã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000114.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>SD</span>
<span>R</span>
<span>ã®æ§‹æˆã‚’æ¬¡ã®ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000087.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>ä½¿ç”¨ã—ã¦ã„ã‚‹éƒ¨å“ã¯å®‰ä¾¡ã§ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<span>MAX1</span>
<span>0</span>
<span>ã‚’æ­è¼‰ã—</span>
<span>ãŸ</span>
<span>FPG</span>
<span>A</span>
<span>ãƒœãƒ¼</span>
<span>ãƒ‰</span>
<span>MAX100</span>
<span>0</span>
<span>ã¯ãƒãƒƒãƒ—ãƒ¯ãƒ³ã‚¹ãƒˆãƒƒãƒ—ã‹</span>
<span>ã‚‰</span>
<span>2,73</span>
<span>0</span>
<span>å††ã§å…¥æ‰‹ã§ãã¾ã—ãŸ</span>
<span>ã€‚</span>
<span>A/</span>
<span>D</span>
<span>ã‚³ãƒ³ãƒãƒ¼</span>
<span>ã‚¿</span>
<span>AD928</span>
<span>3</span>
<span>ã‚‚ç§‹æœˆé›»å­ã‹</span>
<span>ã‚‰</span>
<span>40</span>
<span>0</span>
<span>å††ã§å…¥æ‰‹ã§ãã¾ã—ãŸã€‚</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>ç°¡å˜ã«ä½œã‚Œã‚‹ã‚ˆã†ã«è‰²ã€…å·¥å¤«ã—ã¾ã—ãŸã€‚</span>
 &nbsp;</p>
<p>&nbsp;<span>â—</span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span>ã‚¢ãƒŠãƒ­ã‚°ã®ãƒãƒ³ãƒ‰ãƒ‘ã‚¹ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚’çœç•¥ã—ã¦ã‚¢ãƒ³ãƒ†ãƒŠä¿¡å·ã‚’ãã®ã¾</span>
<span>ã¾</span>
<span>A/</span>
<span>D</span>
<span>ã‚³ãƒ³ãƒãƒ¼ã‚¿ã«å…¥åŠ›</span>
 &nbsp;</p>
<p>&nbsp;<span>â—</span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span>A/</span>
<span>D</span>
<span>ã‚³ãƒ³ãƒãƒ¼ã‚¿ã¯ãƒ”ãƒƒãƒå¤‰æ›åŸºæ¿ã‚’ä½¿ã£ã¦ãƒ–ãƒ¬ãƒƒãƒ‰ãƒœãƒ¼ãƒ‰ã«æ­è¼‰</span>
 &nbsp;</p>
<p>&nbsp;<span>â—</span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span>éŸ³å£°å‡ºåŠ›ç”¨</span>
<span>ã«</span>
<span>I2S DA</span>
<span>C</span>
<span>ãƒœãƒ¼ãƒ‰ã‚’ä½¿ç”¨</span>
 &nbsp;</p>
<p>&nbsp;<span>â—</span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span>æ“ä½œãƒ‘ãƒãƒ«</span>
<span>ã¯</span>
<span>ESP3</span>
<span>2</span>
<span>ã®ã‚¿ãƒƒãƒã‚»ãƒ³ã‚µãƒ¼</span>
<span>ã¨</span>
<span>OLE</span>
<span>D</span>
<span>ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ã‚’ä½¿ã£</span>
<span>ã¦</span>
<span>Arduin</span>
<span>o</span>
<span>ã‚¹ã‚±ãƒƒãƒã§ä½œæˆ</span>
 &nbsp;</p>
<p>&nbsp;<span>â—</span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span>FPG</span>
<span>A</span>
<span>ã®å‹•ä½œç¢ºèª</span>
<span>ã¯</span>
<span>R-2R DA</span>
<span>C</span>
<span>ã«æ¥ç¶šã—ãŸã‚ªã‚·ãƒ­ã‚¹ã‚³ãƒ¼ãƒ—ã‚’ä½¿ç”¨</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>ESP3</span>
<span>2</span>
<span>ãƒœãƒ¼ãƒ‰</span>
<span>ã¨</span>
<span>OLE</span>
<span>D</span>
<span>ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ã¯ãƒ”ãƒ³ãƒ˜ãƒƒãƒ€ãƒ¼ãŒã¯ã‚“ã ä»˜ã‘ã•ã‚Œã¦ãªã„ã‚‚ã®ã‚’é¸ã³</span>
<span>ã€</span>
<span>FPG</span>
<span>A</span>
<span>ãƒœãƒ¼ãƒ‰ã¨ã¨ã‚‚ã«ç§‹æœˆé›»å­ã®åˆ†å‰²ãƒ­ãƒ³ã‚°ãƒ”ãƒ³ã‚½ã‚±ãƒƒãƒˆï¼ˆç´°ãƒ”ãƒ³ç”¨ï¼‰ã‚’ã¯ã‚“ã ä»˜ã‘ã—ã¾ã™ã€‚ã“ã‚Œã§ã‚¸ãƒ£ãƒ³ãƒ‘ãƒ¼ãƒ¯ã‚¤ãƒ¤ãƒ¼ã‚’ä½¿ã£ã¦é…ç·šã§ãã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>SD</span>
<span>R</span>
<span>ã«å¿…è¦</span>
<span>ãª</span>
<span>NC</span>
<span>Oã€</span>
<span>CI</span>
<span>C</span>
<span>ãƒ•ã‚£ãƒ«ã‚¿</span>
<span>ã€</span>
<span>FI</span>
<span>R</span>
<span>ãƒ•ã‚£ãƒ«ã‚¿ã‚’è‡ªä½œã—ã¾ã—ãŸãŒ</span>
<span>ã€</span>
<span>ESP3</span>
<span>2</span>
<span>ã®ã‚¿ãƒƒãƒã‚»ãƒ³ã‚µãƒ¼ã§åˆ¶å¾¡ã—</span>
<span>ãŸ</span>
<span>NC</span>
<span>O</span>
<span>ã®å‡ºåŠ›ã‚’ãƒ•ã‚£ãƒ«ã‚¿ã«å…¥åŠ›ã€ãƒ•ã‚£ãƒ«ã‚¿ã®å‡ºåŠ›</span>
<span>ã‚’</span>
<span>R-2R DA</span>
<span>C</span>
<span>ã«æ¥ç¶šã—ãŸã‚ªã‚·ãƒ­ã‚¹ã‚³ãƒ¼ãƒ—ã§è¦³æ¸¬ã™ã‚‹ã“ã¨ã§ã€å‹•ä½œã‚’ç¢ºèªã§ãã¾ã—ãŸã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000089.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000019.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>FPGA Verilo</span>
<span>g</span>
<span>ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã€</span>
 &nbsp;</p>
<p>&nbsp;<span>Arduin</span>
<span>o</span>
<span>ãƒ©ã‚¤ãƒ–ãƒ©</span>
<span>ãƒª</span>
<span>AvalonPacket</span>
 &nbsp;</p>
<p>&nbsp;<span>ã‚’</span>
<span>GitHu</span>
<span>b</span>
<span>ã§å…¬é–‹ã—ã¦ã„ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<a href="https://github.com/Rapidnack/MAX1k_FM_Mono">
<span><u>https://github.com/Rapidnack/MAX1k_FM_Mono</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<a href="https://github.com/Rapidnack/AvalonPacket">
<span><u>https://github.com/Rapidnack/AvalonPacket</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>ãƒ‡ã‚£ã‚¸ã‚¿ãƒ«ãƒ»ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ»ãƒ†ã‚¯ãƒãƒ­ã‚¸&nbsp;No.1 (C</span>
<span>Q</span>
<span>å‡ºç‰ˆ</span>
<span>ç¤¾)</span>
<span>ã¯ãƒã‚¤ãƒ–ãƒ«ã§ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>201</span>
<span>9å¹´3</span>
<span>æœˆ&nbsp;rapidnack</span>
 &nbsp;</p>
<p>&nbsp;</p>
<div></div>
<br />
&nbsp;<h1><b>
<span><b>1</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-2"><b>
<span><b>ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã®æº–å‚™</b></span>
</b></a>
</b></h1>
<p>&nbsp;<span>ã‚¸ãƒ£ãƒ³ãƒ‘ãƒ¼ãƒ¯ã‚¤ãƒ¤ãƒ¼ã‚’ä½¿ã£ã¦é…ç·šã§ãã‚‹ã‚ˆã†ã«å„éƒ¨å“ã‚’æº–å‚™ã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000091.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<h2><b>
<span><b>1.1</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-3"><b>
<span><b>MAX1</b></span>
<span><b>0</b></span>
<span><b>è©•ä¾¡ãƒœãƒ¼</b></span>
<span><b>ãƒ‰</b></span>
<span><b>MAX1000</b></span>
</b></a>
</b></h2>
<p>&nbsp;<span>ãƒãƒƒãƒ—ãƒ¯ãƒ³ã‚¹ãƒˆãƒƒãƒ—ã‹</span>
<span>ã‚‰</span>
<span>2,73</span>
<span>0</span>
<span>å††ã§å…¥æ‰‹ã§ãã¾ã—ãŸã€‚ç§‹æœˆé›»å­ã®åˆ†å‰²ãƒ­ãƒ³ã‚°ãƒ”ãƒ³ã‚½ã‚±ãƒƒãƒˆï¼ˆç´°ãƒ”ãƒ³ç”¨ï¼‰ã‚’ã¯ã‚“ã ä»˜ã‘ã—ã¦ã‚¸ãƒ£ãƒ³ãƒ‘ãƒ¼ãƒ¯ã‚¤ãƒ¤ãƒ¼ã‚’ä½¿ã£ã¦é…ç·šã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000110.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<h2><b>
<span><b>1.2</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-4"><b>
<span><b>ESP3</b></span>
<span><b>2</b></span>
<span><b>ãƒœãƒ¼ãƒ‰</b></span>
</b></a>
</b></h2>
<p>&nbsp;<span>ãƒã‚¸ç©´ãŒé–‹ã„ã¦ã„ã¦ã€ã‹ã¤ãƒ”ãƒ³ãƒ˜ãƒƒãƒ€ãƒ¼ãŒã¯ã‚“ã ä»˜ã‘ã•ã‚Œã¦ãªã„ã‚‚ã®ã‚’é¸ã³ã¾ã™ã€‚ç§‹æœˆé›»å­ã®åˆ†å‰²ãƒ­ãƒ³ã‚°ãƒ”ãƒ³ã‚½ã‚±ãƒƒãƒˆï¼ˆç´°ãƒ”ãƒ³ç”¨ï¼‰ã‚’ã¯ã‚“ã ä»˜ã‘ã—ã¦ã‚¸ãƒ£ãƒ³ãƒ‘ãƒ¼ãƒ¯ã‚¤ãƒ¤ãƒ¼ã‚’ä½¿ã£ã¦é…ç·šã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000075.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<h2><b>
<span><b>1.3</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-5"><b>
<span><b>A/</b></span>
<span><b>D</b></span>
<span><b>ã‚³ãƒ³ãƒãƒ¼ã‚¿</b></span>
</b></a>
</b></h2>
<p>&nbsp;<span>ç§‹æœˆé›»å­é€šå•†ã§è²©å£²ã•ã‚Œã¦ã„</span>
<span>ã‚‹</span>
<span>40</span>
<span>0</span>
<span>å††ã®&nbsp;AD928</span>
<span>3ï¼ˆ</span>
<span>80MSp</span>
<span>s</span>
<span>ã€ï¼˜ãƒ“ãƒƒãƒˆï¼‰ã‚’ãƒ”ãƒƒãƒå¤‰æ›åŸºæ¿ã«ã¯ã‚“ã ä»˜ã‘ã—ã¦ä½¿ã£ã¦ã„ã¾ã™ã€‚ãƒ‘ã‚¹ã‚³</span>
<span>ãƒ³</span>
<span>0.1u</span>
<span>F</span>
<span>ã¯ãƒãƒƒãƒ—éƒ¨å“ã‚’ãƒ”ãƒƒãƒå¤‰æ›åŸºæ¿ã«ä»˜ã‘ã¾ã—ãŸã€‚ãƒ–ãƒ¬ãƒƒãƒ‰ãƒœãƒ¼ãƒ‰ä¸Šã®é’ã„ã‚³ãƒ³ãƒ‡ãƒ³ã‚µ</span>
<span>ã‚‚</span>
<span>0.1u</span>
<span>F</span>
<span>ã§ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000102.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>ãƒ”ãƒƒãƒå¤‰æ›åŸºæ¿ã®ä¸‹ã®é…ç·šã¯ã“ã‚“ãªæ„Ÿã˜ã§ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000093.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<h2><b>
<span><b>1.4</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-6"><b>
<span><b>OLE</b></span>
<span><b>D</b></span>
<span><b>ãƒœãƒ¼ãƒ‰</b></span>
</b></a>
</b></h2>
<p>&nbsp;<span>ãƒ”ãƒ³ãƒ˜ãƒƒãƒ€ãƒ¼ãŒã¯ã‚“ã ä»˜ã‘ã•ã‚Œã¦ãªã„ã‚‚ã®ã‚’é¸ã³ã¾ã™ã€‚ç§‹æœˆé›»å­ã®åˆ†å‰²ãƒ­ãƒ³ã‚°ãƒ”ãƒ³ã‚½ã‚±ãƒƒãƒˆï¼ˆç´°ãƒ”ãƒ³ç”¨ï¼‰ã‚’ã¯ã‚“ã ä»˜ã‘ã—ã¦ã‚¸ãƒ£ãƒ³ãƒ‘ãƒ¼ãƒ¯ã‚¤ãƒ¤ãƒ¼ã‚’ä½¿ã£ã¦é…ç·šã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000030.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<h2><b>
<span><b>1.5</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-7"><b>
<span><b>I2S DA</b></span>
<span><b>C</b></span>
<span><b>ãƒœãƒ¼ãƒ‰</b></span>
</b></a>
</b></h2>
<p>&nbsp;<span>PCM5102</span>
<span>A</span>
<span>ã‚’æ­è¼‰ã—</span>
<span>ãŸ</span>
<span>I2S DA</span>
<span>C</span>
<span>ãƒœãƒ¼ãƒ‰ã‚’å°å‹ã®ãƒ–ãƒ¬ãƒƒãƒ‰ãƒœãƒ¼ãƒ‰ã«è¼‰ã›ã¾ã™ã€‚ãƒœãƒ¼ãƒ‰ä¸Šã®ãƒŸãƒ‹ã‚¸ãƒ£ãƒƒã‚¯ã¯ä½¿ã„ã«ãã„ã®ã§åˆ¥</span>
<span>ã®</span>
<span>3.5m</span>
<span>m</span>
<span>ã‚¹ãƒ†ãƒ¬ã‚ªãƒŸãƒ‹ã‚¸ãƒ£ãƒƒã‚¯ã‚’ã‚±ãƒ¼ã‚¹ã«å–ã‚Šä»˜ã‘ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000112.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>I2S DA</span>
<span>C</span>
<span>ãƒœãƒ¼ãƒ‰ã®ä¸‹ã¯ã“ã‚“ãªæ„Ÿã˜ã§ã™ã€‚é»’ã„ã‚¸ãƒ£ãƒ³ãƒ‘ãƒ¼ã‚±ãƒ¼ãƒ–ãƒ«ã®éš£ã®ç™½ã„ã‚¸ãƒ£ãƒ³ãƒ‘ãƒ¼ã‚±ãƒ¼ãƒ–ãƒ«ã‚‚å¿˜ã‚Œãšã«é…ç·šã—ã¦ãã ã•ã„ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000084.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<h2><b>
<span><b>1.6</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-8"><b>
<span><b>æ‰‹ä½œ</b></span>
<span><b>ã‚Š</b></span>
<span><b>R-2R DAC</b></span>
</b></a>
</b></h2>
<p>&nbsp;<span>éŸ³å£°å‡ºåŠ›ç”¨</span>
<span>ã®</span>
<span>I2S DA</span>
<span>C</span>
<span>ã¨ã¯åˆ¥ã«ã€ã‚ªã‚·ãƒ­ã‚¹ã‚³ãƒ¼ãƒ—ç”¨</span>
<span>ã«</span>
<span>R-2R DA</span>
<span>C</span>
<span>ã‚’ï¼’ãƒãƒ£ãƒ³ãƒãƒ«ç”¨æ„ã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<span>å°ã•ãªãƒ–ãƒ¬ãƒƒãƒ‰ãƒœãƒ¼ãƒ‰ã«æŠµæŠ—ã‚’è¼‰ã›ãŸç°¡å˜</span>
<span>ãª</span>
<span>R-2R DA</span>
<span>C</span>
<span>ã§ã™ã€‚ï¼˜ãƒ“ãƒƒãƒˆï¼’ãƒãƒ£ãƒ³ãƒãƒ«åˆ†ã®æŠµæŠ—ã‚’è¼‰ã›ã¦ã„ã¾ã™ãŒ</span>
<span>ã€</span>
<span>MAX100</span>
<span>0</span>
<span>ãƒœãƒ¼ãƒ‰ã®å…¥å‡ºåŠ›ãƒ”ãƒ³ãŒå°‘ãªã„ã®ã§æœ€ä¸‹ä½ãƒ“ãƒƒãƒˆ</span>
<span>ã‚’</span>
<span>GN</span>
<span>D</span>
<span>ã«æ¥ç¶šã—ã¦ï¼—ãƒ“ãƒƒãƒˆï¼’ãƒãƒ£ãƒ³ãƒãƒ«ã¨ã—ã¦ä½¿ã„ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000061.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>ã‚ªã‚·ãƒ­ã‚¹ã‚³ãƒ¼ãƒ—ã®ãƒ—ãƒ­ãƒ¼ãƒ–ã®æ¥ç¶šã¯ã“ã‚“ãªæ„Ÿã˜ã§ã™ã€‚ãƒ—ãƒ­ãƒ¼ãƒ–ã®ã‚¯ãƒªãƒƒãƒ—ã«çŸ­ã„ã‚¸ãƒ£ãƒ³ãƒ‘ãƒ¼ã‚±ãƒ¼ãƒ–ãƒ«ã‚’ãã‚ãˆã¦ãƒ–ãƒ¬ãƒƒãƒ‰ãƒœãƒ¼ãƒ‰ã«æŒ¿ã—ã¦ã„ã¾ã™ã€‚å¥¥</span>
<span>ãŒ</span>
<span>DAC</span>
<span>A</span>
<span>ã€æ‰‹å‰</span>
<span>ãŒ</span>
<span>DAC</span>
<span>B</span>
<span>ã§ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000016.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;</p>
<div></div>
<br />
&nbsp;<h1><b>
<span><b>2</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-9"><b>
<span><b>Arduino ID</b></span>
<span><b>E</b></span>
<span><b>ã®æº–å‚™</b></span>
</b></a>
</b></h1>
<p>&nbsp;<span>Arduino ID</span>
<span>E</span>
<span>ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—</span>
<span>ãŸ</span>
<span>Arduino ID</span>
<span>E</span>
<span>ã«å„ç¨®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<h2><b>
<span><b>2.1</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-10"><b>
<span><b>Arduino ID</b></span>
<span><b>E</b></span>
<span><b>ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</b></span>
</b></a>
</b></h2>
<p>&nbsp;<span>Arduino 1.8.</span>
<span>7</span>
<span>ã§å‹•ä½œç¢ºèªã—ã¦ã„ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<a href="https://www.arduino.cc/en/main/software">
<span><u>https://www.arduino.cc/en/main/software</u></span>
</a>
<span>ã‹</span>
<span>ã‚‰</span>
<span>Arduino ID</span>
<span>E</span>
<span>ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<h2><b>
<span><b>2.2</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-11"><b>
<span><b>Arduino core for the ESP3</b></span>
<span><b>2</b></span>
<span><b>ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</b></span>
</b></a>
</b></h2>
<p>&nbsp;<a href="https://github.com/espressif/arduino-esp32/blob/master/docs/arduino-ide/boards_manager.md">
<span><u>Installation instructions using Arduino IDE Boards Manager</u></span>
</a>
<span>ã®æ‰‹é †ã«å¾“ã„ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>ç’°å¢ƒè¨­å®šã®ã€Œè¿½åŠ ã®ãƒœãƒ¼ãƒ‰ãƒãƒãƒ¼ã‚¸ãƒ£</span>
<span>ã®</span>
<span>UR</span>
<span>L</span>
<span>ã€ã«</span>
<span>ã€Œ</span>
<span>https://dl.espressif.com/dl/package_esp32_index.jso</span>
<span>n</span>
<span>ã€ã‚’è¿½åŠ ã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000014.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000068.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000096.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>ãƒœãƒ¼ãƒ‰ãƒãƒãƒ¼ã‚¸ãƒ£ã§</span>
<span>ã€Œ</span>
<span>esp3</span>
<span>2</span>
<span>ã€ã‚’æ¤œç´¢ã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000001.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000027.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<h2><b>
<span><b>2.3</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-12"><b>
<span><b>Oled Driver for SSD1306 displa</b></span>
<span><b>y</b></span>
<span><b>ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</b></span>
</b></a>
</b></h2>
<p>&nbsp;<span>ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒãƒãƒ¼ã‚¸ãƒ£ã§æ¤œç´¢ã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000082.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000122.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<h2><b>
<span><b>2.4</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-13"><b>
<span><b>AvalonPacke</b></span>
<span><b>t</b></span>
<span><b>ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</b></span>
</b></a>
</b></h2>
<p>&nbsp;<a href="https://github.com/Rapidnack/AvalonPacket.git">
<span><u>GitHub&nbsp;Rapidnack/AvalonPacket</u></span>
</a>
<span>ã‹ã‚‰ãƒ©ã‚¤ãƒ–ãƒ©ãƒª</span>
<span>ã‚’</span>
<span>ZI</span>
<span>P</span>
<span>ãƒ•ã‚¡ã‚¤ãƒ«ã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000121.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000011.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<h2><b>
<span><b>2.5</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-14"><b>
<span><b>ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚±ãƒƒ</b></span>
<span><b>ãƒ</b></span>
<span><b>AvalonPacket_FM_Radi</b></span>
<span><b>o</b></span>
<span><b>ã‚’ä½¿ã†</b></span>
</b></a>
</b></h2>
<p>&nbsp;<span>AvalonPacke</span>
<span>t</span>
<span>ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«åŒæ¢±ã•ã‚Œã¦ã„ã‚‹ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚±ãƒƒ</span>
<span>ãƒ</span>
<span>AvalonPacket_FM_Radio.in</span>
<span>o</span>
<span>ã‚’é–‹ãã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000015.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000083.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>æ¬¡ã®å‘¨æ³¢æ•°ã€å‘¨æ³¢æ•°è¡¨è¨˜ã€å±€åã®ç®‡æ‰€ã‚’å—ä¿¡å¯èƒ½ãªæ”¾é€å±€ã®ã‚‚ã®ã«æ›¸ãæ›ãˆã¦ãã ã•ã„ã€‚</span>
 &nbsp;</p>
<table cellspacing="0" cellpadding="0" border="1">
<tbody>
<tr>
<td>
<p>&nbsp;<span>const int NUM_STATIONS = 6;</span>
 &nbsp;</p>
<p>&nbsp;<span>double freq[NUM_STATIONS] = {</span>
 &nbsp;</p>
<p>&nbsp;<span>80.0e6,</span>
 &nbsp;</p>
<p>&nbsp;<span>81.3e6,</span>
 &nbsp;</p>
<p>&nbsp;<span>82.5e6,</span>
 &nbsp;</p>
<p>&nbsp;<span>90.5e6,</span>
 &nbsp;</p>
<p>&nbsp;<span>91.6e6,</span>
 &nbsp;</p>
<p>&nbsp;<span>93.0e6</span>
 &nbsp;</p>
<p>&nbsp;<span>};</span>
 &nbsp;</p>
<p>&nbsp;<span>String freqString[NUM_STATIONS] = {</span>
 &nbsp;</p>
<p>&nbsp;<span>"80.0 MHz",</span>
 &nbsp;</p>
<p>&nbsp;<span>"81.3 MHz",</span>
 &nbsp;</p>
<p>&nbsp;<span>"82.5 MHz",</span>
 &nbsp;</p>
<p>&nbsp;<span>"90.5 MHz",</span>
 &nbsp;</p>
<p>&nbsp;<span>"91.6 MHz",</span>
 &nbsp;</p>
<p>&nbsp;<span>"93.0 MHz"</span>
 &nbsp;</p>
<p>&nbsp;<span>};</span>
 &nbsp;</p>
<p>&nbsp;<span>String stationName[NUM_STATIONS] = {</span>
 &nbsp;</p>
<p>&nbsp;<span>"TOKYO FM",</span>
 &nbsp;</p>
<p>&nbsp;<span>"J-WAVE",</span>
 &nbsp;</p>
<p>&nbsp;<span>"NHK FM",</span>
 &nbsp;</p>
<p>&nbsp;<span>"TBS FM",</span>
 &nbsp;</p>
<p>&nbsp;<span>"JOQR FM",</span>
 &nbsp;</p>
<p>&nbsp;<span>"NIPPON FM"</span>
 &nbsp;</p>
<p>&nbsp;<span>};</span>
 &nbsp;</p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>ESP3</span>
<span>2</span>
<span>ãƒœãƒ¼ãƒ‰ã«æ›¸ãè¾¼ã¿ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000114.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;</p>
<div></div>
<br />
&nbsp;<h1><b>
<span><b>3</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-69"><b></b></a>
<a id="calibre_link-15"><b>
<span><b>Quartus Prime Lite Editio</b></span>
<span><b>n</b></span>
<span><b>ã®æº–å‚™</b></span>
</b></a>
</b></h1>
<p>&nbsp;<span>Intel FPGA</span>
<span>(æ—§</span>
<span>Altera</span>
<span>)</span>
<span>ã®ç„¡å„Ÿç‰ˆé–‹ç™ºãƒ„ãƒ¼ãƒ«&nbsp;Quartus Prime Lite Editio</span>
<span>n</span>
<span>ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<span>arrow.co</span>
<span>m</span>
<span>ã®è©•ä¾¡ãƒœãƒ¼</span>
<span>ãƒ‰</span>
<span>MAX100</span>
<span>0</span>
<span>å†…è”µ</span>
<span>ã®</span>
<span>Arrow-USB-Blaste</span>
<span>r</span>
<span>ã®ãƒ‰ãƒ©ã‚¤ãƒã‚‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<h2><b>
<span><b>3.1</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-70"><b></b></a>
<a id="calibre_link-16"><b>
<span><b>Quartus Prime Lite Editio</b></span>
<span><b>n</b></span>
<span><b>ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</b></span>
</b></a>
</b></h2>
<p>&nbsp;<span>ä¸‹è¨˜ã‚¢ãƒ‰ãƒ¬ã‚¹ã‹ã‚‰ã€Œãƒ©ã‚¤ãƒˆãƒ»ã‚¨ãƒ‡ã‚£ã‚·ãƒ§ãƒ³ã€ã‚’é¸æŠã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<a href="https://www.intel.co.jp/content/www/jp/ja/software/programmable/quartus-prime/download.html">
<span><u>ã‚¤ãƒ³ãƒ†</u></span>
<span><u>ãƒ«</u></span>
<span><u>Â® QuartusÂ® Prime</u></span>
<span><u>&nbsp;</u></span>
<span><u>é–‹ç™ºã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<img src="images/000094.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>ã€Œ</span>
<span>Quartus Prime (includes Nios II EDS)</span>
<span>&nbsp;</span>
<span>ã€ã¨</span>
<span>ã€Œ</span>
<span>MAX 10 FPGA device suppor</span>
<span>t</span>
<span>ã€</span>
<span>ã¯å¿…ãšãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„ã€‚</span>
<span>ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ™‚ã«ãƒ­ã‚°ã‚¤ãƒ³ãŒå¿…è¦ã§ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’å–å¾—ã—ã¦ã„ãªã„å ´åˆã¯ç™»éŒ²ã—ã¦ãã ã•ã„ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000120.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã•ã‚ŒãŸ</span>
<span>ã€Œ</span>
<span>QuartusLiteSetup-18.1.0.625-windows.ex</span>
<span>e</span>
<span>ã€ã‚’å®Ÿè¡Œã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000025.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<h2><b>
<span><b>3.2</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-71"><b></b></a>
<a id="calibre_link-17"><b>
<span><b>USB Programmer Drive</b></span>
<span><b>r</b></span>
<span><b>ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</b></span>
</b></a>
</b></h2>
<p>&nbsp;<span>ä¸‹è¨˜ã‚¢ãƒ‰ãƒ¬ã‚¹ã‹ã‚‰ã€</span>
<span>ã€Œ</span>
<span>MAX1000 User Guid</span>
<span>e</span>
<span>ã€ã€</span>
<span>ã€Œ</span>
<span>USB Programmer Driver Ver. 2.2 (Win64</span>
<span>)</span>
<span>ã€ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã§ãã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<a href="https://www.arrow.com/en/products/max1000/arrow-development-tools">
<span><u>https://www.arrow.com/en/products/max1000/arrow-development-tools</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>MAX1000 User Guide&nbsp;:</span>
 &nbsp;</p>
<p>&nbsp;<a href="https://www.arrow.com/en/products/max1000/arrow-development-tools/~/media/f19115ca0929486c9e09fc138b8c7c81.ashx?h=16&amp;thn=1&amp;w=16">
<span><u>https://www.arrow.com/en/products/max1000/arrow-development-tools/~/media/f19115ca0929486c9e09fc138b8c7c81.ashx?h=16&amp;thn=1&amp;w=16</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>USB Programmer Driver Ver. 2.2 (Win64)&nbsp;:</span>
 &nbsp;</p>
<p>&nbsp;<a href="https://www.arrow.com/en/products/max1000/arrow-development-tools/-/media/e0151a61f1d844378206d2db77f3f259.ashx?h=16&amp;thn=1&amp;w=16">
<span><u>https://www.arrow.com/en/products/max1000/arrow-development-tools/-/media/e0151a61f1d844378206d2db77f3f259.ashx?h=16&amp;thn=1&amp;w=16</u></span>
</a>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000119.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸ</span>
<span>ã€Œ</span>
<span>Arrow_USB_Programmer_22_win64.zi</span>
<span>p</span>
<span>ã€ã‚’è§£å‡ã—ã¦ã€</span>
 &nbsp;</p>
<p>&nbsp;<span>ã€Œ</span>
<span>Arrow-USB-Blaster-Setup-2.2.ex</span>
<span>e</span>
<span>ã€ã‚’å®Ÿè¡Œã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<h2><b>
<span><b>3.3</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-72"><b></b></a>
<a id="calibre_link-18"><b>
<span><b>F</b></span>
<span><b>M</b></span>
<span><b>ãƒ©ã‚¸ã‚ªã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’</b></span>
<span><b>ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</b></span>
</b></a>
</b></h2>
<p>&nbsp;<a href="https://github.com/Rapidnack/MAX1k_FM_Mono">
<span><u>GitHub Rapidnack/MAX1k_FM_Mono</u></span>
</a>
<span>ã‹</span>
<span>ã‚‰</span>
<span>F</span>
<span>M</span>
<span>ãƒ©ã‚¸ã‚ªã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ</span>
<span>ã‚’</span>
<span>ZI</span>
<span>P</span>
<span>ãƒ•ã‚¡ã‚¤ãƒ«ã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦è§£å‡ã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000076.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>Quartus Prime Lite Editio</span>
<span>n</span>
<span>ã®</span>
<span>ã€Œ</span>
<span>Fil</span>
<span>e</span>
<span>ã€ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰</span>
<span>ã€Œ</span>
<span>Open Project</span>
<span>...</span>
<span>ã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã€è§£å‡ã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…</span>
<span>ã®</span>
<span>top.qp</span>
<span>f</span>
<span>ã‚’é–‹ãã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000012.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚’é–‹å§‹ã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000081.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒæ­£å¸¸ã«çµ‚äº†ã—ãŸã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000034.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<h2><b>
<span><b>3.4</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-19"><b>
<span><b>FPG</b></span>
<span><b>A</b></span>
<span><b>ã«æ›¸ãè¾¼ã‚€</b></span>
</b></a>
</b></h2>
<p>&nbsp;<span>ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼ã‚’é–‹ãã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000040.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>Hardware Setu</span>
<span>p</span>
<span>ãƒ€ã‚¤ã‚¢ãƒ­ã‚°</span>
<span>ã§</span>
<span>Arrow-USB-Blaste</span>
<span>r</span>
<span>ã‚’é¸æŠã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000106.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>top.so</span>
<span>f</span>
<span>ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—</span>
<span>ã¦</span>
<span>Star</span>
<span>t</span>
<span>ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000057.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>æ­£å¸¸ã«æ›¸ãè¾¼ã¾ã‚ŒãŸã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000003.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>ESP3</span>
<span>2</span>
<span>ãƒœãƒ¼ãƒ‰</span>
<span>ã«</span>
<span>AvalonPacke</span>
<span>t</span>
<span>ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«åŒæ¢±ã•ã‚Œã¦ã„ã‚‹ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚±ãƒƒ</span>
<span>ãƒ</span>
<span>AvalonPacket_FM_Radi</span>
<span>o</span>
<span>ãŒæ›¸ãè¾¼ã¾ã‚Œã¦ã„ã‚Œã°ã€ã‚¿ãƒƒãƒã‚»ãƒ³ã‚µãƒ¼ã§é¸å±€ã€éŸ³é‡ã‚’æ“ä½œã§ãã¾ã™ã€‚é›»æ³¢ã®å¼·ã„åœ°åŸŸã§ã¯ï¼‘ï½ã»ã©ã®ãƒªãƒ¼ãƒ‰ç·šã‚’ã‚¢ãƒ³ãƒ†ãƒŠç«¯å­ã«æ¥ç¶šã™ã‚Œã°å—ä¿¡ã§ãã‚‹ã¨æ€ã„ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000114.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>R-2R DA</span>
<span>C</span>
<span>ã«ã‚ªã‚·ãƒ­ã‚¹ã‚³ãƒ¼ãƒ—ã®ãƒ—ãƒ­ãƒ¼ãƒ–ã‚’æ¥ç¶šã™ã‚‹</span>
<span>ã¨</span>
<span>DAC</span>
<span>A</span>
<span>ã«æ¥ç¶šã—</span>
<span>ãŸ</span>
<span>CH</span>
<span>1ã«</span>
<span>CI</span>
<span>C</span>
<span>ãƒ•ã‚£ãƒ«ã‚¿ã®å…¥åŠ›ä¿¡å·</span>
<span>ï¼ˆ</span>
<span>73.728MSp</span>
<span>s</span>
<span>ï¼‰ãŒ</span>
<span>ã€</span>
<span>DAC</span>
<span>B</span>
<span>ã«æ¥ç¶šã—</span>
<span>ãŸ</span>
<span>CH</span>
<span>2ã«</span>
<span>FI</span>
<span>R</span>
<span>ãƒ•ã‚£ãƒ«ã‚¿ã®å‡ºåŠ›ä¿¡å·</span>
<span>ï¼ˆ</span>
<span>384kSp</span>
<span>s</span>
<span>ï¼‰ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000006.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<h2><b>
<span><b>3.5</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-20"><b>
<span><b>FPG</b></span>
<span><b>Aã®</b></span>
<span><b>FLAS</b></span>
<span><b>H</b></span>
<span><b>ãƒ¡ãƒ¢ãƒªã«æ›¸ãè¾¼ã‚€</b></span>
</b></a>
</b></h2>
<p>&nbsp;<span>FPG</span>
<span>Aã®</span>
<span>FLAS</span>
<span>H</span>
<span>ãƒ¡ãƒ¢ãƒªã«æ›¸ãè¾¼ã‚ã°ã€é›»æºã‚’åˆ‡ã£ã¦ã‚‚ã‚³ãƒ³ãƒ•ã‚£ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãŒæ¶ˆãˆãªã„ã‚ˆã†ã«ã§ãã¾ã™</span>
<span>ã€‚</span>
<span>top.so</span>
<span>fã‚’</span>
<span>top.po</span>
<span>f</span>
<span>ã«æ›¿ãˆã¦æ›¸ãè¾¼ã¿ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>so</span>
<span>f</span>
<span>ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠã—</span>
<span>ã¦</span>
<span>Delet</span>
<span>e</span>
<span>ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000020.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>Add File</span>
<span>...</span>
<span>ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦</span>
<span>ã€</span>
<span>po</span>
<span>f</span>
<span>ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000070.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>ä¸‹å›³ã®ã‚ˆã†ã«ãƒã‚§ãƒƒã‚¯ã‚’ä»˜ã‘</span>
<span>ã¦</span>
<span>Star</span>
<span>t</span>
<span>ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000037.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>æ­£å¸¸ã«æ›¸ãè¾¼ã¾ã‚ŒãŸã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000038.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;</p>
<div></div>
<br />
&nbsp;<h1><b>
<span><b>4</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-21"><b>
<span><b>SD</b></span>
<span><b>R</b></span>
<span><b>ã®æ§‹æˆ</b></span>
</b></a>
</b></h1>
<p>&nbsp;<span>SD</span>
<span>R</span>
<span>ã®æ§‹æˆã¯æ¬¡ã®ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000087.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<h2><b>
<span><b>4.1</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-22"><b>
<span><b>top.</b></span>
<span><b>vã€€</b></span>
<span><b>Verilo</b></span>
<span><b>g</b></span>
<span><b>ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰</b></span>
</b></a>
</b></h2>
<p>&nbsp;<span>ãƒˆãƒƒãƒ—ãƒ¢ã‚¸ãƒ¥ãƒ¼</span>
<span>ãƒ«</span>
<span>top.</span>
<span>v</span>
<span>ã§ã™ã€‚ä¸»</span>
<span>ã«</span>
<span>NC</span>
<span>O</span>
<span>ã€ãƒ•ã‚£ãƒ«ã‚¿ãªã©ã€ã‚µãƒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«é–“ã®æ¥ç¶šã‚’è¨˜è¿°ã—ã¦ã„ã¾ã™ã€‚</span>
 &nbsp;</p>
<table cellspacing="0" cellpadding="0" border="1">
<tbody>
<tr>
<td>
<p>&nbsp;<span>`timescale 1 ps / 1 ps</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>module top</span>
 &nbsp;</p>
<p>&nbsp;<span>(</span>
 &nbsp;</p>
<p>&nbsp;<span>input wire CLK,</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>input wire SPI_SCLK,</span>
 &nbsp;</p>
<p>&nbsp;<span>input wire SPI_NSS,</span>
 &nbsp;</p>
<p>&nbsp;<span>input wire SPI_MOSI,</span>
 &nbsp;</p>
<p>&nbsp;<span>output wire SPI_MISO,</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>input wire [7:0] ADC,</span>
 &nbsp;</p>
<p>&nbsp;<span>output wire ENCODE,</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>output wire I2S_SCK,</span>
 &nbsp;</p>
<p>&nbsp;<span>output wire I2S_BCK,</span>
 &nbsp;</p>
<p>&nbsp;<span>output wire I2S_LRCK,</span>
 &nbsp;</p>
<p>&nbsp;<span>output wire I2S_DATA,</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>output reg [6:0] DACA,</span>
 &nbsp;</p>
<p>&nbsp;<span>output reg [6:0] DACB,</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>output wire [7:0] LED</span>
 &nbsp;</p>
<p>&nbsp;<span>);</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>localparam CIC_WIDTH = 19;</span>
 &nbsp;</p>
<p>&nbsp;<span>localparam FIR_WIDTH = 16;</span>
 &nbsp;</p>
<p>&nbsp;<span>localparam PI = 17'sb0011_0010_0100_0011_1; // pi = 0011 . 0010 0100 0011 1111 0110 1010</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>wire [31:0] pio0;</span>
 &nbsp;</p>
<p>&nbsp;<span>wire [31:0] pio1;</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>wire clk; // 73.728M (actual 73.714286M)</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>wire [3:0] gain;</span>
 &nbsp;</p>
<p>&nbsp;<span>wire [3:0] volume;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>reg [7:0] uadc_r;</span>
 &nbsp;</p>
<p>&nbsp;<span>wire signed [7:0] adc;</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>wire signed [11:0] sin;</span>
 &nbsp;</p>
<p>&nbsp;<span>wire signed [11:0] cos;</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>reg signed [CIC_WIDTH-1:0] i;</span>
 &nbsp;</p>
<p>&nbsp;<span>reg signed [CIC_WIDTH-1:0] q;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>wire signed [CIC_WIDTH-1:0] icic;</span>
 &nbsp;</p>
<p>&nbsp;<span>wire icic_valid;</span>
 &nbsp;</p>
<p>&nbsp;<span>wire signed [CIC_WIDTH-1:0] qcic;</span>
 &nbsp;</p>
<p>&nbsp;<span>wire qcic_valid;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>wire signed [FIR_WIDTH-1:0] ifir;</span>
 &nbsp;</p>
<p>&nbsp;<span>wire ifir_valid;</span>
 &nbsp;</p>
<p>&nbsp;<span>wire signed [FIR_WIDTH-1:0] qfir;</span>
 &nbsp;</p>
<p>&nbsp;<span>wire qfir_valid;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>wire signed [FIR_WIDTH-1:0] phase;</span>
 &nbsp;</p>
<p>&nbsp;<span>reg signed [FIR_WIDTH-1:0] phase_r;</span>
 &nbsp;</p>
<p>&nbsp;<span>wire signed [FIR_WIDTH:0] phase_diff;</span>
 &nbsp;</p>
<p>&nbsp;<span>reg signed [FIR_WIDTH:0] freq;</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>wire signed [FIR_WIDTH-1:0] freq_LPR;</span>
 &nbsp;</p>
<p>&nbsp;<span>wire freq_LPR_valid;</span>
 &nbsp;</p>
<p>&nbsp;<span>wire signed [FIR_WIDTH-1:0] freq_LPRD;</span>
 &nbsp;</p>
<p>&nbsp;<span>wire freq_LPRD_valid;</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>wire signed [6:0] daca;</span>
 &nbsp;</p>
<p>&nbsp;<span>wire signed [6:0] dacb;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>pll</span>
<span>pll_inst (</span>
 &nbsp;</p>
<p>&nbsp;<span>.inclk0 (CLK),</span>
 &nbsp;</p>
<p>&nbsp;<span>.c0 (clk)</span>
 &nbsp;</p>
<p>&nbsp;<span>);</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>QsysCore u0 (</span>
 &nbsp;</p>
<p>&nbsp;<span>.clk_clk&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (clk),</span>
 &nbsp;</p>
<p>&nbsp;<span>.reset_reset_n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (1'b1),</span>
 &nbsp;</p>
<p>&nbsp;<span>.spi_slave_to_avalon_mm_master_bridge_0_export_0_mosi_to_the_spislave_inst_for_spichain&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (SPI_MOSI),</span>
 &nbsp;</p>
<p>&nbsp;<span>.spi_slave_to_avalon_mm_master_bridge_0_export_0_nss_to_the_spislave_inst_for_spichain&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (SPI_NSS),</span>
 &nbsp;</p>
<p>&nbsp;<span>.spi_slave_to_avalon_mm_master_bridge_0_export_0_miso_to_and_from_the_spislave_inst_for_spichain (SPI_MISO),</span>
 &nbsp;</p>
<p>&nbsp;<span>.spi_slave_to_avalon_mm_master_bridge_0_export_0_sclk_to_the_spislave_inst_for_spichain&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (SPI_SCLK),</span>
 &nbsp;</p>
<p>&nbsp;<span>.pio_0_external_connection_export&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (pio0),</span>
 &nbsp;</p>
<p>&nbsp;<span>.pio_1_external_connection_export&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (pio1)</span>
 &nbsp;</p>
<p>&nbsp;<span>);</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>assign LED = pio0[7:0];</span>
 &nbsp;</p>
<p>&nbsp;<span>assign gain = 3;</span>
 &nbsp;</p>
<p>&nbsp;<span>assign volume = pio0[3:0];</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>always @(posedge clk) begin</span>
 &nbsp;</p>
<p>&nbsp;<span>uadc_r &lt;= ADC;</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>assign ENCODE = clk;</span>
 &nbsp;</p>
<p>&nbsp;<span>assign adc = (uadc_r[7] == 0) ? uadc_r + 8'h80 : uadc_r - 8'h80;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>MyNCO #(</span>
 &nbsp;</p>
<p>&nbsp;<span>.OUT_WIDTH(12)</span>
 &nbsp;</p>
<p>&nbsp;<span>) nco_inst (</span>
 &nbsp;</p>
<p>&nbsp;<span>.clk&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (clk),</span>
 &nbsp;</p>
<p>&nbsp;<span>.reset_n&nbsp;&nbsp; (1'b1),</span>
 &nbsp;</p>
<p>&nbsp;<span>.clken&nbsp;&nbsp;&nbsp;&nbsp; (1'b1),</span>
 &nbsp;</p>
<p>&nbsp;<span>.phi_inc_i (pio1),</span>
 &nbsp;</p>
<p>&nbsp;<span>.fsin_o&nbsp;&nbsp;&nbsp; (sin),</span>
 &nbsp;</p>
<p>&nbsp;<span>.fcos_o&nbsp;&nbsp;&nbsp; (cos),</span>
 &nbsp;</p>
<p>&nbsp;<span>.out_valid ()</span>
 &nbsp;</p>
<p>&nbsp;<span>);</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>always @(posedge clk) begin</span>
 &nbsp;</p>
<p>&nbsp;<span>i &lt;= adc * cos;</span>
 &nbsp;</p>
<p>&nbsp;<span>q &lt;= adc * sin;</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>MyCIC #(</span>
 &nbsp;</p>
<p>&nbsp;<span>.DATA_WIDTH(CIC_WIDTH)</span>
 &nbsp;</p>
<p>&nbsp;<span>) cic_inst_i (</span>
 &nbsp;</p>
<p>&nbsp;<span>.clk&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (clk),</span>
 &nbsp;</p>
<p>&nbsp;<span>.reset_n&nbsp;&nbsp; (1'b1),</span>
 &nbsp;</p>
<p>&nbsp;<span>.in_error&nbsp; (2'b00),</span>
 &nbsp;</p>
<p>&nbsp;<span>.in_valid&nbsp; (1'b1),</span>
 &nbsp;</p>
<p>&nbsp;<span>.in_ready&nbsp; (),</span>
 &nbsp;</p>
<p>&nbsp;<span>.in_data&nbsp;&nbsp; (i),</span>
 &nbsp;</p>
<p>&nbsp;<span>.out_data&nbsp; (icic),</span>
 &nbsp;</p>
<p>&nbsp;<span>.out_error (),</span>
 &nbsp;</p>
<p>&nbsp;<span>.out_valid (icic_valid),</span>
 &nbsp;</p>
<p>&nbsp;<span>.out_ready (1'b1)</span>
 &nbsp;</p>
<p>&nbsp;<span>);</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>MyCIC #(</span>
 &nbsp;</p>
<p>&nbsp;<span>.DATA_WIDTH(CIC_WIDTH)</span>
 &nbsp;</p>
<p>&nbsp;<span>) cic_inst_q (</span>
 &nbsp;</p>
<p>&nbsp;<span>.clk&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (clk),</span>
 &nbsp;</p>
<p>&nbsp;<span>.reset_n&nbsp;&nbsp; (1'b1),</span>
 &nbsp;</p>
<p>&nbsp;<span>.in_error&nbsp; (2'b00),</span>
 &nbsp;</p>
<p>&nbsp;<span>.in_valid&nbsp; (1'b1),</span>
 &nbsp;</p>
<p>&nbsp;<span>.in_ready&nbsp; (),</span>
 &nbsp;</p>
<p>&nbsp;<span>.in_data&nbsp;&nbsp; (q),</span>
 &nbsp;</p>
<p>&nbsp;<span>.out_data&nbsp; (qcic),</span>
 &nbsp;</p>
<p>&nbsp;<span>.out_error (),</span>
 &nbsp;</p>
<p>&nbsp;<span>.out_valid (qcic_valid),</span>
 &nbsp;</p>
<p>&nbsp;<span>.out_ready (1'b1)</span>
 &nbsp;</p>
<p>&nbsp;<span>);</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>MyFIR #(</span>
 &nbsp;</p>
<p>&nbsp;<span>.DATA_WIDTH(FIR_WIDTH)</span>
 &nbsp;</p>
<p>&nbsp;<span>) fir8_inst_i (</span>
 &nbsp;</p>
<p>&nbsp;<span>.clk&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (clk),</span>
 &nbsp;</p>
<p>&nbsp;<span>.reset_n&nbsp;&nbsp; (1'b1),</span>
 &nbsp;</p>
<p>&nbsp;<span>.ast_sink_data (icic[CIC_WIDTH-1 -gain -: FIR_WIDTH]),</span>
 &nbsp;</p>
<p>&nbsp;<span>.ast_sink_valid (icic_valid),</span>
 &nbsp;</p>
<p>&nbsp;<span>.ast_sink_error (2'b00),</span>
 &nbsp;</p>
<p>&nbsp;<span>.ast_source_data (ifir),</span>
 &nbsp;</p>
<p>&nbsp;<span>.ast_source_valid (ifir_valid),</span>
 &nbsp;</p>
<p>&nbsp;<span>.ast_source_error ()</span>
 &nbsp;</p>
<p>&nbsp;<span>);</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>MyFIR #(</span>
 &nbsp;</p>
<p>&nbsp;<span>.DATA_WIDTH(FIR_WIDTH)</span>
 &nbsp;</p>
<p>&nbsp;<span>) fir8_inst_q (</span>
 &nbsp;</p>
<p>&nbsp;<span>.clk&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (clk),</span>
 &nbsp;</p>
<p>&nbsp;<span>.reset_n&nbsp;&nbsp; (1'b1),</span>
 &nbsp;</p>
<p>&nbsp;<span>.ast_sink_data (qcic[CIC_WIDTH-1 -gain -: FIR_WIDTH]),</span>
 &nbsp;</p>
<p>&nbsp;<span>.ast_sink_valid (qcic_valid),</span>
 &nbsp;</p>
<p>&nbsp;<span>.ast_sink_error (2'b00),</span>
 &nbsp;</p>
<p>&nbsp;<span>.ast_source_data (qfir),</span>
 &nbsp;</p>
<p>&nbsp;<span>.ast_source_valid (qfir_valid),</span>
 &nbsp;</p>
<p>&nbsp;<span>.ast_source_error ()</span>
 &nbsp;</p>
<p>&nbsp;<span>);</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>vectran vectran_inst (</span>
 &nbsp;</p>
<p>&nbsp;<span>.clk&nbsp;&nbsp;&nbsp; (clk),</span>
 &nbsp;</p>
<p>&nbsp;<span>.areset (1'b0),</span>
 &nbsp;</p>
<p>&nbsp;<span>.x&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (ifir),</span>
 &nbsp;</p>
<p>&nbsp;<span>.y&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (qfir),</span>
 &nbsp;</p>
<p>&nbsp;<span>.q&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (phase),</span>
 &nbsp;</p>
<p>&nbsp;<span>.r&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (),</span>
 &nbsp;</p>
<p>&nbsp;<span>.en&nbsp;&nbsp;&nbsp;&nbsp; (ifir_valid)</span>
 &nbsp;</p>
<p>&nbsp;<span>);</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>always @(posedge clk) begin</span>
 &nbsp;</p>
<p>&nbsp;<span>if (ifir_valid) begin</span>
 &nbsp;</p>
<p>&nbsp;<span>phase_r &lt;= phase;</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>if (phase_diff &gt; PI) begin</span>
 &nbsp;</p>
<p>&nbsp;<span>freq &lt;= phase_diff - (PI &lt;&lt;&lt; 1);</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>else if (phase_diff &lt; -PI) begin</span>
 &nbsp;</p>
<p>&nbsp;<span>freq &lt;= phase_diff + (PI &lt;&lt;&lt; 1);</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>else begin</span>
 &nbsp;</p>
<p>&nbsp;<span>freq &lt;= phase_diff;</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>assign phase_diff = phase - phase_r;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>MyLPF #(</span>
 &nbsp;</p>
<p>&nbsp;<span>.DATA_WIDTH(FIR_WIDTH)</span>
 &nbsp;</p>
<p>&nbsp;<span>) lpf8_inst (</span>
 &nbsp;</p>
<p>&nbsp;<span>.clk&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (clk),</span>
 &nbsp;</p>
<p>&nbsp;<span>.reset_n&nbsp;&nbsp; (1'b1),</span>
 &nbsp;</p>
<p>&nbsp;<span>.ast_sink_data (freq[FIR_WIDTH-1 -: FIR_WIDTH]),</span>
 &nbsp;</p>
<p>&nbsp;<span>.ast_sink_valid (ifir_valid),</span>
 &nbsp;</p>
<p>&nbsp;<span>.ast_sink_error (2'b00),</span>
 &nbsp;</p>
<p>&nbsp;<span>.ast_source_data (freq_LPR),</span>
 &nbsp;</p>
<p>&nbsp;<span>.ast_source_valid (freq_LPR_valid),</span>
 &nbsp;</p>
<p>&nbsp;<span>.ast_source_error ()</span>
 &nbsp;</p>
<p>&nbsp;<span>);</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>MyDeEmphasis #(</span>
 &nbsp;</p>
<p>&nbsp;<span>.DATA_WIDTH(FIR_WIDTH)</span>
 &nbsp;</p>
<p>&nbsp;<span>) MyDeEmphasis_inst (</span>
 &nbsp;</p>
<p>&nbsp;<span>.clk (clk),</span>
 &nbsp;</p>
<p>&nbsp;<span>.reset_n (1'b1),</span>
 &nbsp;</p>
<p>&nbsp;<span>.in_data (freq_LPR),</span>
 &nbsp;</p>
<p>&nbsp;<span>.in_valid (freq_LPR_valid),</span>
 &nbsp;</p>
<p>&nbsp;<span>.out_data (freq_LPRD),</span>
 &nbsp;</p>
<p>&nbsp;<span>.out_valid (freq_LPRD_valid)</span>
 &nbsp;</p>
<p>&nbsp;<span>);</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>MyI2S #(</span>
 &nbsp;</p>
<p>&nbsp;<span>.IN_WIDTH(FIR_WIDTH)</span>
 &nbsp;</p>
<p>&nbsp;<span>) MyI2S_inst (</span>
 &nbsp;</p>
<p>&nbsp;<span>.clk (clk),</span>
 &nbsp;</p>
<p>&nbsp;<span>.reset_n (1'b1),</span>
 &nbsp;</p>
<p>&nbsp;<span>.volume (4'b1111 - volume),</span>
 &nbsp;</p>
<p>&nbsp;<span>.in_left (freq_LPRD),</span>
 &nbsp;</p>
<p>&nbsp;<span>.in_right (freq_LPRD),</span>
 &nbsp;</p>
<p>&nbsp;<span>.in_valid (freq_LPRD_valid),</span>
 &nbsp;</p>
<p>&nbsp;<span>.SCK (I2S_SCK),</span>
 &nbsp;</p>
<p>&nbsp;<span>.BCK (I2S_BCK),</span>
 &nbsp;</p>
<p>&nbsp;<span>.LRCK (I2S_LRCK),</span>
 &nbsp;</p>
<p>&nbsp;<span>.DATA (I2S_DATA)</span>
 &nbsp;</p>
<p>&nbsp;<span>);</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>//</span>
<span>assign daca = sin[11 -: 7];</span>
 &nbsp;</p>
<p>&nbsp;<span>//</span>
<span>assign dacb = cos[11 -: 7];</span>
 &nbsp;</p>
<p>&nbsp;<span>//</span>
<span>assign daca = i[CIC_WIDTH-1 -: 7];</span>
 &nbsp;</p>
<p>&nbsp;<span>//</span>
<span>assign dacb = q[CIC_WIDTH-1 -: 7];</span>
 &nbsp;</p>
<p>&nbsp;<span>//</span>
<span>assign daca = icic[CIC_WIDTH-1 -: 7]; // icic_valid</span>
 &nbsp;</p>
<p>&nbsp;<span>//</span>
<span>assign dacb = qcic[CIC_WIDTH-1 -: 7]; // qcic_valid</span>
 &nbsp;</p>
<p>&nbsp;<span>//</span>
<span>assign daca = ifir[FIR_WIDTH-1 -: 7]; // ifir_valid</span>
 &nbsp;</p>
<p>&nbsp;<span>//</span>
<span>assign dacb = qfir[FIR_WIDTH-1 -: 7]; // qfir_valid</span>
 &nbsp;</p>
<p>&nbsp;<span>//</span>
<span>assign daca = phase[FIR_WIDTH-1 -: 7]; // ifir_valid</span>
 &nbsp;</p>
<p>&nbsp;<span>//</span>
<span>assign dacb = freq[FIR_WIDTH -: 7]; // ifir_valid</span>
 &nbsp;</p>
<p>&nbsp;<span>//</span>
<span>assign daca = freq_LPR[FIR_WIDTH-1 -: 7]; // freq_LPR_valid</span>
 &nbsp;</p>
<p>&nbsp;<span>//</span>
<span>assign dacb = freq_LPRD[FIR_WIDTH-1 -: 7]; // freq_LPRD_valid</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>assign daca = i[CIC_WIDTH-1 -: 7];</span>
 &nbsp;</p>
<p>&nbsp;<span>assign dacb = ifir[FIR_WIDTH-1 -: 7];</span>
 &nbsp;</p>
<p>&nbsp;<span>always @(posedge clk) begin</span>
 &nbsp;</p>
<p>&nbsp;<span>DACA &lt;= (daca[6] == 0) ? daca + 7'h40 : daca - 7'h40;</span>
 &nbsp;</p>
<p>&nbsp;<span>if (ifir_valid)</span>
 &nbsp;</p>
<p>&nbsp;<span>DACB &lt;= (dacb[6] == 0) ? dacb + 7'h40 : dacb - 7'h40;</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>endmodule</span>
 &nbsp;</p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>æœ€å¾Œ</span>
<span>ã®</span>
<span>dac</span>
<span>aã€</span>
<span>dac</span>
<span>b</span>
<span>ã®ãƒ‡ãƒ¼ã‚¿ã‚’è‰²ã€…å¤‰ãˆã¦</span>
<span>ã€</span>
<span>R-2R DA</span>
<span>C</span>
<span>ã«æ¥ç¶šã—ãŸã‚ªã‚·ãƒ­ã‚¹ã‚³ãƒ¼ãƒ—ã§è¦³æ¸¬ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;</p>
<div></div>
<br />
&nbsp;<h2><b>
<span><b>4.2</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-23"><b>
<span><b>QsysCore.qsy</b></span>
<span><b>s</b></span>
<span><b>ä½œæˆæ‰‹é †</b></span>
</b></a>
</b></h2>
<p>&nbsp;<span>ãƒ¡ãƒ‹ãƒ¥</span>
<span>ãƒ¼</span>
<span>Tool</span>
<span>sâ†’</span>
<span>Platform Designe</span>
<span>rã§</span>
<span>Platform Designe</span>
<span>r</span>
<span>ã‚’èµ·å‹•ã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000073.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>SPI Slave to Avalon Master Bridge Intel FPGA I</span>
<span>P</span>
<span>ã‚’è¿½åŠ ã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000002.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000004.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>cl</span>
<span>kã€</span>
<span>clk_rese</span>
<span>t</span>
<span>ã‚’æ¥ç¶šã—ã¾ã™</span>
<span>ã€‚</span>
<span>export_</span>
<span>0ã®</span>
<span>Expor</span>
<span>t</span>
<span>æ¬„ã‚’ãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000067.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>PIO (Parallel I/O) Intel FPGA I</span>
<span>P</span>
<span>ã‚’è¿½åŠ ã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000059.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>3</span>
<span>2</span>
<span>ãƒ“ãƒƒãƒˆã«ã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000042.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>cl</span>
<span>kã€</span>
<span>rese</span>
<span>tã€</span>
<span>s</span>
<span>1</span>
<span>ã‚’æ¥ç¶šã—ã¾ã™</span>
<span>ã€‚</span>
<span>external_connectio</span>
<span>nã®</span>
<span>Expor</span>
<span>t</span>
<span>æ¬„ã‚’ãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000107.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>PIO (Parallel I/O) Intel FPGA I</span>
<span>P</span>
<span>ã‚’ã‚‚ã†ï¼‘ã¤è¿½åŠ ã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000054.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒã¶ã¤ã‹ã£ã¦ã„ã‚‹ã®ã§</span>
<span>ã€2</span>
<span>ã¤ç›®</span>
<span>ã®</span>
<span>PI</span>
<span>O</span>
<span>ã®ã‚¢ãƒ‰ãƒ¬ã‚¹</span>
<span>ã‚’</span>
<span>0x0000 0010</span>
<span>&nbsp;</span>
<span>ï¼&nbsp;0x0000 000</span>
<span>f</span>
<span>ã«å¤‰æ›´ã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000041.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000092.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000017.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>ã‚¨ãƒ©ãƒ¼ãŒç„¡ããªã‚Œã°å®Œæˆã§ã™ã€‚ãƒˆãƒƒãƒ—ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«è¿½åŠ ã™ã‚‹ãŸã‚ã«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ãƒ¡ãƒ¢å¸³ãªã©ã«ã‚³ãƒ”ãƒ¼ã—ã¦ãŠãã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000085.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000045.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>ã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000056.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000079.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000111.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000066.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000039.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000064.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>ãƒ¡ãƒ‹ãƒ¥</span>
<span>ãƒ¼</span>
<span>Projec</span>
<span>tâ†’</span>
<span>Add/Remove Files in Project</span>
<span>...</span>
<span>ã§ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’è¡¨ç¤ºã—ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ</span>
<span>ã«</span>
<span>QsysCore.qi</span>
<span>p</span>
<span>ã‚’è¿½åŠ ã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000031.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000109.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;</p>
<div></div>
<br />
&nbsp;<h1><b>
<span><b>5</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-24"><b>
<span><b>Arduin</b></span>
<span><b>o</b></span>
<span><b>ã‚¹ã‚±ãƒƒãƒã‹</b></span>
<span><b>ã‚‰L</b></span>
<span><b>ãƒã‚«</b></span>
</b></a>
</b></h1>
<p>&nbsp;<span>ESP3</span>
<span>2ã¨</span>
<span>FPG</span>
<span>A</span>
<span>ã®é–“</span>
<span>ã®</span>
<span>SP</span>
<span>I</span>
<span>æ¥ç¶šã‚’ç¢ºèªã™ã‚‹ãŸã‚</span>
<span>ã€</span>
<span>Arduin</span>
<span>o</span>
<span>ã‚¹ã‚±ãƒƒãƒã‹</span>
<span>ã‚‰</span>
<span>FPG</span>
<span>A</span>
<span>ãƒœãƒ¼</span>
<span>ãƒ‰</span>
<span>MAX100</span>
<span>0</span>
<span>ä¸Š</span>
<span>ã®</span>
<span>LE</span>
<span>D</span>
<span>ã‚’ç‚¹æ»…ã—ã¦ã¿ã¾ã™</span>
<span>ã€‚</span>
<span><b>PIO</b></span>
<span><b>0ã¯</b></span>
<span><b>F</b></span>
<span><b>M</b></span>
<span><b>ãƒ©ã‚¸ã‚ªã®éŸ³é‡èª¿ç¯€ã¨å…¼ç”¨ãªã®ã§ãƒŸãƒ‹ã‚¸ãƒ£ãƒƒã‚¯ã‹ã‚‰ã‚¤ãƒ¤ãƒ›ãƒ³ã‚’å¤–ã—ã¦ãã ã•ã„ã€‚</b></span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000024.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<h2><b>
<span><b>5.1</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-25"><b>
<span><b>ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚±ãƒƒ</b></span>
<span><b>ãƒ</b></span>
<span><b>AvalonPacket_LED_Swee</b></span>
<span><b>p</b></span>
<span><b>ã‚’ä½¿ã†</b></span>
</b></a>
</b></h2>
<p>&nbsp;<span>AvalonPacke</span>
<span>t</span>
<span>ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«åŒæ¢±ã•ã‚Œã¦ã„ã‚‹ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚±ãƒƒ</span>
<span>ãƒ</span>
<span>AvalonPacket_LED_Sweep.in</span>
<span>o</span>
<span>ã‚’é–‹ãã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000050.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>ESP3</span>
<span>2</span>
<span>ã«æ›¸ãè¾¼ã‚€</span>
<span>ã¨</span>
<span>FPG</span>
<span>A</span>
<span>ãƒœãƒ¼</span>
<span>ãƒ‰</span>
<span>MAX100</span>
<span>0</span>
<span>ä¸Š</span>
<span>ã®</span>
<span>LE</span>
<span>D</span>
<span>ã®è¡¨ç¤ºãŒã‚«ã‚¦ãƒ³ãƒˆã‚¢ãƒƒãƒ—ã—ã¦ã„ãã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<span>SP</span>
<span>I</span>
<span>é€šä¿¡ãŒæ­£å¸¸ãªå ´</span>
<span>åˆ</span>
<span>0x8</span>
<span>0ã€</span>
<span>0x</span>
<span>0ã€</span>
<span>0x</span>
<span>0ã€</span>
<span>0x</span>
<span>4</span>
<span>ã®ï¼”ãƒã‚¤ãƒˆã®å¿œç­”</span>
<span>ãŒ</span>
<span>Arduino ID</span>
<span>E</span>
<span>ã®ã‚·ãƒªã‚¢ãƒ«ãƒ¢ãƒ‹ã‚¿ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ç•°ãªã‚‹å€¤ãŒè¡¨ç¤ºã•ã‚Œã‚‹å ´åˆ</span>
<span>ã¯</span>
<span>SP</span>
<span>I</span>
<span>æ¥ç¶šã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000065.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>LE</span>
<span>D</span>
<span>ãŒæœŸå¾…é€šã‚Šç‚¹æ»…ã™ã‚‹å ´åˆã€ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚±ãƒƒ</span>
<span>ãƒ</span>
<span>AvalonPacket_FM_Radio.in</span>
<span>o</span>
<span>ã«æˆ»ã—ã¦ãŠãã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<h2><b>
<span><b>5.2</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-26"><b>
<span><b>ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚±ãƒƒ</b></span>
<span><b>ãƒ</b></span>
<span><b>AvalonPacket_LED_Swee</b></span>
<span><b>p</b></span>
<span><b>ã®å†…å®¹</b></span>
</b></a>
</b></h2>
<p>&nbsp;<span>ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚±ãƒƒ</span>
<span>ãƒ</span>
<span>AvalonPacket_LED_Sweep.in</span>
<span>o</span>
<span>ã®å†…å®¹ã¯æ¬¡ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚</span>
 &nbsp;</p>
<table cellspacing="0" cellpadding="0" border="1">
<tbody>
<tr>
<td>
<p>&nbsp;<span>#include &lt;SPI.h&gt;</span>
 &nbsp;</p>
<p>&nbsp;<span>#include &lt;AvalonPacket.h&gt;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>AvalonPacket ap = AvalonPacket();</span>
 &nbsp;</p>
<p>&nbsp;<span>byte response[4];</span>
 &nbsp;</p>
<p>&nbsp;<span>int responseSize;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>unsigned long p0;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>void setup() {</span>
 &nbsp;</p>
<p>&nbsp;<span>Serial.begin(57600);</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>delay(1000); // Wait until FPGA is configured</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>p0 = 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>void loop() {</span>
 &nbsp;</p>
<p>&nbsp;<span>responseSize = ap.write(0, p0++, response);</span>
 &nbsp;</p>
<p>&nbsp;<span>ap.printBytes(response, responseSize);</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>delay(1000);</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>responseSize = ap.write(0, p0++, response</span>
<span>)ã§</span>
<span>PI</span>
<span>O</span>
<span>ã«ã‚«ã‚¦ãƒ³ãƒˆã‚¢ãƒƒãƒ—ã—ã¦ã„ããƒ‡ãƒ¼</span>
<span>ã‚¿</span>
<span>p</span>
<span>0</span>
<span>ãŒæ›¸ãè¾¼ã¾ã‚Œã¾ã™</span>
<span>ã€‚</span>
<span>unsigned lon</span>
<span>g</span>
<span>ã®ï¼”ãƒã‚¤ãƒˆãƒ‡ãƒ¼ã‚¿ãŒæ­£å¸¸ã«æ›¸ãè¾¼ã¾ã‚ŒãŸå ´åˆ</span>
<span>ã€</span>
<span>0x8</span>
<span>0ã€</span>
<span>0x</span>
<span>0ã€</span>
<span>0x</span>
<span>0ã€</span>
<span>0x</span>
<span>4</span>
<span>ã®ï¼”ãƒã‚¤ãƒˆã®å¿œç­”ãŒè¿”ã£ã¦ãã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;</p>
<div></div>
<br />
&nbsp;<h1><b>
<span><b>6</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-27"><b>
<span><b>æ‰‹ä½œ</b></span>
<span><b>ã‚Š</b></span>
<span><b>R-2R DAC</b></span>
</b></a>
</b></h1>
<p>&nbsp;<span>æ‰‹ä½œ</span>
<span>ã‚Š</span>
<span>R-2R DA</span>
<span>C</span>
<span>ã‚’ç¢ºèªã™ã‚‹ãŸã‚</span>
<span>ã€</span>
<span>LE</span>
<span>D</span>
<span>ã‚’ç‚¹æ»…ã•ã›ã¦ã„ã‚‹ãƒ‡ãƒ¼ã‚¿</span>
<span>ã‚’</span>
<span>R-2R DA</span>
<span>C</span>
<span>ã«ã‚‚å‡ºåŠ›ã—ã¦ã‚ªã‚·ãƒ­ã‚¹ã‚³ãƒ¼ãƒ—ã§è¡¨ç¤ºã—ã¾ã™</span>
<span>ã€‚</span>
<span><b>PIO</b></span>
<span><b>0ã¯</b></span>
<span><b>F</b></span>
<span><b>M</b></span>
<span><b>ãƒ©ã‚¸ã‚ªã®éŸ³é‡èª¿ç¯€ã¨å…¼ç”¨ãªã®ã§ãƒŸãƒ‹ã‚¸ãƒ£ãƒƒã‚¯ã‹ã‚‰ã‚¤ãƒ¤ãƒ›ãƒ³ã‚’å¤–ã—ã¦ãã ã•ã„ã€‚</b></span>
 &nbsp;</p>
<p>&nbsp;<span>å¥¥</span>
<span>ãŒ</span>
<span>DAC</span>
<span>A</span>
<span>ã€æ‰‹å‰</span>
<span>ãŒ</span>
<span>DAC</span>
<span>B</span>
<span>ã§ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000016.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<h2><b>
<span><b>6.1</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-28"><b>
<span><b>ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚±ãƒƒ</b></span>
<span><b>ãƒ</b></span>
<span><b>AvalonPacket_LED_Swee</b></span>
<span><b>p</b></span>
<span><b>ã‚’å¤‰æ›´</b></span>
</b></a>
</b></h2>
<p>&nbsp;<span>L</span>
<span>ãƒã‚«ã«ä½¿ã£ãŸã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚±ãƒƒ</span>
<span>ãƒ</span>
<span>AvalonPacket_LED_Swee</span>
<span>p</span>
<span>ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«å‡ºåŠ›</span>
<span>ã¨</span>
<span>delay(</span>
<span>)</span>
<span>ã®è¡Œã‚’ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã—ã¦ä½¿ã„ã¾ã™ã€‚</span>
 &nbsp;</p>
<table cellspacing="0" cellpadding="0" border="1">
<tbody>
<tr>
<td>
<p>&nbsp;<span>#include &lt;SPI.h&gt;</span>
 &nbsp;</p>
<p>&nbsp;<span>#include &lt;AvalonPacket.h&gt;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>AvalonPacket ap = AvalonPacket();</span>
 &nbsp;</p>
<p>&nbsp;<span>byte response[4];</span>
 &nbsp;</p>
<p>&nbsp;<span>int responseSize;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>unsigned long p0;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>void setup() {</span>
 &nbsp;</p>
<p>&nbsp;<span>Serial.begin(57600);</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>delay(1000); // Wait until FPGA is configured</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>p0 = 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>void loop() {</span>
 &nbsp;</p>
<p>&nbsp;<span>responseSize = ap.write(0, p0++, response);</span>
 &nbsp;</p>
<p>&nbsp;<span>//</span>
<span>ap.printBytes(response, responseSize);</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>//</span>
<span>delay(1000);</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<h2><b>
<span><b>6.2</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-29"><b>
<span><b>DAC</b></span>
<span><b>Aã€</b></span>
<span><b>DAC</b></span>
<span><b>B</b></span>
<span><b>ã®å‡ºåŠ›å†…å®¹ã‚’å¤‰æ›´</b></span>
</b></a>
</b></h2>
<p>&nbsp;<span>ãƒˆãƒƒãƒ—ãƒ¢ã‚¸ãƒ¥ãƒ¼</span>
<span>ãƒ«</span>
<span>top.</span>
<span>v</span>
<span>ã‚’è¡¨ç¤ºã—ã€æœ€å¾Œã«ã‚</span>
<span>ã‚‹</span>
<span>DAC</span>
<span>Aã€</span>
<span>DAC</span>
<span>B</span>
<span>ã«å€¤ã‚’ã‚»ãƒƒãƒˆã—ã¦ã„ã‚‹ç®‡æ‰€ã‚’æ›¸ãæ›ãˆã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000113.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>ã‚¢ãƒ‰ãƒ¬</span>
<span>ã‚¹</span>
<span>0x</span>
<span>0ã®</span>
<span>PI</span>
<span>O</span>
<span>ã®ä¸‹ä½ï¼—ãƒ“ãƒƒãƒˆ</span>
<span>ã‚’</span>
<span>DAC</span>
<span>A</span>
<span>ã«ã€ãƒ“ãƒƒãƒˆåè»¢ã—ãŸï¼—ãƒ“ãƒƒãƒˆ</span>
<span>ã‚’</span>
<span>DAC</span>
<span>B</span>
<span>ã«æ¥ç¶šã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<table cellspacing="0" cellpadding="0" border="1">
<tbody>
<tr>
<td>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>//</span>
<span>assign daca = i[CIC_WIDTH-1 -: 7];</span>
 &nbsp;</p>
<p>&nbsp;<span>//</span>
<span>assign dacb = ifir[FIR_WIDTH-1 -: 7];</span>
 &nbsp;</p>
<p>&nbsp;<span>always @(posedge clk) begin</span>
 &nbsp;</p>
<p>&nbsp;<span>DACA &lt;= pio0[6:0];</span>
 &nbsp;</p>
<p>&nbsp;<span>DACB &lt;= ~pio0[6:0];</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>endmodule</span>
 &nbsp;</p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>æŠµæŠ—ã®å€¤ã®ã°ã‚‰ã¤ãã®ãŸã‚ç›´ç·šã«ãªã£ã¦ã„ã¾ã›ã‚“ãŒã€ä¸‹å›³ã®ã‚ˆã†ãªè¡¨ç¤ºã«ãªã‚Šã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000055.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<h2><b>
<span><b>6.3</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-30"><b>
<span><b>ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚±ãƒƒ</b></span>
<span><b>ãƒ</b></span>
<span><b>AvalonPacket_LE</b></span>
<span><b>D</b></span>
<span><b>ã‚’ä½¿ã†</b></span>
</b></a>
</b></h2>
<p>&nbsp;<span>ã‚ªã‚·ãƒ­ã‚¹ã‚³ãƒ¼ãƒ—ã®è¡¨ç¤ºã‹</span>
<span>ã‚‰</span>
<span>R-2R DA</span>
<span>C</span>
<span>ã®å‡ºåŠ›ã«ç•°å¸¸ãŒè¦‹ã¤ã‹ã£ãŸå ´åˆã¯</span>
<span>ã€</span>
<span>Arduino ID</span>
<span>E</span>
<span>ã®ã‚·ãƒªã‚¢ãƒ«ãƒ¢ãƒ‹ã‚¿ã‹ã‚‰å…¥åŠ›ã—ãŸæ•°å€¤</span>
<span>ã§</span>
<span>PIO</span>
<span>0</span>
<span>ã®å€¤ã‚’è¨­å®šã§ãã‚‹ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚±ãƒƒ</span>
<span>ãƒ</span>
<span>AvalonPacket_LED.in</span>
<span>o</span>
<span>ã‚’é–‹ãã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<table cellspacing="0" cellpadding="0" border="1">
<tbody>
<tr>
<td>
<p>&nbsp;<span>#include &lt;SPI.h&gt;</span>
 &nbsp;</p>
<p>&nbsp;<span>#include &lt;AvalonPacket.h&gt;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>AvalonPacket ap = AvalonPacket();</span>
 &nbsp;</p>
<p>&nbsp;<span>byte response[4];</span>
 &nbsp;</p>
<p>&nbsp;<span>int responseSize;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>unsigned long hexToULong(String str) {</span>
 &nbsp;</p>
<p>&nbsp;<span>char buf[80];</span>
 &nbsp;</p>
<p>&nbsp;<span>str.toCharArray(buf, 80);</span>
 &nbsp;</p>
<p>&nbsp;<span>Serial.println(buf);</span>
 &nbsp;</p>
<p>&nbsp;<span>return strtoul(buf, 0, 16);</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>void setup() {</span>
 &nbsp;</p>
<p>&nbsp;<span>Serial.begin(57600);</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>delay(1000); // Wait until FPGA is configured</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>Serial.setTimeout(-1);</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>void loop() {</span>
 &nbsp;</p>
<p>&nbsp;<span>String str = Serial.readStringUntil('Â¥n');</span>
 &nbsp;</p>
<p>&nbsp;<span>unsigned long i = hexToULong(str);</span>
 &nbsp;</p>
<p>&nbsp;<span>responseSize = ap.write(0, i, response);</span>
 &nbsp;</p>
<p>&nbsp;<span>ap.printBytes(response, responseSize);</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>ã‚·ãƒªã‚¢ãƒ«ãƒ¢ãƒ‹ã‚¿ã‹ã‚‰æ•°å€¤ã‚’å…¥åŠ›ã—ãŸã¨ãä»¥</span>
<span>å¤–</span>
<span>DA</span>
<span>C</span>
<span>ã®å‡ºåŠ›ãŒå¤‰åŒ–ã—ãªã„ã®ã§ã€ã‚ªã‚·ãƒ­ã‚¹ã‚³ãƒ¼ãƒ—</span>
<span>ã‚’</span>
<span>D</span>
<span>C</span>
<span>å…¥åŠ›ã«ã—ã¾ã™ã€‚ç¢ºèªã—ãŸã„ãƒ“ãƒƒãƒˆã®å€¤ã ã‘ã‚’å¤‰åŒ–ã•ã›ã€é…ç·šãƒŸã‚¹ã‚’ãƒã‚§ãƒƒã‚¯ã§ãã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000029.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>DA</span>
<span>C</span>
<span>ã®å‡ºåŠ›ãŒæœŸå¾…é€šã‚Šã«å¤‰åŒ–ã™ã‚‹å ´åˆã€ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚±ãƒƒ</span>
<span>ãƒ</span>
<span>AvalonPacket_FM_Radio.in</span>
<span>o</span>
<span>ã«æˆ»ã—ã¦ãŠãã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;</p>
<div></div>
<br />
&nbsp;<h1><b>
<span><b>7</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-31"><b>
<span><b>PLL</b></span>
</b></a>
</b></h1>
<p>&nbsp;<span>è‡ª</span>
<span>ä½œ</span>
<span>NC</span>
<span>O</span>
<span>ã®èª¬æ˜ã®å‰ã«</span>
<span>ã€</span>
<span>AD</span>
<span>C</span>
<span>ã®ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°å‘¨æ³¢æ•°ã‚’æ±ºã‚ã¦ã€ãã®å‘¨æ³¢æ•°</span>
<span>ã‚’</span>
<span>PL</span>
<span>L</span>
<span>ã§ç”Ÿæˆã—ã‚·ã‚¹ãƒ†ãƒ ã‚¯ãƒ­ãƒƒã‚¯ã¨ã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<span>AD</span>
<span>C</span>
<span>ã®ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°å‘¨æ³¢æ•°</span>
<span>ã‚’</span>
<span>70MSp</span>
<span>s</span>
<span>ä½ã«ã™ã‚‹ã¨</span>
<span>ã€</span>
<span>70MHz~35MH</span>
<span>zã€</span>
<span>70MHz~105MH</span>
<span>zã€</span>
<span>140MHz~105MH</span>
<span>zã€</span>
<span>140MHz~175MH</span>
<span>z</span>
<span>ã€...ã®ä¿¡å·</span>
<span>ãŒ</span>
<span>0Hz~35MH</span>
<span>z</span>
<span>ã®ä¿¡å·ã¨ã—</span>
<span>ã¦</span>
<span>AD</span>
<span>C</span>
<span>ã‹ã‚‰å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<span>éŸ³å£°å‡ºåŠ›ç”¨</span>
<span>ã®</span>
<span>I2S DA</span>
<span>C</span>
<span>ã®ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°å‘¨æ³¢æ•°</span>
<span>ãŒ</span>
<span>48kSp</span>
<span>s</span>
<span>ã§</span>
<span>ã€</span>
<span>F</span>
<span>M</span>
<span>å¾©èª¿ã«å¿…è¦ãªå¸¯åŸŸ</span>
<span>ãŒ</span>
<span>400kH</span>
<span>z</span>
<span>ä½ãªã®</span>
<span>ã§</span>
<span>48kH</span>
<span>z</span>
<span>ã®ï¼˜å€</span>
<span>ã®</span>
<span>384kSp</span>
<span>s</span>
<span>ã¨ã—ã¦</span>
<span>ã€</span>
<span>AD</span>
<span>C</span>
<span>ã®ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°å‘¨æ³¢æ•°</span>
<span>ã¯</span>
<span>384kH</span>
<span>zã®</span>
<span>19</span>
<span>2</span>
<span>å€</span>
<span>ã®</span>
<span>73.728MSp</span>
<span>s</span>
<span>ã¨ã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<span>F</span>
<span>M</span>
<span>æ”¾é€ã®å¸¯åŸŸã‚’å«ã‚“</span>
<span>ã </span>
<span>73.728MHz~110.592MH</span>
<span>z</span>
<span>ã®ä¿¡å·</span>
<span>ãŒ</span>
<span>0Hz~36.864MH</span>
<span>z</span>
<span>ã®ä¿¡å·ã¨ã—</span>
<span>ã¦</span>
<span>AD</span>
<span>C</span>
<span>ã‹ã‚‰å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<h2><b>
<span><b>7.1</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-32"><b>
<span><b>pll.qi</b></span>
<span><b>p</b></span>
<span><b>ä½œæˆæ‰‹é †</b></span>
</b></a>
</b></h2>
<p>&nbsp;<span>Quartus Prime Lite Editio</span>
<span>n</span>
<span>ã§æä¾›ã•ã‚Œã¦ã„</span>
<span>ã‚‹</span>
<span>ALTPLL I</span>
<span>P</span>
<span>ã§ä½œæˆã—</span>
<span>ãŸ</span>
<span>pl</span>
<span>l</span>
<span>ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’è¿½åŠ ã—ã¦</span>
<span>ã€</span>
<span>FPG</span>
<span>A</span>
<span>ã«ä¾›çµ¦ã•ã‚Œ</span>
<span>ã‚‹</span>
<span>12MH</span>
<span>z</span>
<span>ã®ã‚¯ãƒ­ãƒƒã‚¯å…¥</span>
<span>åŠ›</span>
<span>CL</span>
<span>K</span>
<span>ã‹</span>
<span>ã‚‰</span>
<span>73.728MH</span>
<span>z</span>
<span>ã®ã‚·ã‚¹ãƒ†ãƒ ã‚¯ãƒ­ãƒƒ</span>
<span>ã‚¯</span>
<span>cl</span>
<span>k</span>
<span>ã‚’ç”Ÿæˆã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000099.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>ä½œæˆã™ã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®åå‰</span>
<span>ã‚’</span>
<span>pl</span>
<span>l</span>
<span>ã¨ã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000049.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>è©•ä¾¡ãƒœãƒ¼</span>
<span>ãƒ‰</span>
<span>MAX100</span>
<span>0</span>
<span>ã«è¼‰ã£ã¦ã„ã‚‹ã‚¯ãƒ­ãƒƒã‚¯</span>
<span>ã¯</span>
<span>12MH</span>
<span>z</span>
<span>ã§ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000008.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>ãƒªã‚»ãƒƒãƒˆå…¥åŠ›ã€ãƒ­ãƒƒã‚¯å‡ºåŠ›ã¯ä»Šå›ä½¿ã‚ãªã„ã®ã§å‰Šé™¤ã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000021.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>ã‚¯ãƒ­ãƒƒã‚¯å‡ºåŠ›å‘¨æ³¢æ•°</span>
<span>ã«</span>
<span>73.728MH</span>
<span>z</span>
<span>ã‚’è¨­å®šã—ã¾ã™ãŒ</span>
<span>ã€</span>
<span>12MH</span>
<span>z</span>
<span>ã®ã‚¯ãƒ­ãƒƒã‚¯ã‚’ä½¿ã£ã¦å‡ºåŠ›ã§ãã‚‹ä¸€ç•ªè¿‘ã„å‘¨æ³¢æ•°</span>
<span>ã¯</span>
<span>73.714286MH</span>
<span>z</span>
<span>ã®ã‚ˆã†ã§ã™ã€‚éŸ³å£°å‡ºåŠ›ç”¨</span>
<span>ã®</span>
<span>I2S DA</span>
<span>C</span>
<span>ã¯ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°å‘¨æ³¢æ•°</span>
<span>ãŒ</span>
<span>47.99kSp</span>
<span>s</span>
<span>ã«ãªã‚Šã¾ã™ãŒå•é¡Œãªãå‹•ä½œã—ã¾ã—ãŸã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000072.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>ä½œæˆã—ãŸãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ãƒˆãƒƒãƒ—ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«è¿½åŠ ã™ã‚‹ã¨ãå‚è€ƒã«ã™ã‚‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚‚å‡ºåŠ›ã—ã¦ãŠãã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000097.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>ä½œæˆã—ãŸãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«è¿½åŠ ã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000117.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;</p>
<div></div>
<br />
&nbsp;<h1><b>
<span><b>8</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-33"><b>
<span><b>è‡ª</b></span>
<span><b>ä½œ</b></span>
<span><b>NCO</b></span>
</b></a>
</b></h1>
<p>&nbsp;<span>Quartus Prime Lite Editio</span>
<span>n</span>
<span>ã«æ·»ä»˜ã•ã‚Œã¦ã„</span>
<span>ã‚‹</span>
<span>NC</span>
<span>Oã€</span>
<span>CI</span>
<span>C</span>
<span>ãƒ•ã‚£ãƒ«ã‚¿ã¯è©•ä¾¡ç‰ˆã®ã‚ˆã†ã§ã€ã‚³ãƒ³ãƒ•ã‚£ã‚°æ™‚ã«è¡¨ç¤ºã•ã‚Œã‚‹ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’é–‰ã˜ã‚‹ã¨å‹•ä½œãŒåœæ­¢ã—ã¦ã—ã¾ã„ã¾ã™ã€‚ï¼ˆã—ã‹ã‚‚ä¸€åº¦è¿½åŠ ã™ã‚‹ã¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰å‰Šé™¤ã—ã¦ã‚‚ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ï¼‰ã¾ãŸ</span>
<span>ã€</span>
<span>FI</span>
<span>R</span>
<span>ãƒ•ã‚£ãƒ«ã‚¿ã¯ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’è¡¨ç¤ºã—ã¾ã›ã‚“ãŒã€ãªãœã‹æœŸå¾…é€šã‚Šã®å‹•ä½œã‚’ã•ã›ã‚‹ã“ã¨ãŒã§ãã¾ã›ã‚“ã§ã—ãŸã€‚</span>
 &nbsp;</p>
<p>&nbsp;<span>ãã“ã§</span>
<span>ã€</span>
<span>NC</span>
<span>Oã€</span>
<span>CI</span>
<span>C</span>
<span>ãƒ•ã‚£ãƒ«ã‚¿</span>
<span>ã€</span>
<span>FI</span>
<span>R</span>
<span>ãƒ•ã‚£ãƒ«ã‚¿ã‚’è‡ªä½œã™ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000060.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<h2><b>
<span><b>8.1</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-34"><b>
<span><b>ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚±ãƒƒ</b></span>
<span><b>ãƒ</b></span>
<span><b>AvalonPacket_NC</b></span>
<span><b>O</b></span>
<span><b>ã‚’ä½¿ã†</b></span>
</b></a>
</b></h2>
<p>&nbsp;<span>Arduino ID</span>
<span>E</span>
<span>ã®ã‚·ãƒªã‚¢ãƒ«ãƒ¢ãƒ‹ã‚¿ã«å‘¨æ³¢æ•°ã‚’å…¥åŠ›ã—</span>
<span>ã€</span>
<span>FPG</span>
<span>A</span>
<span>å†…éƒ¨ã«è¨­ç½®ã—</span>
<span>ãŸ</span>
<span>PIO</span>
<span>1</span>
<span>çµŒç”±</span>
<span>ã§</span>
<span>NC</span>
<span>O</span>
<span>ã®å‘¨æ³¢æ•°ã‚’è¨­å®šã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000046.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<h2><b>
<span><b>8.2</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-35"><b>
<span><b>DAC</b></span>
<span><b>Aã€</b></span>
<span><b>DAC</b></span>
<span><b>B</b></span>
<span><b>ã®å‡ºåŠ›å†…å®¹ã‚’å¤‰æ›´</b></span>
</b></a>
</b></h2>
<p>&nbsp;<span>ãƒˆãƒƒãƒ—ãƒ¢ã‚¸ãƒ¥ãƒ¼</span>
<span>ãƒ«</span>
<span>top.</span>
<span>v</span>
<span>ã‚’è¡¨ç¤ºã—ã€æœ€å¾Œã«ã‚</span>
<span>ã‚‹</span>
<span>DAC</span>
<span>Aã€</span>
<span>DAC</span>
<span>B</span>
<span>ã«å€¤ã‚’ã‚»ãƒƒãƒˆã—ã¦ã„ã‚‹ç®‡æ‰€ã‚’æ›¸ãæ›ãˆã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000069.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>NC</span>
<span>Oã®</span>
<span>SI</span>
<span>Nã€</span>
<span>CO</span>
<span>S</span>
<span>å‡ºåŠ›</span>
<span>ã®</span>
<span>MS</span>
<span>B</span>
<span>å´ï¼—ãƒ“ãƒƒãƒˆã‚’ãã‚Œã</span>
<span>ã‚Œ</span>
<span>R-2R DA</span>
<span>Cã®</span>
<span>DAC</span>
<span>Aã€</span>
<span>DAC</span>
<span>B</span>
<span>ã«æ¥ç¶šã—ã€ã‚ªã‚·ãƒ­ã‚¹ã‚³ãƒ¼ãƒ—ã§ç¢ºèªã—ã¾ã™</span>
<span>ã€‚</span>
<span>NC</span>
<span>O</span>
<span>ã®å‡ºåŠ›ã¯ç¬¦å·ä»˜ã</span>
<span>ã€</span>
<span>R-2R DA</span>
<span>C</span>
<span>ã®å…¥åŠ›ã¯ç¬¦å·ç„¡ã—ãªã®ã§å¤‰æ›ã—ã¦ã„ã¾ã™ã€‚</span>
 &nbsp;</p>
<table cellspacing="0" cellpadding="0" border="1">
<tbody>
<tr>
<td>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
<span>assign daca = sin[11 -: 7];</span>
 &nbsp;</p>
<p>&nbsp;<span>assign dacb = cos[11 -: 7];</span>
 &nbsp;</p>
<p>&nbsp;<span>always @(posedge clk) begin</span>
 &nbsp;</p>
<p>&nbsp;<span>DACA &lt;= (daca[6] == 0) ? daca + 7'h40 : daca - 7'h40;</span>
 &nbsp;</p>
<p>&nbsp;<span>DACB &lt;= (dacb[6] == 0) ? dacb + 7'h40 : dacb - 7'h40;</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>endmodule</span>
 &nbsp;</p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>ã‚ªã‚·ãƒ­ã‚¹ã‚³ãƒ¼ãƒ—</span>
<span>ã®</span>
<span>DAC</span>
<span>A</span>
<span>ã«æ¥ç¶šã•ã‚Œ</span>
<span>ãŸ</span>
<span>CH</span>
<span>1ã«</span>
<span>SI</span>
<span>N</span>
<span>æ³¢å½¢ãŒ</span>
<span>ã€</span>
<span>DAC</span>
<span>B</span>
<span>ã«æ¥ç¶šã•ã‚Œ</span>
<span>ãŸ</span>
<span>CH</span>
<span>2ã«</span>
<span>CO</span>
<span>S</span>
<span>æ³¢å½¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000116.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<h2><b>
<span><b>8.3</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-36"><b>
<span><b>ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚±ãƒƒ</b></span>
<span><b>ãƒ</b></span>
<span><b>AvalonPacket_NC</b></span>
<span><b>O</b></span>
<span><b>ã®å†…å®¹</b></span>
</b></a>
</b></h2>
<p>&nbsp;<span>ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚±ãƒƒ</span>
<span>ãƒ</span>
<span>AvalonPacket_NC</span>
<span>O</span>
<span>ã¯ã€ã‚·ãƒªã‚¢ãƒ«ãƒ¢ãƒ‹ã‚¿ã«å…¥åŠ›ã•ã‚ŒãŸè¨­å®šå‘¨æ³¢æ•°ã‹ã‚‰ã‚¯ãƒ­ãƒƒã‚¯å½“ãŸã‚Šã®ä½ç›¸å¢—åˆ†ã‚’æ±‚ã‚</span>
<span>ã¦</span>
<span>NC</span>
<span>O</span>
<span>ã«è¨­å®šã—ã¦ã„ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>ã‚¯ãƒ­ãƒƒã‚¯å½“ãŸã‚Šã®ä½ç›¸å¢—åˆ†&nbsp;= 0x100000000&nbsp;</span>
<span>*</span>
<span>ï¼ˆè¨­å®šå‘¨æ³¢æ•°&nbsp;/</span>
<span>&nbsp;</span>
<span>ã‚¯ãƒ­ãƒƒã‚¯å‘¨æ³¢æ•°ï¼‰</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<table cellspacing="0" cellpadding="0" border="1">
<tbody>
<tr>
<td>
<p>&nbsp;<span>#include &lt;SPI.h&gt;</span>
 &nbsp;</p>
<p>&nbsp;<span>#include &lt;AvalonPacket.h&gt;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>AvalonPacket ap = AvalonPacket();</span>
 &nbsp;</p>
<p>&nbsp;<span>byte response[4];</span>
 &nbsp;</p>
<p>&nbsp;<span>int responseSize;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>unsigned long freqToPhaseInc(double freq) { // in Hz</span>
 &nbsp;</p>
<p>&nbsp;<span>double clk = 73714286; // 73.714286MHz</span>
 &nbsp;</p>
<p>&nbsp;<span>double phaseInc360 = (double)0x80000000UL * 2; // 32bits full scale</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>if (freq &gt;= clk)</span>
 &nbsp;</p>
<p>&nbsp;<span>freq -= clk;</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>return (unsigned long)(phaseInc360 * (freq / clk));</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>void setup() {</span>
 &nbsp;</p>
<p>&nbsp;<span>Serial.begin(57600);</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>delay(1000); // Wait until FPGA is configured</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>Serial.setTimeout(-1);</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>void loop() {</span>
 &nbsp;</p>
<p>&nbsp;<span>String str = Serial.readStringUntil('Â¥n');</span>
 &nbsp;</p>
<p>&nbsp;<span>double freq = str.toDouble();</span>
 &nbsp;</p>
<p>&nbsp;<span>unsigned long i = freqToPhaseInc(freq);</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>Serial.println(freq);</span>
 &nbsp;</p>
<p>&nbsp;<span>responseSize = ap.write(0x10, i, response);</span>
 &nbsp;</p>
<p>&nbsp;<span>ap.printBytes(response, responseSize);</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<h2><b>
<span><b>8.4</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-37"><b>
<span><b>ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚±ãƒƒ</b></span>
<span><b>ãƒ</b></span>
<span><b>AvalonPacket_NCO_Touc</b></span>
<span><b>h</b></span>
<span><b>ã‚’ä½¿ã†</b></span>
</b></a>
</b></h2>
<p>&nbsp;<span>å‘¨æ³¢æ•°ã‚’å¤‰æ›´ã™ã‚‹ãŸã³ã«ã‚·ãƒªã‚¢ãƒ«ãƒ¢ãƒ‹ã‚¿ã«æ•°å€¤ã‚’å…¥åŠ›ã™ã‚‹ã®ã¯å¤§å¤‰ãªã®ã§</span>
<span>ã€</span>
<span>ESP3</span>
<span>2</span>
<span>ã®ã‚¿ãƒƒãƒã‚»ãƒ³ã‚µãƒ¼</span>
<span>ã§</span>
<span>NC</span>
<span>O</span>
<span>ã®å‘¨æ³¢æ•°ã‚’å¤‰æ›´ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000089.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000028.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>ã‚¿ãƒƒãƒã‚»ãƒ³ã‚µãƒ¼ã«è§¦ã‚Œç¶šã‘ã‚‹</span>
<span>ã¨</span>
<span>NC</span>
<span>O</span>
<span>ã®å‘¨æ³¢æ•°ã‚’ã‚¹ã‚¤ãƒ¼ãƒ—ã§ãã¾ã™ã€‚è‡ª</span>
<span>ä½œ</span>
<span>FI</span>
<span>R</span>
<span>ãƒ•ã‚£ãƒ«ã‚¿ã®å‹•ä½œã‚’ç¢ºèªã™ã‚‹ã¨ãæ´»ç”¨ã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000018.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<h2><b>
<span><b>8.5</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-38"><b>
<span><b>ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚±ãƒƒ</b></span>
<span><b>ãƒ</b></span>
<span><b>AvalonPacket_NCO_Touc</b></span>
<span><b>h</b></span>
<span><b>ã®å†…å®¹</b></span>
</b></a>
</b></h2>
<p>&nbsp;<span>æ¬¡ãŒã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚±ãƒƒ</span>
<span>ãƒ</span>
<span>AvalonPacket_NCO_Touc</span>
<span>h</span>
<span>ã®å†…å®¹ã§ã™ã€‚</span>
 &nbsp;</p>
<table cellspacing="0" cellpadding="0" border="1">
<tbody>
<tr>
<td>
<p>&nbsp;<span>#include &lt;SPI.h&gt;</span>
 &nbsp;</p>
<p>&nbsp;<span>#include &lt;AvalonPacket.h&gt;</span>
 &nbsp;</p>
<p>&nbsp;<span>#include &lt;Wire.h&gt;</span>
 &nbsp;</p>
<p>&nbsp;<span>#include "SSD1306Wire.h"</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>long freq = 1000;</span>
 &nbsp;</p>
<p>&nbsp;<span>long freqStep = 1000;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>SSD1306Wire display(0x3c, 21, 22);</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>AvalonPacket ap = AvalonPacket();</span>
 &nbsp;</p>
<p>&nbsp;<span>byte response[4];</span>
 &nbsp;</p>
<p>&nbsp;<span>int responseSize;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>int threshold = 60;</span>
 &nbsp;</p>
<p>&nbsp;<span>volatile unsigned long touchMillis = 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>volatile int touchId = 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>void gotTouch(int id) {</span>
 &nbsp;</p>
<p>&nbsp;<span>touchAttachInterrupt(T4, dummy, 0);</span>
 &nbsp;</p>
<p>&nbsp;<span>touchAttachInterrupt(T6, dummy, 0);</span>
 &nbsp;</p>
<p>&nbsp;<span>touchAttachInterrupt(T8, dummy, 0);</span>
 &nbsp;</p>
<p>&nbsp;<span>touchAttachInterrupt(T9, dummy, 0);</span>
 &nbsp;</p>
<p>&nbsp;<span>touchMillis = millis();</span>
 &nbsp;</p>
<p>&nbsp;<span>touchId = id;</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>void dummy() { }</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>void gotTouch1() {</span>
 &nbsp;</p>
<p>&nbsp;<span>if (touchRead(T4) &lt; threshold) {</span>
 &nbsp;</p>
<p>&nbsp;<span>gotTouch(1);</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>void gotTouch2() {</span>
 &nbsp;</p>
<p>&nbsp;<span>if (touchRead(T6) &lt; threshold) {</span>
 &nbsp;</p>
<p>&nbsp;<span>gotTouch(2);</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>void gotTouch3() {</span>
 &nbsp;</p>
<p>&nbsp;<span>if (touchRead(T8) &lt; threshold) {</span>
 &nbsp;</p>
<p>&nbsp;<span>gotTouch(3);</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>void gotTouch4() {</span>
 &nbsp;</p>
<p>&nbsp;<span>if (touchRead(T9) &lt; threshold) {</span>
 &nbsp;</p>
<p>&nbsp;<span>gotTouch(4);</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>unsigned long freqToPhaseInc(double freq) { // in Hz</span>
 &nbsp;</p>
<p>&nbsp;<span>double clk = 73714286; // 73.714286MHz</span>
 &nbsp;</p>
<p>&nbsp;<span>double phaseInc360 = (double)0x80000000UL * 2; // 32bits full scale</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>if (freq &gt;= clk)</span>
 &nbsp;</p>
<p>&nbsp;<span>freq -= clk;</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>return (unsigned long)(phaseInc360 * (freq / clk));</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>void sendFreq(double freq) { // in Hz</span>
 &nbsp;</p>
<p>&nbsp;<span>unsigned long i = freqToPhaseInc(freq);</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>Serial.println(freq);</span>
 &nbsp;</p>
<p>&nbsp;<span>responseSize = ap.write(0x10, i, response);</span>
 &nbsp;</p>
<p>&nbsp;<span>ap.printBytes(response, responseSize);</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>void updateDisplay() {</span>
 &nbsp;</p>
<p>&nbsp;<span>display.clear();</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>display.setFont(ArialMT_Plain_24);</span>
 &nbsp;</p>
<p>&nbsp;<span>display.drawString(0, 0, String(freq) + "Hz");</span>
 &nbsp;</p>
<p>&nbsp;<span>display.setFont(ArialMT_Plain_16);</span>
 &nbsp;</p>
<p>&nbsp;<span>display.drawString(0, 32,"Step: " + String(freqStep) + "Hz");</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>display.display();</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>void setup() {</span>
 &nbsp;</p>
<p>&nbsp;<span>Serial.begin(57600);</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>display.init();</span>
 &nbsp;</p>
<p>&nbsp;<span>display.flipScreenVertically();</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>delay(1000); // Wait until FPGA is configured</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>sendFreq(freq);</span>
 &nbsp;</p>
<p>&nbsp;<span>updateDisplay();</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>touchAttachInterrupt(T4, gotTouch1, threshold);</span>
 &nbsp;</p>
<p>&nbsp;<span>touchAttachInterrupt(T6, gotTouch2, threshold);</span>
 &nbsp;</p>
<p>&nbsp;<span>touchAttachInterrupt(T8, gotTouch3, threshold);</span>
 &nbsp;</p>
<p>&nbsp;<span>touchAttachInterrupt(T9, gotTouch4, threshold);</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>void loop() {</span>
 &nbsp;</p>
<p>&nbsp;<span>if (touchId &gt; 0) {</span>
 &nbsp;</p>
<p>&nbsp;<span>Serial.print("Touch: ");</span>
 &nbsp;</p>
<p>&nbsp;<span>Serial.println(touchId);</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>if (touchId == 1) {</span>
 &nbsp;</p>
<p>&nbsp;<span>if (freqStep &gt; 1) {</span>
 &nbsp;</p>
<p>&nbsp;<span>freqStep /= 10;</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
<p>&nbsp;<span>} else if (touchId == 2) {</span>
 &nbsp;</p>
<p>&nbsp;<span>if (freqStep &lt; 1000000) {</span>
 &nbsp;</p>
<p>&nbsp;<span>freqStep *= 10;</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
<p>&nbsp;<span>} else if (touchId == 3) {</span>
 &nbsp;</p>
<p>&nbsp;<span>if (freq &gt; 0) {</span>
 &nbsp;</p>
<p>&nbsp;<span>freq -= freqStep;</span>
 &nbsp;</p>
<p>&nbsp;<span>if (freq &lt; 0)</span>
 &nbsp;</p>
<p>&nbsp;<span>freq = 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
<p>&nbsp;<span>} else if (touchId == 4) {</span>
 &nbsp;</p>
<p>&nbsp;<span>freq += freqStep;</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>sendFreq(freq);</span>
 &nbsp;</p>
<p>&nbsp;<span>updateDisplay();</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>touchId = -1;</span>
 &nbsp;</p>
<p>&nbsp;<span>} else if (touchId &lt; 0 &amp;&amp; touchMillis + 100 &lt; millis()) {</span>
 &nbsp;</p>
<p>&nbsp;<span>touchId = 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>touchAttachInterrupt(T4, gotTouch1, threshold);</span>
 &nbsp;</p>
<p>&nbsp;<span>touchAttachInterrupt(T6, gotTouch2, threshold);</span>
 &nbsp;</p>
<p>&nbsp;<span>touchAttachInterrupt(T8, gotTouch3, threshold);</span>
 &nbsp;</p>
<p>&nbsp;<span>touchAttachInterrupt(T9, gotTouch4, threshold);</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<h2><b>
<span><b>8.6</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-39"><b>
<span><b>ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚±ãƒƒ</b></span>
<span><b>ãƒ</b></span>
<span><b>AvalonPacket_FM_Radi</b></span>
<span><b>o</b></span>
<span><b>ã‚’ä½¿ã†</b></span>
</b></a>
</b></h2>
<p>&nbsp;<span>ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚±ãƒƒ</span>
<span>ãƒ</span>
<span>AvalonPacket_FM_Radi</span>
<span>o</span>
<span>ã¯ã€ã‚¿ãƒƒãƒã‚»ãƒ³ã‚µãƒ¼ã§æ”¾é€å±€ã‚’é¸æŠã§ãã¾ã™ã€‚ãƒ©ã‚¸ã‚ªã‚‰ã—ãéŸ³é‡ã‚‚æ“ä½œã§ãã¾ã™ã€‚éŸ³é‡</span>
<span>ã¯</span>
<span>FPG</span>
<span>A</span>
<span>å†…éƒ¨ã«è¨­ç½®ã—</span>
<span>ãŸ</span>
<span>PIO</span>
<span>0</span>
<span>çµŒç”±</span>
<span>ã§</span>
<span>I2S DA</span>
<span>C</span>
<span>ã«æ¸¡ã™ãƒ‡ãƒ¼ã‚¿ã‚’ã‚·ãƒ•ãƒˆã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000086.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<h2><b>
<span><b>8.7</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-40"><b>
<span><b>ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚±ãƒƒ</b></span>
<span><b>ãƒ</b></span>
<span><b>AvalonPacket_FM_Radi</b></span>
<span><b>o</b></span>
<span><b>ã®å†…å®¹</b></span>
</b></a>
</b></h2>
<p>&nbsp;<span>æ¬¡ãŒã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚±ãƒƒ</span>
<span>ãƒ</span>
<span>AvalonPacket_FM_Radi</span>
<span>o</span>
<span>ã®å†…å®¹ã§ã™ã€‚</span>
 &nbsp;</p>
<table cellspacing="0" cellpadding="0" border="1">
<tbody>
<tr>
<td>
<p>&nbsp;<span>#include &lt;SPI.h&gt;</span>
 &nbsp;</p>
<p>&nbsp;<span>#include &lt;AvalonPacket.h&gt;</span>
 &nbsp;</p>
<p>&nbsp;<span>#include &lt;Wire.h&gt;</span>
 &nbsp;</p>
<p>&nbsp;<span>#include "SSD1306Wire.h"</span>
 &nbsp;</p>
<p>&nbsp;<span>#include &lt;nvs.h&gt;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>uint8_t volume = 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>uint8_t station = 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>const int NUM_STATIONS = 6;</span>
 &nbsp;</p>
<p>&nbsp;<span>double freq[NUM_STATIONS] = {</span>
 &nbsp;</p>
<p>&nbsp;<span>80.0e6,</span>
 &nbsp;</p>
<p>&nbsp;<span>81.3e6,</span>
 &nbsp;</p>
<p>&nbsp;<span>82.5e6,</span>
 &nbsp;</p>
<p>&nbsp;<span>90.5e6,</span>
 &nbsp;</p>
<p>&nbsp;<span>91.6e6,</span>
 &nbsp;</p>
<p>&nbsp;<span>93.0e6</span>
 &nbsp;</p>
<p>&nbsp;<span>};</span>
 &nbsp;</p>
<p>&nbsp;<span>String freqString[NUM_STATIONS] = {</span>
 &nbsp;</p>
<p>&nbsp;<span>"80.0 MHz",</span>
 &nbsp;</p>
<p>&nbsp;<span>"81.3 MHz",</span>
 &nbsp;</p>
<p>&nbsp;<span>"82.5 MHz",</span>
 &nbsp;</p>
<p>&nbsp;<span>"90.5 MHz",</span>
 &nbsp;</p>
<p>&nbsp;<span>"91.6 MHz",</span>
 &nbsp;</p>
<p>&nbsp;<span>"93.0 MHz"</span>
 &nbsp;</p>
<p>&nbsp;<span>};</span>
 &nbsp;</p>
<p>&nbsp;<span>String stationName[NUM_STATIONS] = {</span>
 &nbsp;</p>
<p>&nbsp;<span>"TOKYO FM",</span>
 &nbsp;</p>
<p>&nbsp;<span>"J-WAVE",</span>
 &nbsp;</p>
<p>&nbsp;<span>"NHK FM",</span>
 &nbsp;</p>
<p>&nbsp;<span>"TBS FM",</span>
 &nbsp;</p>
<p>&nbsp;<span>"JOQR FM",</span>
 &nbsp;</p>
<p>&nbsp;<span>"NIPPON FM"</span>
 &nbsp;</p>
<p>&nbsp;<span>};</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>SSD1306Wire display(0x3c, 21, 22);</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>nvs_handle handle = 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>AvalonPacket ap = AvalonPacket();</span>
 &nbsp;</p>
<p>&nbsp;<span>byte response[4];</span>
 &nbsp;</p>
<p>&nbsp;<span>int responseSize;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>int threshold = 60;</span>
 &nbsp;</p>
<p>&nbsp;<span>volatile unsigned long touchMillis = 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>volatile int touchId = 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>void gotTouch(int id) {</span>
 &nbsp;</p>
<p>&nbsp;<span>touchAttachInterrupt(T4, dummy, 0);</span>
 &nbsp;</p>
<p>&nbsp;<span>touchAttachInterrupt(T6, dummy, 0);</span>
 &nbsp;</p>
<p>&nbsp;<span>touchAttachInterrupt(T8, dummy, 0);</span>
 &nbsp;</p>
<p>&nbsp;<span>touchAttachInterrupt(T9, dummy, 0);</span>
 &nbsp;</p>
<p>&nbsp;<span>touchMillis = millis();</span>
 &nbsp;</p>
<p>&nbsp;<span>touchId = id;</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>void dummy() { }</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>void gotTouch1() {</span>
 &nbsp;</p>
<p>&nbsp;<span>if (touchRead(T4) &lt; threshold) {</span>
 &nbsp;</p>
<p>&nbsp;<span>gotTouch(1);</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>void gotTouch2() {</span>
 &nbsp;</p>
<p>&nbsp;<span>if (touchRead(T6) &lt; threshold) {</span>
 &nbsp;</p>
<p>&nbsp;<span>gotTouch(2);</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>void gotTouch3() {</span>
 &nbsp;</p>
<p>&nbsp;<span>if (touchRead(T8) &lt; threshold) {</span>
 &nbsp;</p>
<p>&nbsp;<span>gotTouch(3);</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>void gotTouch4() {</span>
 &nbsp;</p>
<p>&nbsp;<span>if (touchRead(T9) &lt; threshold) {</span>
 &nbsp;</p>
<p>&nbsp;<span>gotTouch(4);</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>void sendVolume(unsigned long volume) { // 0 - 15</span>
 &nbsp;</p>
<p>&nbsp;<span>responseSize = ap.write(0, volume, response);</span>
 &nbsp;</p>
<p>&nbsp;<span>ap.printBytes(response, responseSize);</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>unsigned long freqToPhaseInc(double freq) { // in Hz</span>
 &nbsp;</p>
<p>&nbsp;<span>double clk = 73714286; // 73.714286MHz</span>
 &nbsp;</p>
<p>&nbsp;<span>double phaseInc360 = (double)0x80000000UL * 2; // 32bits full scale</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>if (freq &gt;= clk)</span>
 &nbsp;</p>
<p>&nbsp;<span>freq -= clk;</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>return (unsigned long)(phaseInc360 * (freq / clk));</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>void sendFreq(double freq) { // in Hz</span>
 &nbsp;</p>
<p>&nbsp;<span>unsigned long i = freqToPhaseInc(freq);</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>Serial.println(freq);</span>
 &nbsp;</p>
<p>&nbsp;<span>responseSize = ap.write(0x10, i, response);</span>
 &nbsp;</p>
<p>&nbsp;<span>ap.printBytes(response, responseSize);</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>void updateDisplay() {</span>
 &nbsp;</p>
<p>&nbsp;<span>display.clear();</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>display.setFont(ArialMT_Plain_24);</span>
 &nbsp;</p>
<p>&nbsp;<span>display.drawString(0, 0, stationName[station]);</span>
 &nbsp;</p>
<p>&nbsp;<span>display.drawString(0, 24, freqString[station]);</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>display.setFont(ArialMT_Plain_24);</span>
 &nbsp;</p>
<p>&nbsp;<span>String str = "";</span>
 &nbsp;</p>
<p>&nbsp;<span>for (int i = 0; i &lt; volume; i++) {</span>
 &nbsp;</p>
<p>&nbsp;<span>str += "*";</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
<p>&nbsp;<span>display.drawString(0, 48, str);</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>display.display();</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>void setup() {</span>
 &nbsp;</p>
<p>&nbsp;<span>Serial.begin(57600);</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>display.init();</span>
 &nbsp;</p>
<p>&nbsp;<span>display.flipScreenVertically();</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>nvs_open("FPGA Radio", NVS_READWRITE, &amp;handle);</span>
 &nbsp;</p>
<p>&nbsp;<span>if (handle != 0) {</span>
 &nbsp;</p>
<p>&nbsp;<span>nvs_get_u8(handle, "volume", &amp;volume);</span>
 &nbsp;</p>
<p>&nbsp;<span>nvs_get_u8(handle, "station", &amp;station);</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
<p>&nbsp;<span>if (15 &lt; volume) volume = 15;</span>
 &nbsp;</p>
<p>&nbsp;<span>if (NUM_STATIONS-1 &lt; station) station = NUM_STATIONS-1;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>delay(1000); // Wait until FPGA is configured</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>sendVolume(volume);</span>
 &nbsp;</p>
<p>&nbsp;<span>sendFreq(freq[station]);</span>
 &nbsp;</p>
<p>&nbsp;<span>updateDisplay();</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>touchAttachInterrupt(T4, gotTouch1, threshold);</span>
 &nbsp;</p>
<p>&nbsp;<span>touchAttachInterrupt(T6, gotTouch2, threshold);</span>
 &nbsp;</p>
<p>&nbsp;<span>touchAttachInterrupt(T8, gotTouch3, threshold);</span>
 &nbsp;</p>
<p>&nbsp;<span>touchAttachInterrupt(T9, gotTouch4, threshold);</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>void loop() {</span>
 &nbsp;</p>
<p>&nbsp;<span>if (touchId &gt; 0) {</span>
 &nbsp;</p>
<p>&nbsp;<span>Serial.print("Touch: ");</span>
 &nbsp;</p>
<p>&nbsp;<span>Serial.println(touchId);</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>if (touchId == 1) {</span>
 &nbsp;</p>
<p>&nbsp;<span>if (station &gt; 0) {</span>
 &nbsp;</p>
<p>&nbsp;<span>station -= 1;</span>
 &nbsp;</p>
<p>&nbsp;<span>} else {</span>
 &nbsp;</p>
<p>&nbsp;<span>station = NUM_STATIONS-1;</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
<p>&nbsp;<span>} else if (touchId == 2) {</span>
 &nbsp;</p>
<p>&nbsp;<span>if (station &lt; NUM_STATIONS-1) {</span>
 &nbsp;</p>
<p>&nbsp;<span>station += 1;</span>
 &nbsp;</p>
<p>&nbsp;<span>} else {</span>
 &nbsp;</p>
<p>&nbsp;<span>station = 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
<p>&nbsp;<span>} else if (touchId == 3) {</span>
 &nbsp;</p>
<p>&nbsp;<span>if (volume &gt; 0) {</span>
 &nbsp;</p>
<p>&nbsp;<span>volume -= 1;</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
<p>&nbsp;<span>} else if (touchId == 4) {</span>
 &nbsp;</p>
<p>&nbsp;<span>if (volume &lt; 15) {</span>
 &nbsp;</p>
<p>&nbsp;<span>volume += 1;</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>sendFreq(freq[station]);</span>
 &nbsp;</p>
<p>&nbsp;<span>sendVolume(volume);</span>
 &nbsp;</p>
<p>&nbsp;<span>if (handle != 0) {</span>
 &nbsp;</p>
<p>&nbsp;<span>nvs_set_u8(handle, "station", station);</span>
 &nbsp;</p>
<p>&nbsp;<span>nvs_set_u8(handle, "volume", volume);</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
<p>&nbsp;<span>updateDisplay();</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>touchId = -1;</span>
 &nbsp;</p>
<p>&nbsp;<span>} else if (touchId &lt; 0 &amp;&amp; touchMillis + 300 &lt; millis()) {</span>
 &nbsp;</p>
<p>&nbsp;<span>touchId = 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>touchAttachInterrupt(T4, gotTouch1, threshold);</span>
 &nbsp;</p>
<p>&nbsp;<span>touchAttachInterrupt(T6, gotTouch2, threshold);</span>
 &nbsp;</p>
<p>&nbsp;<span>touchAttachInterrupt(T8, gotTouch3, threshold);</span>
 &nbsp;</p>
<p>&nbsp;<span>touchAttachInterrupt(T9, gotTouch4, threshold);</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
<p>&nbsp;<span>}</span>
 &nbsp;</p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<h2><b>
<span><b>8.8</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-41"><b>
<span><b>romsin.qi</b></span>
<span><b>p</b></span>
<span><b>ä½œæˆæ‰‹é †</b></span>
</b></a>
</b></h2>
<p>&nbsp;<span>1</span>
<span>8</span>
<span>ãƒ“ãƒƒãƒˆ</span>
<span>ï½˜</span>
<span>409</span>
<span>6</span>
<span>ãƒ¯ãƒ¼ãƒ‰</span>
<span>ã®</span>
<span>SI</span>
<span>N</span>
<span>ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’</span>
<span>ã€</span>
<span>Quartus Prime Lite Editio</span>
<span>n</span>
<span>ã«æ·»ä»˜ã•ã‚Œã¦ã„</span>
<span>ã‚‹</span>
<span>ROM 1-POR</span>
<span>T</span>
<span>ã§ä½œæˆã—ã¾ã™</span>
<span>ã€‚</span>
<span>ROM 2-POR</span>
<span>T</span>
<span>ã‚’ä½¿ãˆã°ï¼‘ã¤</span>
<span>ã®</span>
<span>RO</span>
<span>Mã§</span>
<span>SI</span>
<span>Nã€</span>
<span>CO</span>
<span>S</span>
<span>ã‚’å‡ºåŠ›ã§ãã‚‹ã®ã§ã™ãŒ</span>
<span>ã€</span>
<span>Quartus Prime Lite Edition 18.</span>
<span>1ã¯</span>
<span>ROM 2-POR</span>
<span>Tã®</span>
<span>MegaWizar</span>
<span>d</span>
<span>ã‚’èµ·å‹•ã§ããªã‹ã£ãŸã®ã§</span>
<span>ã€</span>
<span>ROM 1-POR</span>
<span>T</span>
<span>ã§ä½œæˆã—</span>
<span>ãŸ</span>
<span>RO</span>
<span>M</span>
<span>ã‚’ï¼’ã¤ä½¿ã„ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>RO</span>
<span>M</span>
<span>ãƒ‡ãƒ¼ã‚¿ã‚’è¨˜è¿°ã—</span>
<span>ãŸ</span>
<span>romsim.mi</span>
<span>f</span>
<span>ãƒ•ã‚¡ã‚¤ãƒ«</span>
<span>ã¯</span>
<span>FPG</span>
<span>A</span>
<span>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã«å…¥ã£ã¦ã„ã¾ã™ã€‚</span>
 &nbsp;</p>
<table cellspacing="0" cellpadding="0" border="1">
<tbody>
<tr>
<td>
<p>&nbsp;<span>WIDTH=18;</span>
 &nbsp;</p>
<p>&nbsp;<span>DEPTH=4096;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>ADDRESS_RADIX=HEX;</span>
 &nbsp;</p>
<p>&nbsp;<span>DATA_RADIX=HEX;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>CONTENT BEGIN</span>
 &nbsp;</p>
<p>&nbsp;<span>0000 : 00000;</span>
 &nbsp;</p>
<p>&nbsp;<span>0001 : 000c9;</span>
 &nbsp;</p>
<p>&nbsp;<span>0002 : 00192;</span>
 &nbsp;</p>
<p>&nbsp;<span>0003 : 0025b;</span>
 &nbsp;</p>
<p>&nbsp;<span>0004 : 00324;</span>
 &nbsp;</p>
<p>&nbsp;<span>...</span>
 &nbsp;</p>
<p>&nbsp;<span>0ffc : 3fcdc;</span>
 &nbsp;</p>
<p>&nbsp;<span>0ffd : 3fda5;</span>
 &nbsp;</p>
<p>&nbsp;<span>0ffe : 3fe6e;</span>
 &nbsp;</p>
<p>&nbsp;<span>0fff : 3ff37;</span>
 &nbsp;</p>
<p>&nbsp;<span>END;</span>
 &nbsp;</p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>ä»¥ä¸‹ã®æ‰‹é †</span>
<span>ã§</span>
<span>SI</span>
<span>N</span>
<span>ãƒ†ãƒ¼ãƒ–</span>
<span>ãƒ«</span>
<span>RO</span>
<span>M</span>
<span>ã‚’ä½œæˆã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000035.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000115.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000013.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000000.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000100.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000078.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000062.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>Finis</span>
<span>h</span>
<span>ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—</span>
<span>ã¦</span>
<span>SI</span>
<span>N</span>
<span>ãƒ†ãƒ¼ãƒ–</span>
<span>ãƒ«</span>
<span>RO</span>
<span>Mã€€</span>
<span>romsin.qi</span>
<span>p</span>
<span>ã‚’ç”Ÿæˆã—ã€ãƒ€ã‚¤ã‚¢ãƒ­ã‚°</span>
<span>ã®</span>
<span>Ye</span>
<span>s</span>
<span>ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«è¿½åŠ ã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000032.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>MAX1</span>
<span>0</span>
<span>ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ</span>
<span>ã«</span>
<span>RO</span>
<span>M</span>
<span>ã‚’è¿½åŠ ã—ã¦ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã¨ã€æ¬¡ã®ã‚¨ãƒ©ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000105.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>RO</span>
<span>M</span>
<span>ã‚’åˆæœŸåŒ–ã™ã‚‹ãŸã‚ã«è¨­å®šã‚’å¤‰æ›´ã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000051.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000044.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000088.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<h2><b>
<span><b>8.9</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-42"><b>
<span><b>MyNCO.</b></span>
<span><b>vã€€</b></span>
<span><b>Verilo</b></span>
<span><b>g</b></span>
<span><b>ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰</b></span>
</b></a>
</b></h2>
<p>&nbsp;<span>SI</span>
<span>N</span>
<span>ãƒ†ãƒ¼ãƒ–</span>
<span>ãƒ«</span>
<span>RO</span>
<span>Mã€€</span>
<span>romsin.qi</span>
<span>p</span>
<span>ã‚’ä½¿ã£</span>
<span>ã¦</span>
<span>NC</span>
<span>O</span>
<span>ã‚’ä½œã‚Šã¾ã™</span>
<span>ã€‚</span>
<span>3</span>
<span>2</span>
<span>ãƒ“ãƒƒãƒˆåŠ ç®—å™¨ã«ã‚¯ãƒ­ãƒƒã‚¯ã”ã¨ã«åŠ ç®—ã™ã‚‹å€¤ã‚’å…¥</span>
<span>åŠ›</span>
<span>phi_inc_i&nbsp;ã§è¨­å®šã™ã‚‹ã“ã¨ã§</span>
<span>ã€</span>
<span>3</span>
<span>2</span>
<span>ãƒ“ãƒƒãƒˆåŠ ç®—å™¨ãŒæ¡ã‚ãµã‚Œã—ã¦ï¼ã«æˆ»ã‚‹ã¾ã§ã®å‘¨æœŸã‚’åˆ¶å¾¡ã§ãã¾ã™</span>
<span>ã€‚</span>
<span>3</span>
<span>2</span>
<span>ãƒ“ãƒƒãƒˆåŠ ç®—å™¨ã®å€¤</span>
<span>ã‚’</span>
<span>SI</span>
<span>N</span>
<span>ãƒ†ãƒ¼ãƒ–</span>
<span>ãƒ«</span>
<span>RO</span>
<span>M</span>
<span>ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã«å…¥åŠ›ã™ã‚‹</span>
<span>ã¨</span>
<span>SI</span>
<span>N</span>
<span>å‡ºåŠ›ãŒå¾—ã‚‰ã‚Œã¾ã™</span>
<span>ã€‚</span>
<span>3</span>
<span>2</span>
<span>ãƒ“ãƒƒãƒˆåŠ ç®—å™¨ã®å€¤</span>
<span>ã«</span>
<span>9</span>
<span>0</span>
<span>Â°åˆ†è¶³ã—ãŸå€¤</span>
<span>ã‚’</span>
<span>SI</span>
<span>N</span>
<span>ãƒ†ãƒ¼ãƒ–</span>
<span>ãƒ«</span>
<span>RO</span>
<span>M</span>
<span>ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã«å…¥åŠ›ã™ã‚‹</span>
<span>ã¨</span>
<span>CO</span>
<span>S</span>
<span>å‡ºåŠ›ãŒå¾—ã‚‰ã‚Œã¾ã™ã€‚</span>
 &nbsp;</p>
<table cellspacing="0" cellpadding="0" border="1">
<tbody>
<tr>
<td>
<p>&nbsp;<span>`timescale 1ns/1ns</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>module MyNCO</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;#(</span>
 &nbsp;</p>
<p>&nbsp;<span>parameter ACCUMULATOR_WIDTH = 32,</span>
 &nbsp;</p>
<p>&nbsp;<span>parameter OUT_WIDTH = 12</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;)</span>
 &nbsp;</p>
<p>&nbsp;<span>(</span>
 &nbsp;</p>
<p>&nbsp;<span>input&nbsp; wire clk,</span>
 &nbsp;</p>
<p>&nbsp;<span>input&nbsp; wire reset_n,</span>
 &nbsp;</p>
<p>&nbsp;<span>input&nbsp; wire clken,</span>
 &nbsp;</p>
<p>&nbsp;<span>input&nbsp; wire [ACCUMULATOR_WIDTH-1:0] phi_inc_i,</span>
 &nbsp;</p>
<p>&nbsp;<span>output wire [OUT_WIDTH-1:0] fsin_o,</span>
 &nbsp;</p>
<p>&nbsp;<span>output wire [OUT_WIDTH-1:0] fcos_o,</span>
 &nbsp;</p>
<p>&nbsp;<span>output wire out_valid</span>
 &nbsp;</p>
<p>&nbsp;<span>);</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>// ROM 18x4096</span>
 &nbsp;</p>
<p>&nbsp;<span>localparam ROM_DATA_WIDTH = 18;</span>
 &nbsp;</p>
<p>&nbsp;<span>localparam ROM_ADDR_WIDTH = 12;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>wire [ROM_DATA_WIDTH-1:0] cos;</span>
 &nbsp;</p>
<p>&nbsp;<span>wire [ROM_DATA_WIDTH-1:0] sin;</span>
 &nbsp;</p>
<p>&nbsp;<span>reg [ACCUMULATOR_WIDTH-1:0] addr;</span>
 &nbsp;</p>
<p>&nbsp;<span>wire [ACCUMULATOR_WIDTH-1:0] cos_addr;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>assign out_valid = 1'b1;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>always @(posedge clk)</span>
 &nbsp;</p>
<p>&nbsp;<span>begin</span>
 &nbsp;</p>
<p>&nbsp;<span>if (~reset_n)</span>
 &nbsp;</p>
<p>&nbsp;<span>begin</span>
 &nbsp;</p>
<p>&nbsp;<span>addr &lt;= 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>end else if (clken) begin</span>
 &nbsp;</p>
<p>&nbsp;<span>addr &lt;= addr + phi_inc_i;</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>assign cos_addr = addr + (1'b1 &lt;&lt; (ACCUMULATOR_WIDTH - 2));</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>romsin</span>
<span>romsin_sin_inst (</span>
 &nbsp;</p>
<p>&nbsp;<span>.address ( addr[ACCUMULATOR_WIDTH-1 -: ROM_ADDR_WIDTH] ),</span>
 &nbsp;</p>
<p>&nbsp;<span>.clock ( clk ),</span>
 &nbsp;</p>
<p>&nbsp;<span>.q ( sin )</span>
 &nbsp;</p>
<p>&nbsp;<span>);</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>romsin</span>
<span>romsin_cos_inst (</span>
 &nbsp;</p>
<p>&nbsp;<span>.address ( cos_addr[ACCUMULATOR_WIDTH-1 -: ROM_ADDR_WIDTH] ),</span>
 &nbsp;</p>
<p>&nbsp;<span>.clock ( clk ),</span>
 &nbsp;</p>
<p>&nbsp;<span>.q ( cos )</span>
 &nbsp;</p>
<p>&nbsp;<span>);</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>assign fcos_o = cos[ROM_DATA_WIDTH-1 -: OUT_WIDTH];</span>
 &nbsp;</p>
<p>&nbsp;<span>assign fsin_o = sin[ROM_DATA_WIDTH-1 -: OUT_WIDTH];</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>endmodule</span>
 &nbsp;</p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<div></div>
<br />
&nbsp;<h1><b>
<span><b>9</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-43"><b>
<span><b>ADC</b></span>
</b></a>
</b></h1>
<p>&nbsp;<span>ã‚ªã‚·ãƒ­ã‚¹ã‚³ãƒ¼ãƒ—ã®ãƒ—ãƒ­ãƒ¼ãƒ–ã‚’ã‚¢ãƒ³ãƒ†ãƒŠç«¯å­ã«æ¥ç¶šã—ãŸã¨ã</span>
<span>ã®</span>
<span>FF</span>
<span>T</span>
<span>è¡¨ç¤ºã§ã™ã€‚é›»æ³¢ã®å¼·ã„åœ°åŸŸã§ç›´å¾„ï¼‘ï½ã®ãƒã‚°ãƒãƒãƒƒã‚¯ãƒ«ãƒ¼ãƒ—ã‚¢ãƒ³ãƒ†ãƒŠã‚’æ¥ç¶šã—ã¦ã„ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000071.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<h2><b>
<span><b>9.1</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-44"><b>
<span><b>DAC</b></span>
<span><b>Aã€</b></span>
<span><b>DAC</b></span>
<span><b>B</b></span>
<span><b>ã®å‡ºåŠ›å†…å®¹ã‚’å¤‰æ›´</b></span>
</b></a>
</b></h2>
<p>&nbsp;<span>AD</span>
<span>C</span>
<span>ã®å‡ºåŠ›ã¨å‘¨æ³¢æ•°ã‚·ãƒ•ãƒˆã®å‡ºåŠ›ã‚’ã‚ªã‚·ãƒ­ã‚¹ã‚³ãƒ¼ãƒ—</span>
<span>ã§</span>
<span>FF</span>
<span>T</span>
<span>è¡¨ç¤ºã™ã‚‹ãŸã‚ã€ãƒˆãƒƒãƒ—ãƒ¢ã‚¸ãƒ¥ãƒ¼</span>
<span>ãƒ«</span>
<span>top.</span>
<span>v</span>
<span>ã‚’å¤‰æ›´ã—ã¾ã™ã€‚ãƒˆãƒƒãƒ—ãƒ¢ã‚¸ãƒ¥ãƒ¼</span>
<span>ãƒ«</span>
<span>top.</span>
<span>v</span>
<span>ã®æœ€å¾Œã«ã‚</span>
<span>ã‚‹</span>
<span>DAC</span>
<span>Aã€</span>
<span>DAC</span>
<span>B</span>
<span>ã«å€¤ã‚’ã‚»ãƒƒãƒˆã—ã¦ã„ã‚‹ç®‡æ‰€ã‚’æ›¸ãæ›ãˆã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000077.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>AD</span>
<span>C</span>
<span>ã®å‡ºåŠ›</span>
<span>ã‚’</span>
<span>R-2R DA</span>
<span>Cã®</span>
<span>DAC</span>
<span>A</span>
<span>ã«ã€å‘¨æ³¢æ•°ã‚·ãƒ•ãƒˆã®å‡ºåŠ›</span>
<span>ã‚’</span>
<span>DAC</span>
<span>B</span>
<span>ã«æ¥ç¶šã—ã€ã‚ªã‚·ãƒ­ã‚¹ã‚³ãƒ¼ãƒ—ã§ç¢ºèªã—ã¾ã™ã€‚å‘¨æ³¢æ•°ã‚·ãƒ•ãƒˆã®å‡ºåŠ›ã¯ç¬¦å·ä»˜ã</span>
<span>ã€</span>
<span>R-2R DA</span>
<span>C</span>
<span>ã®å…¥åŠ›ã¯ç¬¦å·ç„¡ã—ãªã®ã§å¤‰æ›ã—ã¦ã„ã¾ã™ã€‚</span>
 &nbsp;</p>
<table cellspacing="0" cellpadding="0" border="1">
<tbody>
<tr>
<td>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>//</span>
<span>&nbsp;</span>
<span>assign daca = sin[11 -: 7];</span>
 &nbsp;</p>
<p>&nbsp;<span>assign dacb = i[CIC_WIDTH-1 -: 7];</span>
 &nbsp;</p>
<p>&nbsp;<span>always @(posedge clk) begin</span>
 &nbsp;</p>
<p>&nbsp;<span>DACA &lt;= ADC[7 -: 7];</span>
 &nbsp;</p>
<p>&nbsp;<span>DACB &lt;= (dacb[6] == 0) ? dacb + 7'h40 : dacb - 7'h40;</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>endmodule</span>
 &nbsp;</p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>ã¾ãš</span>
<span>ã¯</span>
<span>DAC</span>
<span>Aã€</span>
<span>AD</span>
<span>C</span>
<span>ã®å‡ºåŠ›</span>
<span>ã®</span>
<span>FF</span>
<span>T</span>
<span>è¡¨ç¤ºã§ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<span>F</span>
<span>M</span>
<span>æ”¾é€ã®å¸¯åŸŸã‚’å«ã‚“</span>
<span>ã </span>
<span>73.728MHz~110.592MH</span>
<span>z</span>
<span>ã®ä¿¡å·</span>
<span>ãŒ</span>
<span>0Hz~36.864MH</span>
<span>z</span>
<span>ã®ä¿¡å·ã¨ã—</span>
<span>ã¦</span>
<span>AD</span>
<span>C</span>
<span>ã‹ã‚‰å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000053.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>æ¬¡ã¯å‘¨æ³¢æ•°ã‚·ãƒ•ãƒˆã®å‡ºåŠ›</span>
<span>ã®</span>
<span>FF</span>
<span>T</span>
<span>è¡¨ç¤ºã§ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<span>é¸å±€ã—ãŸæ”¾é€å±€</span>
<span>ãŒ</span>
<span>0H</span>
<span>z</span>
<span>ã«ã‚·ãƒ•ãƒˆã•ã‚Œã¾ã™</span>
<span>ã€‚</span>
<span>0H</span>
<span>z</span>
<span>ã«ãªã‚Œã°ã‚ã¨ã¯ãƒ­ãƒ¼ãƒ‘ã‚¹ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã¨é–“å¼•ãã§ã€é¸å±€ã—ãŸæ”¾é€å±€ã ã‘ã‚’é¸æŠã—ã¦å¾©èª¿å›è·¯ã«æ¸¡ã™ã“ã¨ãŒã§ãã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000033.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<h2><b>
<span><b>9.2</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-45"><b>
<span><b>ãƒˆãƒƒãƒ—ãƒ¢ã‚¸ãƒ¥ãƒ¼</b></span>
<span><b>ãƒ«</b></span>
<span><b>top.</b></span>
<span><b>v</b></span>
<span><b>ã®è©²å½“ç®‡æ‰€</b></span>
</b></a>
</b></h2>
<p>&nbsp;<span>A/</span>
<span>D</span>
<span>ã‚³ãƒ³ãƒãƒ¼ã‚¿ã®å‡ºåŠ›ã¯ç¬¦å·ç„¡ã—ãƒ‡ãƒ¼ã‚¿ã§ã™ã€‚ä¿¡å·å‡¦ç†ç”¨ã«ç¬¦å·ä»˜ããƒ‡ãƒ¼</span>
<span>ã‚¿</span>
<span>ad</span>
<span>c</span>
<span>ã«å¤‰æ›ã—ã¦ã„ã¾ã™ã€‚</span>
 &nbsp;</p>
<table cellspacing="0" cellpadding="0" border="1">
<tbody>
<tr>
<td>
<p>&nbsp;<span>module top</span>
 &nbsp;</p>
<p>&nbsp;<span>(</span>
 &nbsp;</p>
<p>&nbsp;<span>...</span>
 &nbsp;</p>
<p>&nbsp;<span>input wire [7:0] ADC,</span>
 &nbsp;</p>
<p>&nbsp;<span>output wire ENCODE,</span>
 &nbsp;</p>
<p>&nbsp;<span>...</span>
 &nbsp;</p>
<p>&nbsp;<span>);</span>
 &nbsp;</p>
<p>&nbsp;<span>...</span>
 &nbsp;</p>
<p>&nbsp;<span>reg [7:0] uadc_r;</span>
 &nbsp;</p>
<p>&nbsp;<span>wire signed [7:0] adc;</span>
 &nbsp;</p>
<p>&nbsp;<span>...</span>
 &nbsp;</p>
<p>&nbsp;<span>always @(posedge clk) begin</span>
 &nbsp;</p>
<p>&nbsp;<span>uadc_r &lt;= ADC;</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>assign ENCODE = clk;</span>
 &nbsp;</p>
<p>&nbsp;<span>assign adc = (uadc_r[7] == 0) ? uadc_r + 8'h80 : uadc_r - 8'h80;</span>
 &nbsp;</p>
<p>&nbsp;<span>...</span>
 &nbsp;</p>
<p>&nbsp;<span>endmodule</span>
 &nbsp;</p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>ç¬¦å·ä»˜ããƒ‡ãƒ¼ã‚¿ã«å¤‰æ›ã—</span>
<span>ãŸ</span>
<span>ad</span>
<span>cã¨</span>
<span>NC</span>
<span>Oã®</span>
<span>SI</span>
<span>Nã€</span>
<span>CO</span>
<span>S</span>
<span>å‡ºåŠ›ã¨ã‚’æ›ã‘åˆã‚ã›ã¦é¸å±€ã—ãŸæ”¾é€å±€</span>
<span>ã‚’</span>
<span>0H</span>
<span>z</span>
<span>ã«ã‚·ãƒ•ãƒˆã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<table cellspacing="0" cellpadding="0" border="1">
<tbody>
<tr>
<td>
<p>&nbsp;<span>module top</span>
 &nbsp;</p>
<p>&nbsp;<span>...</span>
 &nbsp;</p>
<p>&nbsp;<span>localparam CIC_WIDTH = 19;</span>
 &nbsp;</p>
<p>&nbsp;<span>...</span>
 &nbsp;</p>
<p>&nbsp;<span>wire signed [7:0] adc;</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>wire signed [11:0] sin;</span>
 &nbsp;</p>
<p>&nbsp;<span>wire signed [11:0] cos;</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>reg signed [CIC_WIDTH-1:0] i;</span>
 &nbsp;</p>
<p>&nbsp;<span>reg signed [CIC_WIDTH-1:0] q;</span>
 &nbsp;</p>
<p>&nbsp;<span>...</span>
 &nbsp;</p>
<p>&nbsp;<span>always @(posedge clk) begin</span>
 &nbsp;</p>
<p>&nbsp;<span>i &lt;= adc * cos;</span>
 &nbsp;</p>
<p>&nbsp;<span>q &lt;= adc * sin;</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>...</span>
 &nbsp;</p>
<p>&nbsp;<span>endmodule</span>
 &nbsp;</p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<div></div>
<br />
&nbsp;<h1><b>
<span><b>10</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-46"><b>
<span><b>è‡ª</b></span>
<span><b>ä½œ</b></span>
<span><b>CI</b></span>
<span><b>C</b></span>
<span><b>ãƒ•ã‚£ãƒ«ã‚¿</b></span>
</b></a>
</b></h1>
<p>&nbsp;<span>73.728MSp</span>
<span>s</span>
<span>ã®å…¥åŠ›ãƒ‡ãƒ¼ã‚¿</span>
<span>ã‚’</span>
<span>1/2</span>
<span>4</span>
<span>ã«é–“å¼•ã„</span>
<span>ã¦</span>
<span>3.072MSp</span>
<span>s</span>
<span>ã®ãƒ‡ãƒ¼ã‚¿ã‚’å‡ºåŠ›ã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<span>â—</span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span>1.536MH</span>
<span>zï½</span>
<span>3.072MH</span>
<span>z</span>
<span>ã®ãƒ‡ãƒ¼ã‚¿ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã¯åè»¢ã—</span>
<span>ã¦</span>
<span>1.536MH</span>
<span>zï½</span>
<span>0H</span>
<span>z</span>
<span>ã«ç¾ã‚Œã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<span>â—</span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span>3.072MH</span>
<span>zï½</span>
<span>4.608MH</span>
<span>z</span>
<span>ã®ãƒ‡ãƒ¼ã‚¿ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã¯ãã®ã¾</span>
<span>ã¾</span>
<span>0Hz</span>
<span>&nbsp;ï½</span>
<span>1.536MH</span>
<span>z</span>
<span>ã«ç¾ã‚Œã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<span>â—</span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span>4.608MH</span>
<span>zï½</span>
<span>6.144MH</span>
<span>z</span>
<span>ã®ãƒ‡ãƒ¼ã‚¿ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã¯åè»¢ã—</span>
<span>ã¦</span>
<span>1.536MH</span>
<span>zï½</span>
<span>0H</span>
<span>z</span>
<span>ã«ç¾ã‚Œã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<span>â—</span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span>6.144MH</span>
<span>zï½</span>
<span>7.68MH</span>
<span>z</span>
<span>ã®ãƒ‡ãƒ¼ã‚¿ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã¯ãã®ã¾</span>
<span>ã¾</span>
<span>0Hz</span>
<span>&nbsp;ï½</span>
<span>1.536MH</span>
<span>z</span>
<span>ã«ç¾ã‚Œã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<span>ä»¥ä¸Šã®ã‚ˆã†</span>
<span>ã«</span>
<span>0H</span>
<span>z</span>
<span>ä»˜è¿‘ã«ç¾ã‚Œã‚‹ã‚¤ãƒ¡ãƒ¼ã‚¸</span>
<span>ã¯</span>
<span>CI</span>
<span>C</span>
<span>ãƒ•ã‚£ãƒ«ã‚¿ã®ã‚®ãƒ£ãƒƒãƒ—ã®éƒ¨åˆ†ã«ãªã‚Šã€æ¬¡</span>
<span>ã®</span>
<span>FI</span>
<span>R</span>
<span>ãƒ•ã‚£ãƒ«ã‚¿</span>
<span>ã§</span>
<span>0H</span>
<span>z</span>
<span>ä»˜è¿‘ã ã‘ã‚’å–ã‚Šå‡ºã›</span>
<span>ã°</span>
<span>1.536MH</span>
<span>z</span>
<span>ã‚ˆã‚Šä¸Šã®ãƒ‡ãƒ¼ã‚¿ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’é™¤å»ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>CI</span>
<span>C</span>
<span>ãƒ•ã‚£ãƒ«ã‚¿ã®å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®å‘¨æ³¢æ•°ã‚’ã‚¹ã‚¤ãƒ¼ãƒ—ã•ã›ã¦ä¸Šè¨˜ã®å‹•ä½œã‚’ã—ã¦ã„ã‚‹ã‹ç¢ºèªã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<h2><b>
<span><b>10.1</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-47"><b>
<span><b>å…¥åŠ›ãƒ‡ãƒ¼ã‚¿</b></span>
<span><b>ã‚’</b></span>
<span><b>NC</b></span>
<span><b>Oã®</b></span>
<span><b>CO</b></span>
<span><b>Sã€</b></span>
<span><b>SI</b></span>
<span><b>N</b></span>
<span><b>å‡ºåŠ›ã«å¤‰æ›´</b></span>
</b></a>
</b></h2>
<p>&nbsp;<span>CI</span>
<span>C</span>
<span>ãƒ•ã‚£ãƒ«ã‚¿ã«å…¥åŠ›ã™</span>
<span>ã‚‹iã€q</span>
<span>ãƒ‡ãƒ¼ã‚¿ã‚’</span>
<span>ã€</span>
<span>NC</span>
<span>Oã®</span>
<span>CO</span>
<span>Sã€</span>
<span>SI</span>
<span>N</span>
<span>å‡ºåŠ›ã«å¤‰æ›´ã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<table cellspacing="0" cellpadding="0" border="1">
<tbody>
<tr>
<td>
<p>&nbsp;<span>always @(posedge clk) begin</span>
 &nbsp;</p>
<p>&nbsp;<span>//</span>
<span>i &lt;= adc * cos;</span>
 &nbsp;</p>
<p>&nbsp;<span>//</span>
<span>q &lt;= adc * sin;</span>
 &nbsp;</p>
<p>&nbsp;<span>i &lt;= cos &lt;&lt;&lt; 6;</span>
 &nbsp;</p>
<p>&nbsp;<span>q &lt;= sin &lt;&lt;&lt;&nbsp;6;</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<h2><b>
<span><b>10.2</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-48"><b>
<span><b>ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚±ãƒƒ</b></span>
<span><b>ãƒ</b></span>
<span><b>AvalonPacket_NCO_Touc</b></span>
<span><b>h</b></span>
<span><b>ã‚’ä½¿ã†</b></span>
</b></a>
</b></h2>
<p>&nbsp;<span>ã‚¿ãƒƒãƒã‚»ãƒ³ã‚µãƒ¼</span>
<span>ã§</span>
<span>NC</span>
<span>O</span>
<span>ã®å‘¨æ³¢æ•°ã‚’é€£ç¶šã—ã¦å¤‰æ›´ã§ãã‚‹ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚±ãƒƒ</span>
<span>ãƒ</span>
<span>AvalonPacket_NCO_Touc</span>
<span>h</span>
<span>ã‚’ä½¿ã„ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000089.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<h2><b>
<span><b>10.3</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-49"><b>
<span><b>DAC</b></span>
<span><b>Aã€</b></span>
<span><b>DAC</b></span>
<span><b>B</b></span>
<span><b>ã®å‡ºåŠ›å†…å®¹ã‚’å¤‰æ›´</b></span>
</b></a>
</b></h2>
<p>&nbsp;<span>CI</span>
<span>C</span>
<span>ãƒ•ã‚£ãƒ«ã‚¿ã®å…¥å‡ºåŠ›ãƒ‡ãƒ¼ã‚¿ã‚’ã‚ªã‚·ãƒ­ã‚¹ã‚³ãƒ¼ãƒ—</span>
<span>ã§</span>
<span>FF</span>
<span>T</span>
<span>è¡¨ç¤ºã™ã‚‹ãŸã‚ã€ãƒˆãƒƒãƒ—ãƒ¢ã‚¸ãƒ¥ãƒ¼</span>
<span>ãƒ«</span>
<span>top.</span>
<span>v</span>
<span>ã‚’å¤‰æ›´ã—ã¾ã™ã€‚ãƒˆãƒƒãƒ—ãƒ¢ã‚¸ãƒ¥ãƒ¼</span>
<span>ãƒ«</span>
<span>top.</span>
<span>v</span>
<span>ã®æœ€å¾Œã«ã‚</span>
<span>ã‚‹</span>
<span>DAC</span>
<span>Aã€</span>
<span>DAC</span>
<span>B</span>
<span>ã«å€¤ã‚’ã‚»ãƒƒãƒˆã—ã¦ã„ã‚‹ç®‡æ‰€ã‚’æ›¸ãæ›ãˆã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000108.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>CI</span>
<span>C</span>
<span>ãƒ•ã‚£ãƒ«ã‚¿ã®å…¥åŠ›ãƒ‡ãƒ¼ã‚¿</span>
<span>ã‚’</span>
<span>R-2R DA</span>
<span>Cã®</span>
<span>DAC</span>
<span>A</span>
<span>ã«ã€å‡ºåŠ›ãƒ‡ãƒ¼ã‚¿</span>
<span>ã‚’</span>
<span>DAC</span>
<span>B</span>
<span>ã«æ¥ç¶šã—ã€ã‚ªã‚·ãƒ­ã‚¹ã‚³ãƒ¼ãƒ—</span>
<span>ã®</span>
<span>FF</span>
<span>T</span>
<span>è¡¨ç¤ºã§å‡ºåŠ›ãƒ‡ãƒ¼ã‚¿ã‚’ç¢ºèªã—ã¾ã™</span>
<span>ã€‚</span>
<span>R-2R DA</span>
<span>C</span>
<span>ã®å…¥åŠ›ã¯ç¬¦å·ç„¡ã—ãªã®ã§å¤‰æ›ã—ã¦ã„ã¾ã™ã€‚</span>
 &nbsp;</p>
<table cellspacing="0" cellpadding="0" border="1">
<tbody>
<tr>
<td>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
<span>assign daca = i[CIC_WIDTH-1 -: 7];</span>
 &nbsp;</p>
<p>&nbsp;<span>assign dacb = icic[CIC_WIDTH-1 -: 7];</span>
 &nbsp;</p>
<p>&nbsp;<span>always @(posedge clk) begin</span>
 &nbsp;</p>
<p>&nbsp;<span>DACA &lt;= (daca[6] == 0) ? daca + 7'h40 : daca - 7'h40;</span>
 &nbsp;</p>
<p>&nbsp;<span>if (icic_valid)</span>
 &nbsp;</p>
<p>&nbsp;<span>DACB &lt;= (dacb[6] == 0) ? dacb + 7'h40 : dacb - 7'h40;</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>endmodule</span>
 &nbsp;</p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>å‡ºåŠ›ãƒ‡ãƒ¼ã‚¿ã®ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°å‘¨æ³¢</span>
<span>æ•°</span>
<span>3.072MSp</span>
<span>sã®</span>
<span>1 /&nbsp;</span>
<span>2</span>
<span>ã®ç¯„</span>
<span>å›²</span>
<span>0Hz</span>
<span>&nbsp;ï½</span>
<span>1.536MH</span>
<span>z</span>
<span>ã«ç¾ã‚Œã‚‹ã‚¤ãƒ¡ãƒ¼ã‚¸ã ã‘ã«æ³¨ç›®ã—ã¾ã™ã€‚ã‚¹ãƒ†ãƒƒãƒ—</span>
<span>ã‚’</span>
<span>10000H</span>
<span>z</span>
<span>ã«å¤‰æ›´ã—</span>
<span>ã¦</span>
<span>NC</span>
<span>O</span>
<span>ã®å‘¨æ³¢æ•°ã‚’ä¸Šã’ã¦ã„ãã¨ã€äºˆæƒ³é€šã‚Šã«ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒç¾ã‚Œã‚‹ã“ã¨ãŒç¢ºèªã§ãã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<span>â—</span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span>1.536MH</span>
<span>zï½</span>
<span>3.072MH</span>
<span>z</span>
<span>ã®ãƒ‡ãƒ¼ã‚¿ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã¯åè»¢ã—</span>
<span>ã¦</span>
<span>1.536MH</span>
<span>zï½</span>
<span>0H</span>
<span>z</span>
<span>ã«ç¾ã‚Œã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<span>â—</span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span>3.072MH</span>
<span>zï½</span>
<span>4.608MH</span>
<span>z</span>
<span>ã®ãƒ‡ãƒ¼ã‚¿ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã¯ãã®ã¾</span>
<span>ã¾</span>
<span>0Hz</span>
<span>&nbsp;ï½</span>
<span>1.536MH</span>
<span>z</span>
<span>ã«ç¾ã‚Œã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<span>â—</span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span>4.608MH</span>
<span>zï½</span>
<span>6.144MH</span>
<span>z</span>
<span>ã®ãƒ‡ãƒ¼ã‚¿ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã¯åè»¢ã—</span>
<span>ã¦</span>
<span>1.536MH</span>
<span>zï½</span>
<span>0H</span>
<span>z</span>
<span>ã«ç¾ã‚Œã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<span>â—</span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span>6.144MH</span>
<span>zï½</span>
<span>7.68MH</span>
<span>z</span>
<span>ã®ãƒ‡ãƒ¼ã‚¿ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã¯ãã®ã¾</span>
<span>ã¾</span>
<span>0Hz</span>
<span>&nbsp;ï½</span>
<span>1.536MH</span>
<span>z</span>
<span>ã«ç¾ã‚Œã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000103.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<h2><b>
<span><b>10.4</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-50"><b>
<span><b>MyCIC.</b></span>
<span><b>vã€€</b></span>
<span><b>Verilo</b></span>
<span><b>g</b></span>
<span><b>ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰</b></span>
</b></a>
</b></h2>
<p>&nbsp;<span>è‡ª</span>
<span>ä½œ</span>
<span>CI</span>
<span>C</span>
<span>ãƒ•ã‚£ãƒ«ã‚¿</span>
<span>ã®</span>
<span>Verilo</span>
<span>g</span>
<span>ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã§ã™ã€‚</span>
 &nbsp;</p>
<table cellspacing="0" cellpadding="0" border="1">
<tbody>
<tr>
<td>
<p>&nbsp;<span>`timescale 1ns/1ns</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>module MyCIC</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;#(</span>
 &nbsp;</p>
<p>&nbsp;<span>parameter NUM_STAGES = 4,</span>
 &nbsp;</p>
<p>&nbsp;<span>parameter RATE = 24,</span>
 &nbsp;</p>
<p>&nbsp;<span>parameter RATE_WIDTH = 5, // ceil(log2(RATE))</span>
 &nbsp;</p>
<p>&nbsp;<span>parameter SCALE_WIDTH = 19, // ceil(log2(RATE) * NUM_STAGES)</span>
 &nbsp;</p>
<p>&nbsp;<span>parameter DATA_WIDTH = 19</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;)</span>
 &nbsp;</p>
<p>&nbsp;<span>(</span>
 &nbsp;</p>
<p>&nbsp;<span>input wire clk,</span>
 &nbsp;</p>
<p>&nbsp;<span>input wire reset_n,</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>input wire [1:0] in_error,</span>
 &nbsp;</p>
<p>&nbsp;<span>input wire in_valid,</span>
 &nbsp;</p>
<p>&nbsp;<span>output wire in_ready,</span>
 &nbsp;</p>
<p>&nbsp;<span>input wire signed [DATA_WIDTH-1:0] in_data,</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>output reg signed [DATA_WIDTH-1:0] out_data,</span>
 &nbsp;</p>
<p>&nbsp;<span>output wire [1:0] out_error,</span>
 &nbsp;</p>
<p>&nbsp;<span>output reg out_valid,</span>
 &nbsp;</p>
<p>&nbsp;<span>input wire out_ready</span>
 &nbsp;</p>
<p>&nbsp;<span>);</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>localparam WIDTH = SCALE_WIDTH + DATA_WIDTH;</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>integer i;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>reg signed [WIDTH-1:0] integ [0:NUM_STAGES];</span>
 &nbsp;</p>
<p>&nbsp;<span>reg signed [WIDTH-1:0] diff [0:NUM_STAGES];</span>
 &nbsp;</p>
<p>&nbsp;<span>reg signed [WIDTH-1:0] diff_d [0:NUM_STAGES];</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>reg [RATE_WIDTH-1:0] count;</span>
 &nbsp;</p>
<p>&nbsp;<span>reg next_out_valid;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>assign in_ready = 1'b1;</span>
 &nbsp;</p>
<p>&nbsp;<span>assign out_error = 2'b00;</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>always @(posedge clk)</span>
 &nbsp;</p>
<p>&nbsp;<span>begin</span>
 &nbsp;</p>
<p>&nbsp;<span>if (~reset_n)</span>
 &nbsp;</p>
<p>&nbsp;<span>begin</span>
 &nbsp;</p>
<p>&nbsp;<span>for (i = 1; i &lt;= NUM_STAGES; i = i + 1) begin</span>
 &nbsp;</p>
<p>&nbsp;<span>integ[i] &lt;= 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>diff[1] &lt;= 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>end else if (in_valid)</span>
 &nbsp;</p>
<p>&nbsp;<span>begin</span>
 &nbsp;</p>
<p>&nbsp;<span>integ[1] &lt;= in_data + integ[1];</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>for (i = 2; i &lt;= NUM_STAGES; i = i + 1) begin</span>
 &nbsp;</p>
<p>&nbsp;<span>integ[i] &lt;= integ[i-1] + integ[i];</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>diff[1] &lt;= integ[NUM_STAGES-1] + integ[NUM_STAGES];</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>always @(posedge clk)</span>
 &nbsp;</p>
<p>&nbsp;<span>begin</span>
 &nbsp;</p>
<p>&nbsp;<span>if (~reset_n)</span>
 &nbsp;</p>
<p>&nbsp;<span>begin</span>
 &nbsp;</p>
<p>&nbsp;<span>count &lt;= 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>next_out_valid &lt;= 1'b1;</span>
 &nbsp;</p>
<p>&nbsp;<span>end else if (in_valid)</span>
 &nbsp;</p>
<p>&nbsp;<span>begin</span>
 &nbsp;</p>
<p>&nbsp;<span>if (count == RATE - 1)</span>
 &nbsp;</p>
<p>&nbsp;<span>begin</span>
 &nbsp;</p>
<p>&nbsp;<span>count &lt;= 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>next_out_valid &lt;= 1'b1;</span>
 &nbsp;</p>
<p>&nbsp;<span>end else</span>
 &nbsp;</p>
<p>&nbsp;<span>begin</span>
 &nbsp;</p>
<p>&nbsp;<span>count &lt;= count + 1;</span>
 &nbsp;</p>
<p>&nbsp;<span>next_out_valid &lt;= 1'b0;</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>end else</span>
 &nbsp;</p>
<p>&nbsp;<span>begin</span>
 &nbsp;</p>
<p>&nbsp;<span>next_out_valid &lt;= 1'b0;</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>always @(posedge clk)</span>
 &nbsp;</p>
<p>&nbsp;<span>begin</span>
 &nbsp;</p>
<p>&nbsp;<span>if (~reset_n)</span>
 &nbsp;</p>
<p>&nbsp;<span>begin</span>
 &nbsp;</p>
<p>&nbsp;<span>for (i = 1; i &lt;= NUM_STAGES; i = i + 1) begin</span>
 &nbsp;</p>
<p>&nbsp;<span>diff_d[i] &lt;= 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>for (i = 2; i &lt;= NUM_STAGES; i = i + 1) begin</span>
 &nbsp;</p>
<p>&nbsp;<span>diff[i] &lt;= 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>out_data &lt;= 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>end else</span>
 &nbsp;</p>
<p>&nbsp;<span>begin</span>
 &nbsp;</p>
<p>&nbsp;<span>out_valid &lt;= next_out_valid;</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>if (next_out_valid)</span>
 &nbsp;</p>
<p>&nbsp;<span>begin</span>
 &nbsp;</p>
<p>&nbsp;<span>for (i = 1; i &lt;= NUM_STAGES; i = i + 1) begin</span>
 &nbsp;</p>
<p>&nbsp;<span>diff_d[i] &lt;= diff[i];</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>for (i = 2; i &lt;= NUM_STAGES; i = i + 1) begin</span>
 &nbsp;</p>
<p>&nbsp;<span>diff[i] &lt;= diff[i-1] - diff_d[i-1];</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>out_data &lt;= (diff[NUM_STAGES] - diff_d[NUM_STAGES]) &gt;&gt;&gt; SCALE_WIDTH;</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>endmodule</span>
 &nbsp;</p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<div></div>
<br />
&nbsp;<h2><b>
<span><b>10.5</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-51"><b>
<span><b>å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã‚’å…ƒã«æˆ»ã™</b></span>
</b></a>
</b></h2>
<p>&nbsp;<span>å‹•ä½œç¢ºèªå¾Œ</span>
<span>ã€</span>
<span>CI</span>
<span>C</span>
<span>ãƒ•ã‚£ãƒ«ã‚¿ã«å…¥åŠ›ã™</span>
<span>ã‚‹iã€q</span>
<span>ãƒ‡ãƒ¼ã‚¿ã‚’å…ƒã«æˆ»ã—ã¦ãŠãã¾ã™ã€‚</span>
 &nbsp;</p>
<table cellspacing="0" cellpadding="0" border="1">
<tbody>
<tr>
<td>
<p>&nbsp;<span>always @(posedge clk) begin</span>
 &nbsp;</p>
<p>&nbsp;<span>i &lt;= adc * cos;</span>
 &nbsp;</p>
<p>&nbsp;<span>q &lt;= adc * sin;</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<h1><b>
<span><b>11</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-52"><b>
<span><b>è‡ª</b></span>
<span><b>ä½œ</b></span>
<span><b>FI</b></span>
<span><b>R</b></span>
<span><b>ãƒ•ã‚£ãƒ«ã‚¿</b></span>
<span><b>ï¼ˆ</b></span>
<span><b>3.072MSp</b></span>
<span><b>sâ†’</b></span>
<span><b>384kSp</b></span>
<span><b>s</b></span>
<span><b>ï¼‰</b></span>
</b></a>
</b></h1>
<p>&nbsp;<span>CI</span>
<span>C</span>
<span>ãƒ•ã‚£ãƒ«ã‚¿ã®å‡ºåŠ›ã‚’ã•ã‚‰</span>
<span>ã«</span>
<span>1/</span>
<span>8</span>
<span>ã«é–“å¼•</span>
<span>ã</span>
<span>FI</span>
<span>R</span>
<span>ãƒ•ã‚£ãƒ«ã‚¿ã¯</span>
<span>ã€</span>
<span>3.072MSp</span>
<span>s</span>
<span>ã®ãƒ‡ãƒ¼ã‚¿ã‚’å…¥åŠ›</span>
<span>ã—</span>
<span>384kSp</span>
<span>s</span>
<span>ã®ãƒ‡ãƒ¼ã‚¿ã‚’å‡ºåŠ›ã—ã¾ã™</span>
<span>ã€‚</span>
<span>73.328MH</span>
<span>z</span>
<span>ã®ã‚·ã‚¹ãƒ†ãƒ ã‚¯ãƒ­ãƒƒ</span>
<span>ã‚¯</span>
<span>19</span>
<span>2</span>
<span>ã‚¯ãƒ­ãƒƒã‚¯ã®é–“ã«è¨ˆç®—ã‚’ã™ã‚Œã°è‰¯ã„ã®ã§ã™</span>
<span>ãŒ1</span>
<span>ã‚¯ãƒ­ãƒƒã‚¯åŠ ç®—å™¨ã®ã‚¯ãƒªã‚¢ã«ä½¿ã†ã®ã§æœ€</span>
<span>å¤§</span>
<span>19</span>
<span>1</span>
<span>å€‹ã«ãªã‚Šã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<span>ä¹—ç®—ç”¨ã®ãƒ‡ãƒ¼ã‚¿ã‚’ä¿æŒã™ã‚‹ãŸã‚</span>
<span>ã®</span>
<span>RA</span>
<span>M</span>
<span>ã®ã‚¢ãƒ‰ãƒ¬ã‚¹</span>
<span>ãŒ</span>
<span>25</span>
<span>6</span>
<span>å€‹ã§ã€è¨ˆç®—ä¸­ã«é–“å¼•ãåˆ†</span>
<span>ã®8</span>
<span>å€‹ã®ãƒ‡ãƒ¼ã‚¿ãŒè¿½åŠ ã•ã‚Œã‚‹ã®ã§ã€è¨ˆç®—ã«ä½¿ãˆã‚‹ã‚¯ãƒ­ãƒƒã‚¯æ•°ãŒã‚‚ã£ã¨å¤šã„å ´åˆã§ã‚‚å®Ÿéš›ã«</span>
<span>ã¯</span>
<span>25</span>
<span>6ï¼8ï¼</span>
<span>24</span>
<span>8</span>
<span>å€‹ã¾ã§ã«ãªã‚Šã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<span>3.072MSp</span>
<span>s</span>
<span>ã®å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã«å¯¾ã—ã¦ã‚«ãƒƒãƒˆã‚ªãƒ•å‘¨æ³¢</span>
<span>æ•°</span>
<span>192kH</span>
<span>z</span>
<span>ã¨ã—ãŸã„ã®ã§ã€æ­£è¦åŒ–é®æ–­å‘¨æ³¢æ•°</span>
<span>ã¯</span>
<span>192 / 3072 = 0.062</span>
<span>5</span>
<span>ã«ã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<h2><b>
<span><b>11.1</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-53"><b>
<span><b>å…¥åŠ›ãƒ‡ãƒ¼ã‚¿</b></span>
<span><b>ã‚’</b></span>
<span><b>NC</b></span>
<span><b>Oã®</b></span>
<span><b>CO</b></span>
<span><b>Sã€</b></span>
<span><b>SI</b></span>
<span><b>N</b></span>
<span><b>å‡ºåŠ›ã«å¤‰æ›´</b></span>
</b></a>
</b></h2>
<p>&nbsp;<span>iã€q</span>
<span>ãƒ‡ãƒ¼ã‚¿ã‚’</span>
<span>ã€</span>
<span>NC</span>
<span>Oã®</span>
<span>CO</span>
<span>Sã€</span>
<span>SI</span>
<span>N</span>
<span>å‡ºåŠ›ã«å¤‰æ›´ã—ã€ç›´</span>
<span>æ¥</span>
<span>FI</span>
<span>R</span>
<span>ãƒ•ã‚£ãƒ«ã‚¿ã«å…¥åŠ›ã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<table cellspacing="0" cellpadding="0" border="1">
<tbody>
<tr>
<td>
<p>&nbsp;<span>always @(posedge clk) begin</span>
 &nbsp;</p>
<p>&nbsp;<span>//</span>
<span>i &lt;= adc * cos;</span>
 &nbsp;</p>
<p>&nbsp;<span>//</span>
<span>q &lt;= adc * sin;</span>
 &nbsp;</p>
<p>&nbsp;<span>i &lt;= cos &lt;&lt;&lt;&nbsp;6;</span>
 &nbsp;</p>
<p>&nbsp;<span>q &lt;= sin &lt;&lt;&lt;&nbsp;6;</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<table cellspacing="0" cellpadding="0" border="1">
<tbody>
<tr>
<td>
<p>&nbsp;<span>MyFIR #(</span>
 &nbsp;</p>
<p>&nbsp;<span>.DATA_WIDTH(FIR_WIDTH)</span>
 &nbsp;</p>
<p>&nbsp;<span>) fir8_inst_i (</span>
 &nbsp;</p>
<p>&nbsp;<span>.clk&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (clk),</span>
 &nbsp;</p>
<p>&nbsp;<span>.reset_n&nbsp;&nbsp; (1'b1),</span>
 &nbsp;</p>
<p>&nbsp;<span>//</span>
<span>.ast_sink_data (icic[CIC_WIDTH-1 -gain -: FIR_WIDTH]),</span>
 &nbsp;</p>
<p>&nbsp;<span>.ast_sink_data (i[CIC_WIDTH-1 -: FIR_WIDTH]),</span>
 &nbsp;</p>
<p>&nbsp;<span>.ast_sink_valid (icic_valid),</span>
 &nbsp;</p>
<p>&nbsp;<span>.ast_sink_error (2'b00),</span>
 &nbsp;</p>
<p>&nbsp;<span>.ast_source_data (ifir),</span>
 &nbsp;</p>
<p>&nbsp;<span>.ast_source_valid (ifir_valid),</span>
 &nbsp;</p>
<p>&nbsp;<span>.ast_source_error ()</span>
 &nbsp;</p>
<p>&nbsp;<span>);</span>
 &nbsp;</p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<h2><b>
<span><b>11.2</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-54"><b>
<span><b>ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚±ãƒƒ</b></span>
<span><b>ãƒ</b></span>
<span><b>AvalonPacket_NCO_Touc</b></span>
<span><b>h</b></span>
<span><b>ã‚’ä½¿ã†</b></span>
</b></a>
</b></h2>
<p>&nbsp;<span>ã‚¿ãƒƒãƒã‚»ãƒ³ã‚µãƒ¼</span>
<span>ã§</span>
<span>NC</span>
<span>O</span>
<span>ã®å‘¨æ³¢æ•°ã‚’é€£ç¶šã—ã¦å¤‰æ›´ã§ãã‚‹ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚±ãƒƒ</span>
<span>ãƒ</span>
<span>AvalonPacket_NCO_Touc</span>
<span>h</span>
<span>ã‚’ä½¿ã„ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000089.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<h2><b>
<span><b>11.3</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-55"><b>
<span><b>DAC</b></span>
<span><b>Aã€</b></span>
<span><b>DAC</b></span>
<span><b>B</b></span>
<span><b>ã®å‡ºåŠ›å†…å®¹ã‚’å¤‰æ›´</b></span>
</b></a>
</b></h2>
<p>&nbsp;<span>FI</span>
<span>R</span>
<span>ãƒ•ã‚£ãƒ«ã‚¿ã®å…¥å‡ºåŠ›ãƒ‡ãƒ¼ã‚¿ã‚’ã‚ªã‚·ãƒ­ã‚¹ã‚³ãƒ¼ãƒ—</span>
<span>ã§</span>
<span>FF</span>
<span>T</span>
<span>è¡¨ç¤ºã™ã‚‹ãŸã‚ã€ãƒˆãƒƒãƒ—ãƒ¢ã‚¸ãƒ¥ãƒ¼</span>
<span>ãƒ«</span>
<span>top.</span>
<span>v</span>
<span>ã‚’å¤‰æ›´ã—ã¾ã™ã€‚ãƒˆãƒƒãƒ—ãƒ¢ã‚¸ãƒ¥ãƒ¼</span>
<span>ãƒ«</span>
<span>top.</span>
<span>v</span>
<span>ã®æœ€å¾Œã«ã‚</span>
<span>ã‚‹</span>
<span>DAC</span>
<span>Aã€</span>
<span>DAC</span>
<span>B</span>
<span>ã«å€¤ã‚’ã‚»ãƒƒãƒˆã—ã¦ã„ã‚‹ç®‡æ‰€ã‚’æ›¸ãæ›ãˆã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000009.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>FI</span>
<span>R</span>
<span>ãƒ•ã‚£ãƒ«ã‚¿ã®å…¥åŠ›ãƒ‡ãƒ¼ã‚¿</span>
<span>ã‚’</span>
<span>R-2R DA</span>
<span>Cã®</span>
<span>DAC</span>
<span>A</span>
<span>ã«ã€å‡ºåŠ›ãƒ‡ãƒ¼ã‚¿</span>
<span>ã‚’</span>
<span>DAC</span>
<span>B</span>
<span>ã«æ¥ç¶šã—ã€ã‚ªã‚·ãƒ­ã‚¹ã‚³ãƒ¼ãƒ—</span>
<span>ã®</span>
<span>FF</span>
<span>T</span>
<span>è¡¨ç¤ºã§å‡ºåŠ›ãƒ‡ãƒ¼ã‚¿ã‚’ç¢ºèªã—ã¾ã™</span>
<span>ã€‚</span>
<span>R-2R DA</span>
<span>C</span>
<span>ã®å…¥åŠ›ã¯ç¬¦å·ç„¡ã—ãªã®ã§å¤‰æ›ã—ã¦ã„ã¾ã™ã€‚</span>
 &nbsp;</p>
<table cellspacing="0" cellpadding="0" border="1">
<tbody>
<tr>
<td>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
<span>assign daca = i[CIC_WIDTH-1 -: 7];</span>
 &nbsp;</p>
<p>&nbsp;<span>assign dacb = ifir[FIR_WIDTH-1 -: 7];</span>
 &nbsp;</p>
<p>&nbsp;<span>always @(posedge clk) begin</span>
 &nbsp;</p>
<p>&nbsp;<span>DACA &lt;= (daca[6] == 0) ? daca + 7'h40 : daca - 7'h40;</span>
 &nbsp;</p>
<p>&nbsp;<span>if (ifir_valid)</span>
 &nbsp;</p>
<p>&nbsp;<span>DACB &lt;= (dacb[6] == 0) ? dacb + 7'h40 : dacb - 7'h40;</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>endmodule</span>
 &nbsp;</p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>å‡ºåŠ›ãƒ‡ãƒ¼ã‚¿ã®ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°å‘¨æ³¢</span>
<span>æ•°</span>
<span>384kSp</span>
<span>sã®</span>
<span>1 /&nbsp;</span>
<span>2</span>
<span>ã®ç¯„</span>
<span>å›²</span>
<span>0Hz</span>
<span>&nbsp;ï½</span>
<span>192kH</span>
<span>z</span>
<span>ã«ç¾ã‚Œã‚‹ã‚¤ãƒ¡ãƒ¼ã‚¸ã ã‘ã«æ³¨ç›®ã—ã¾ã™</span>
<span>ã€‚</span>
<span>NC</span>
<span>O</span>
<span>ã®å‘¨æ³¢æ•°ã‚’ä¸Šã’ã¦ã„ãã¨</span>
<span>ã€</span>
<span>192kH</span>
<span>zï½</span>
<span>384kH</span>
<span>z</span>
<span>ã®ç¯„å›²</span>
<span>ã¯</span>
<span>192kH</span>
<span>zï½</span>
<span>0H</span>
<span>z</span>
<span>ã®å‘ãã«ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒç¾ã‚Œã¾ã™ãŒã€ãƒ¬ãƒ™ãƒ«ã¯ã©ã‚“ã©ã‚“ä¸‹ãŒã£ã¦ã„ãã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000048.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>ã•ã‚‰</span>
<span>ã«</span>
<span>NC</span>
<span>O</span>
<span>ã®å‘¨æ³¢æ•°ã‚’ä¸Šã’ã¦è¡Œã£ã¦</span>
<span>ã‚‚</span>
<span>0Hz</span>
<span>&nbsp;ï½</span>
<span>192kH</span>
<span>z</span>
<span>ã«ç¾ã‚Œã‚‹ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒ¬ãƒ™ãƒ«ã¯ä½ã„ã¾ã¾ã§ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000036.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<h2><b>
<span><b>11.4</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-56"><b>
<span><b>ram16x256.qi</b></span>
<span><b>p</b></span>
<span><b>ä½œæˆæ‰‹é †</b></span>
</b></a>
</b></h2>
<p>&nbsp;<span>FI</span>
<span>R</span>
<span>ãƒ•ã‚£ãƒ«ã‚¿ã¯ä¿‚æ•°ã¨åŒã˜å€‹æ•°ã®éå»ãƒ‡ãƒ¼ã‚¿ã¨ã‚’ä¹—ç®—ã—ã¦å‡ºåŠ›ãƒ‡ãƒ¼ã‚¿ã‚’ä½œã‚Šã¾ã™ã€‚ï¼’ãƒãƒ¼</span>
<span>ãƒˆ</span>
<span>RA</span>
<span>M</span>
<span>ã‚’ä½¿ã£ã¦ã€ãƒ‡ãƒ¼ã‚¿</span>
<span>ã‚’</span>
<span>RA</span>
<span>M</span>
<span>ã«æ›¸ãè¾¼ã‚€å‹•ä½œã¨ã€ä¹—ç®—ã®ãŸã‚</span>
<span>ã«</span>
<span>RA</span>
<span>M</span>
<span>ã‹ã‚‰èª­ã¿å‡ºã™å‹•ä½œã‚’åŒæ™‚ã«ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000101.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000063.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000080.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000090.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000026.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000118.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<h2><b>
<span><b>11.5</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-57"><b>
<span><b>MyFIR.</b></span>
<span><b>vã€€</b></span>
<span><b>Verilo</b></span>
<span><b>g</b></span>
<span><b>ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰</b></span>
</b></a>
</b></h2>
<p>&nbsp;<span>è‡ª</span>
<span>ä½œ</span>
<span>FI</span>
<span>R</span>
<span>ãƒ•ã‚£ãƒ«ã‚¿</span>
<span>ï¼ˆ</span>
<span>3.072MSp</span>
<span>sâ†’</span>
<span>384kSp</span>
<span>s</span>
<span>ï¼‰</span>
<span>ã®</span>
<span>Verilo</span>
<span>g</span>
<span>ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã§ã™ã€‚ä¿‚æ•°ã¯è©¦è¡ŒéŒ¯èª¤ã—ãŸã„ã®</span>
<span>ã§</span>
<span>RO</span>
<span>M</span>
<span>ã«ã¯ã—ã¦ã„ã¾ã›ã‚“ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<span>ãƒ•ã‚£ãƒ«ã‚¿ä¿‚æ•°ã®è¨­è¨ˆã¯</span>
<a href="http://dsp.jpn.org/dfdesign/fir/mado.shtml">
<span><u>çŸ³å·é«˜å°‚å±±ç”°æ´‹å£«ç ”ç©¶å®¤ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã®çª“é–¢æ•°æ³•</u></span>
</a>
<span>ã‚’åˆ©ç”¨ã•ã›ã¦ã„ãŸã ãã¾ã—ãŸã€‚</span>
 &nbsp;</p>
<p>&nbsp;<span>æ­£è¦åŒ–ã•ã‚ŒãŸä¿‚æ•°</span>
<span>ã‚’</span>
<span>3276</span>
<span>7</span>
<span>å€ã—</span>
<span>ã¦</span>
<span>1</span>
<span>6</span>
<span>ãƒ“ãƒƒãƒˆæ•´æ•°ã«ã—ã¦ä½¿ã£ã¦ã„ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<table cellspacing="0" cellpadding="0" border="1">
<tbody>
<tr>
<td>
<p>&nbsp;<span>`timescale 1ns/1ns</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>module MyFIR</span>
 &nbsp;</p>
<p>&nbsp;<span>#(</span>
 &nbsp;</p>
<p>&nbsp;<span>parameter RATE = 8,</span>
 &nbsp;</p>
<p>&nbsp;<span>parameter DATA_WIDTH = 16</span>
 &nbsp;</p>
<p>&nbsp;<span>)</span>
 &nbsp;</p>
<p>&nbsp;<span>(</span>
 &nbsp;</p>
<p>&nbsp;<span>input wire clk,</span>
 &nbsp;</p>
<p>&nbsp;<span>input wire reset_n,</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>input wire signed [DATA_WIDTH-1:0] ast_sink_data,</span>
 &nbsp;</p>
<p>&nbsp;<span>input wire ast_sink_valid,</span>
 &nbsp;</p>
<p>&nbsp;<span>input wire [1:0] ast_sink_error,</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>output reg signed [DATA_WIDTH-1:0] ast_source_data,</span>
 &nbsp;</p>
<p>&nbsp;<span>output reg ast_source_valid,</span>
 &nbsp;</p>
<p>&nbsp;<span>output wire [1:0] ast_source_error</span>
 &nbsp;</p>
<p>&nbsp;<span>);</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>localparam NUM_TAPS = 191;</span>
 &nbsp;</p>
<p>&nbsp;<span>localparam H_WIDTH = 16;</span>
 &nbsp;</p>
<p>&nbsp;<span>localparam Y_WIDTH = H_WIDTH + DATA_WIDTH - 1;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>// RAM 16x256</span>
 &nbsp;</p>
<p>&nbsp;<span>localparam RAM_NUM_ADDRS = 256;</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>integer i;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>reg signed [H_WIDTH-1:0] h[0:NUM_TAPS-1];</span>
 &nbsp;</p>
<p>&nbsp;<span>wire signed [DATA_WIDTH-1:0] x;</span>
 &nbsp;</p>
<p>&nbsp;<span>reg signed [Y_WIDTH-1:0] y;</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>wire [7:0] raddr;</span>
 &nbsp;</p>
<p>&nbsp;<span>reg [7:0] waddr;</span>
 &nbsp;</p>
<p>&nbsp;<span>reg [7:0] last_waddr;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>reg [8:0] cnt;</span>
 &nbsp;</p>
<p>&nbsp;<span>reg [7:0] deci_cnt;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>// Normalized Frequency: 0.0625</span>
 &nbsp;</p>
<p>&nbsp;<span>initial begin</span>
 &nbsp;</p>
<p>&nbsp;<span>h[0] = -3;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[1] = -6;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[2] = -8;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[3] = -9;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[4] = -9;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[5] = -7;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[6] = -4;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[7] = 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[8] = 4;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[9] = 9;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[10] = 12;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[11] = 14;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[12] = 13;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[13] = 11;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[14] = 6;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[15] = 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[16] = -7;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[17] = -14;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[18] = -20;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[19] = -23;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[20] = -23;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[21] = -19;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[22] = -11;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[23] = 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[24] = 12;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[25] = 24;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[26] = 33;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[27] = 39;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[28] = 38;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[29] = 31;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[30] = 18;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[31] = 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[32] = -20;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[33] = -39;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[34] = -54;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[35] = -62;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[36] = -60;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[37] = -49;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[38] = -28;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[39] = 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[40] = 31;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[41] = 60;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[42] = 83;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[43] = 95;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[44] = 92;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[45] = 74;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[46] = 42;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[47] = 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[48] = -47;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[49] = -90;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[50] = -124;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[51] = -141;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[52] = -136;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[53] = -109;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[54] = -62;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[55] = 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[56] = 68;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[57] = 132;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[58] = 181;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[59] = 206;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[60] = 200;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[61] = 160;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[62] = 91;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[63] = 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[64] = -100;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[65] = -195;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[66] = -267;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[67] = -304;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[68] = -296;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[69] = -238;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[70] = -136;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[71] = 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[72] = 152;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[73] = 296;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[74] = 410;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[75] = 471;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[76] = 463;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[77] = 377;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[78] = 218;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[79] = 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[80] = -251;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[81] = -501;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[82] = -710;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[83] = -838;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[84] = -850;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[85] = -719;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[86] = -435;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[87] = 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[88] = 563;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[89] = 1218;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[90] = 1915;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[91] = 2597;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[92] = 3205;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[93] = 3684;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[94] = 3990;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[95] = 4096;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[96] = 3990;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[97] = 3684;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[98] = 3205;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[99] = 2597;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[100] = 1915;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[101] = 1218;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[102] = 563;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[103] = 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[104] = -435;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[105] = -719;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[106] = -850;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[107] = -838;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[108] = -710;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[109] = -501;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[110] = -251;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[111] = 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[112] = 218;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[113] = 377;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[114] = 463;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[115] = 471;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[116] = 410;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[117] = 296;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[118] = 152;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[119] = 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[120] = -136;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[121] = -238;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[122] = -296;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[123] = -304;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[124] = -267;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[125] = -195;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[126] = -100;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[127] = 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[128] = 91;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[129] = 160;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[130] = 200;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[131] = 206;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[132] = 181;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[133] = 132;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[134] = 68;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[135] = 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[136] = -62;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[137] = -109;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[138] = -136;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[139] = -141;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[140] = -124;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[141] = -90;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[142] = -47;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[143] = 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[144] = 42;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[145] = 74;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[146] = 92;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[147] = 95;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[148] = 83;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[149] = 60;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[150] = 31;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[151] = 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[152] = -28;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[153] = -49;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[154] = -60;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[155] = -62;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[156] = -54;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[157] = -39;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[158] = -20;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[159] = 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[160] = 18;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[161] = 31;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[162] = 38;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[163] = 39;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[164] = 33;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[165] = 24;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[166] = 12;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[167] = 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[168] = -11;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[169] = -19;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[170] = -23;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[171] = -23;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[172] = -20;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[173] = -14;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[174] = -7;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[175] = 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[176] = 6;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[177] = 11;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[178] = 13;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[179] = 14;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[180] = 12;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[181] = 9;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[182] = 4;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[183] = 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[184] = -4;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[185] = -7;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[186] = -9;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[187] = -9;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[188] = -8;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[189] = -6;</span>
 &nbsp;</p>
<p>&nbsp;<span>h[190] = -3;</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>assign ast_source_error = 2'b00;</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>always @(posedge clk)</span>
 &nbsp;</p>
<p>&nbsp;<span>begin</span>
 &nbsp;</p>
<p>&nbsp;<span>if (~reset_n) begin</span>
 &nbsp;</p>
<p>&nbsp;<span>waddr &lt;= 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>cnt &lt;= 0;</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>deci_cnt &lt;= 0;</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>y &lt;= 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>ast_source_data &lt;= 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>ast_source_valid &lt;= 1'b0;</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>else begin</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>if (ast_sink_valid) begin</span>
 &nbsp;</p>
<p>&nbsp;<span>if (waddr == RAM_NUM_ADDRS-1) begin</span>
 &nbsp;</p>
<p>&nbsp;<span>waddr &lt;= 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>else begin</span>
 &nbsp;</p>
<p>&nbsp;<span>waddr &lt;= waddr + 1;</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>if (deci_cnt == RATE-1) begin</span>
 &nbsp;</p>
<p>&nbsp;<span>deci_cnt &lt;= 0;</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>ast_source_data &lt;= y[Y_WIDTH-1 -: DATA_WIDTH];</span>
 &nbsp;</p>
<p>&nbsp;<span>ast_source_valid &lt;= 1'b1;</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>last_waddr &lt;= waddr;</span>
 &nbsp;</p>
<p>&nbsp;<span>cnt &lt;= 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>y &lt;= 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>else begin</span>
 &nbsp;</p>
<p>&nbsp;<span>deci_cnt &lt;= deci_cnt + 1;</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>if (cnt &lt; NUM_TAPS) begin</span>
 &nbsp;</p>
<p>&nbsp;<span>cnt &lt;= cnt + 1;</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>if (cnt &lt; NUM_TAPS) begin</span>
 &nbsp;</p>
<p>&nbsp;<span>y &lt;= y + h[cnt] * x;</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>ast_source_valid &lt;= 1'b0;</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>else begin</span>
 &nbsp;</p>
<p>&nbsp;<span>if (cnt &lt; NUM_TAPS) begin</span>
 &nbsp;</p>
<p>&nbsp;<span>cnt &lt;= cnt + 1;</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>if (cnt &lt; NUM_TAPS) begin</span>
 &nbsp;</p>
<p>&nbsp;<span>y &lt;= y + h[cnt] * x;</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>ast_source_valid &lt;= 1'b0;</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>assign raddr = (RAM_NUM_ADDRS + last_waddr - (NUM_TAPS - 1) + cnt &lt;= RAM_NUM_ADDRS-1)</span>
 &nbsp;</p>
<p>&nbsp;<span>? RAM_NUM_ADDRS + last_waddr - (NUM_TAPS - 1) + cnt</span>
 &nbsp;</p>
<p>&nbsp;<span>: RAM_NUM_ADDRS + last_waddr - (NUM_TAPS - 1) + cnt - RAM_NUM_ADDRS;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>ram16x256 ram16x256_inst (</span>
 &nbsp;</p>
<p>&nbsp;<span>.clock (clk),</span>
 &nbsp;</p>
<p>&nbsp;<span>.data (ast_sink_data),</span>
 &nbsp;</p>
<p>&nbsp;<span>.rdaddress (raddr),</span>
 &nbsp;</p>
<p>&nbsp;<span>.wraddress (waddr),</span>
 &nbsp;</p>
<p>&nbsp;<span>.wren (ast_sink_valid),</span>
 &nbsp;</p>
<p>&nbsp;<span>.q (x)</span>
 &nbsp;</p>
<p>&nbsp;<span>);</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>endmodule</span>
 &nbsp;</p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<h2><b>
<span><b>11.6</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-58"><b>
<span><b>å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã‚’å…ƒã«æˆ»ã™</b></span>
</b></a>
</b></h2>
<p>&nbsp;<span>å‹•ä½œç¢ºèªå¾Œã€å¤‰æ›´ç®‡æ‰€ã‚’å…ƒã«æˆ»ã—ã¦ãŠãã¾ã™ã€‚</span>
 &nbsp;</p>
<table cellspacing="0" cellpadding="0" border="1">
<tbody>
<tr>
<td>
<p>&nbsp;<span>always @(posedge clk) begin</span>
 &nbsp;</p>
<p>&nbsp;<span>i &lt;= adc * cos;</span>
 &nbsp;</p>
<p>&nbsp;<span>q &lt;= adc * sin;</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<table cellspacing="0" cellpadding="0" border="1">
<tbody>
<tr>
<td>
<p>&nbsp;<span>MyFIR #(</span>
 &nbsp;</p>
<p>&nbsp;<span>.DATA_WIDTH(FIR_WIDTH)</span>
 &nbsp;</p>
<p>&nbsp;<span>) fir8_inst_i (</span>
 &nbsp;</p>
<p>&nbsp;<span>.clk&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (clk),</span>
 &nbsp;</p>
<p>&nbsp;<span>.reset_n&nbsp;&nbsp; (1'b1),</span>
 &nbsp;</p>
<p>&nbsp;<span>.ast_sink_data (icic[CIC_WIDTH-1 -gain -: FIR_WIDTH]),</span>
 &nbsp;</p>
<p>&nbsp;<span>.ast_sink_valid (icic_valid),</span>
 &nbsp;</p>
<p>&nbsp;<span>.ast_sink_error (2'b00),</span>
 &nbsp;</p>
<p>&nbsp;<span>.ast_source_data (ifir),</span>
 &nbsp;</p>
<p>&nbsp;<span>.ast_source_valid (ifir_valid),</span>
 &nbsp;</p>
<p>&nbsp;<span>.ast_source_error ()</span>
 &nbsp;</p>
<p>&nbsp;<span>);</span>
 &nbsp;</p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<div></div>
<br />
&nbsp;<h1><b>
<span><b>12</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-59"><b>
<span><b>F</b></span>
<span><b>M</b></span>
<span><b>å¾©èª¿</b></span>
</b></a>
</b></h1>
<p>&nbsp;<span>Quartus Prime Lite Editio</span>
<span>n</span>
<span>ã§æä¾›ã•ã‚Œã¦ã„</span>
<span>ã‚‹</span>
<span>ALTERA_CORDIC I</span>
<span>P</span>
<span>ã‚’ä½¿ã£ã¦</span>
<span>ã€</span>
<span>I</span>
<span>Q</span>
<span>ä¿¡å·</span>
<span>ã‚’</span>
<span>P</span>
<span>M</span>
<span>å¾©èª¿ã—ã¦ä½ç›¸ãƒ‡ãƒ¼ã‚¿ã«æˆ»ã—ã¾ã™ã€‚ã•ã‚‰ã«ä½ç›¸ãƒ‡ãƒ¼ã‚¿ã®ç›´å‰ã®ãƒ‡ãƒ¼ã‚¿ã¨ã®å·®åˆ†ã‚’ã¨ã‚‹ã“ã¨ã§å‘¨æ³¢æ•°ãƒ‡ãƒ¼ã‚¿ã«æˆ»ã—ã¾ã™ã€‚ã“ã®å‘¨æ³¢æ•°ãƒ‡ãƒ¼ã‚¿ãŒå…ƒã®éŸ³å£°ãƒ‡ãƒ¼ã‚¿ã§ã™ã€‚æ­£ç¢ºã«ã¯ã‚¹ãƒ†ãƒ¬ã‚ªå¾©èª¿ç”¨ã®ãƒ‘ã‚¤ãƒ­ãƒƒãƒˆä¿¡å·</span>
<span>ã¨</span>
<span>L</span>
<span>R</span>
<span>å·®åˆ†ãƒ‡ãƒ¼ã‚¿ã‚‚å«ã‚“ã è¤‡åˆä¿¡å·ã§ã™ãŒ</span>
<span>ã€</span>
<span>19KH</span>
<span>z</span>
<span>ã®ãƒ‘ã‚¤ãƒ­ãƒƒãƒˆä¿¡å·ã‚ˆã‚Šä½ã„å¸¯åŸŸã‚’ãƒ­ãƒ¼ãƒ‘ã‚¹ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã§å–ã‚Šå‡ºã›</span>
<span>ã°</span>
<span>F</span>
<span>M</span>
<span>ãƒ¢ãƒãƒ©ãƒ«ã®éŸ³å£°ãƒ‡ãƒ¼ã‚¿ã«ãªã‚Šã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<h2><b>
<span><b>12.1</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-60"><b>
<span><b>vectran.qsy</b></span>
<span><b>s</b></span>
<span><b>ä½œæˆæ‰‹é †</b></span>
</b></a>
</b></h2>
<p>&nbsp;<span>ALTERA_CORDIC I</span>
<span>Pã‚’</span>
<span>P</span>
<span>M</span>
<span>å¾©èª¿ç”¨ã«è¨­å®šã—</span>
<span>ãŸ</span>
<span>vectran.qsy</span>
<span>s</span>
<span>ã‚’ä½œã‚Šã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000043.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000023.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000022.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000047.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000052.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000058.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000095.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000010.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000007.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000074.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000104.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<img src="images/000005.jpg" alt="" />
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<h2><b>
<span><b>12.2</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-61"><b>
<span><b>ãƒˆãƒƒãƒ—ãƒ¢ã‚¸ãƒ¥ãƒ¼</b></span>
<span><b>ãƒ«</b></span>
<span><b>top.</b></span>
<span><b>v</b></span>
<span><b>ã®è©²å½“ç®‡æ‰€</b></span>
</b></a>
</b></h2>
<p>&nbsp;<span>P</span>
<span>M</span>
<span>å¾©èª¿ã—ãŸä½ç›¸ãƒ‡ãƒ¼</span>
<span>ã‚¿</span>
<span>phas</span>
<span>e</span>
<span>ã®ç›´å‰ã®ãƒ‡ãƒ¼ã‚¿ã¨ã®å·®åˆ†ã‚’ã¨ã‚‹ã“ã¨ã§å‘¨æ³¢æ•°ãƒ‡ãƒ¼ã‚¿ã«æˆ»ã—ã¾ã™</span>
<span>ã€‚</span>
<span>phas</span>
<span>eã¯</span>
<span>-18</span>
<span>0</span>
<span>Â°</span>
<span>ï½</span>
<span>+18</span>
<span>0</span>
<span>Â°ã®ç¯„å›²ã«åã‚ã‚‰ã‚Œã¦ã„ã‚‹ã®ã§ã€é€£ç¶šã—ã¦ã„ã‚‹ã®</span>
<span>ã«</span>
<span>-18</span>
<span>0</span>
<span>Â°è¿‘ãã‹</span>
<span>ã‚‰</span>
<span>+18</span>
<span>0</span>
<span>Â°è¿‘ãã«å€¤ãŒé£›ã¶ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚é€†å‘ã</span>
<span>ã®</span>
<span>+18</span>
<span>0</span>
<span>Â°è¿‘ãã‹</span>
<span>ã‚‰</span>
<span>-18</span>
<span>0</span>
<span>Â°è¿‘ãã«å€¤ãŒé£›ã¶ã“ã¨ã‚‚ã‚ã‚Šã¾ã™ã€‚å·®åˆ†ãŒ</span>
<span>Â±</span>
<span>18</span>
<span>0</span>
<span>Â°ã‚’è¶…ãˆã‚‹ã¨ã</span>
<span>ã¯</span>
<span>36</span>
<span>0</span>
<span>Â°å·®ã—å¼•ã„ã¦å‘¨æ³¢æ•°ãƒ‡ãƒ¼ã‚¿ãŒé€£ç¶šã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚</span>
 &nbsp;</p>
<table cellspacing="0" cellpadding="0" border="1">
<tbody>
<tr>
<td>
<p>&nbsp;<span>module top</span>
 &nbsp;</p>
<p>&nbsp;<span>...</span>
 &nbsp;</p>
<p>&nbsp;<span>localparam FIR_WIDTH = 16;</span>
 &nbsp;</p>
<p>&nbsp;<span>localparam PI = 17'sb0011_0010_0100_0011_1; // pi = 0011 . 0010 0100 0011 1111 0110 1010&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...</span>
 &nbsp;</p>
<p>&nbsp;<span>wire signed [FIR_WIDTH-1:0] phase;</span>
 &nbsp;</p>
<p>&nbsp;<span>reg signed [FIR_WIDTH-1:0] phase_r;</span>
 &nbsp;</p>
<p>&nbsp;<span>wire signed [FIR_WIDTH:0] phase_diff;</span>
 &nbsp;</p>
<p>&nbsp;<span>reg signed [FIR_WIDTH:0] freq;</span>
 &nbsp;</p>
<p>&nbsp;<span>...</span>
 &nbsp;</p>
<p>&nbsp;<span>always @(posedge clk) begin</span>
 &nbsp;</p>
<p>&nbsp;<span>if (ifir_valid) begin</span>
 &nbsp;</p>
<p>&nbsp;<span>phase_r &lt;= phase;</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>if (phase_diff &gt; PI) begin</span>
 &nbsp;</p>
<p>&nbsp;<span>freq &lt;= phase_diff - (PI &lt;&lt;&lt; 1);</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>else if (phase_diff &lt; -PI) begin</span>
 &nbsp;</p>
<p>&nbsp;<span>freq &lt;= phase_diff + (PI &lt;&lt;&lt; 1);</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>else begin</span>
 &nbsp;</p>
<p>&nbsp;<span>freq &lt;= phase_diff;</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>assign phase_diff = phase - phase_r;</span>
 &nbsp;</p>
<p>&nbsp;<span>...</span>
 &nbsp;</p>
<p>&nbsp;<span>endmodule</span>
 &nbsp;</p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<div></div>
<br />
&nbsp;<h1><b>
<span><b>13</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-62"><b>
<span><b>è‡ª</b></span>
<span><b>ä½œ</b></span>
<span><b>FI</b></span>
<span><b>R</b></span>
<span><b>ãƒ•ã‚£ãƒ«ã‚¿</b></span>
<span><b>ï¼ˆ</b></span>
<span><b>384kSp</b></span>
<span><b>sâ†’</b></span>
<span><b>48kSp</b></span>
<span><b>s</b></span>
<span><b>ï¼‰</b></span>
</b></a>
</b></h1>
<p>&nbsp;<span>è‡ª</span>
<span>ä½œ</span>
<span>FI</span>
<span>R</span>
<span>ãƒ•ã‚£ãƒ«ã‚¿</span>
<span>ï¼ˆ</span>
<span>3.072MSp</span>
<span>sâ†’</span>
<span>384kSp</span>
<span>s</span>
<span>ï¼‰ã¨ä¿‚æ•°ä»¥å¤–åŒã˜ã§ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<span>F</span>
<span>M</span>
<span>å¾©èª¿ã—ãŸéŸ³å£°ãƒ‡ãƒ¼ã‚¿</span>
<span>ã‚’</span>
<span>I2S DA</span>
<span>C</span>
<span>ç”¨</span>
<span>ã«</span>
<span>1/</span>
<span>8</span>
<span>ã«é–“å¼•</span>
<span>ã</span>
<span>FI</span>
<span>R</span>
<span>ãƒ•ã‚£ãƒ«ã‚¿ã¯</span>
<span>ã€</span>
<span>384kSp</span>
<span>s</span>
<span>ã®ãƒ‡ãƒ¼ã‚¿ã‚’å…¥åŠ›</span>
<span>ã—</span>
<span>48kSp</span>
<span>s</span>
<span>ã®ãƒ‡ãƒ¼ã‚¿ã‚’å‡ºåŠ›ã—ã¾ã™</span>
<span>ã€‚</span>
<span>73.328MH</span>
<span>z</span>
<span>ã®ã‚·ã‚¹ãƒ†ãƒ ã‚¯ãƒ­ãƒƒ</span>
<span>ã‚¯</span>
<span>153</span>
<span>6</span>
<span>ã‚¯ãƒ­ãƒƒã‚¯ã®é–“ã«è¨ˆç®—ã‚’ã™ã‚Œã°è‰¯ã„ã®ã§ã™</span>
<span>ãŒ1</span>
<span>ã‚¯ãƒ­ãƒƒã‚¯åŠ ç®—å™¨ã®ã‚¯ãƒªã‚¢ã«ä½¿ã†ã®ã§æœ€</span>
<span>å¤§</span>
<span>153</span>
<span>5</span>
<span>å€‹ã«ãªã‚Šã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<span>ä¹—ç®—ç”¨ã®ãƒ‡ãƒ¼ã‚¿ã‚’ä¿æŒã™ã‚‹ãŸã‚</span>
<span>ã®</span>
<span>RA</span>
<span>M</span>
<span>ã®ã‚¢ãƒ‰ãƒ¬ã‚¹</span>
<span>ãŒ</span>
<span>25</span>
<span>6</span>
<span>å€‹ã§ã€è¨ˆç®—ä¸­ã«é–“å¼•ãåˆ†</span>
<span>ã®8</span>
<span>å€‹ã®ãƒ‡ãƒ¼ã‚¿ãŒè¿½åŠ ã•ã‚Œã‚‹ã®ã§ã€å®Ÿéš›ã«</span>
<span>ã¯</span>
<span>25</span>
<span>6ï¼8ï¼</span>
<span>24</span>
<span>8</span>
<span>å€‹ã¾ã§ã«ãªã‚Šã¾ã™ã€‚ä»Šå›</span>
<span>ã¯</span>
<span>19</span>
<span>9</span>
<span>å€‹ã«ã—ã¾ã—ãŸã€‚</span>
 &nbsp;</p>
<p>&nbsp;<span>384kSp</span>
<span>s</span>
<span>ã®å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã«å¯¾ã—ã¦ã‚«ãƒƒãƒˆã‚ªãƒ•å‘¨æ³¢</span>
<span>æ•°</span>
<span>15kH</span>
<span>z</span>
<span>ä½ã«ã—ãŸã„ã®ã§ã€æ­£è¦åŒ–é®æ–­å‘¨æ³¢æ•°</span>
<span>ã¯</span>
<span>15&nbsp;/ 384</span>
<span>&nbsp;</span>
<span>â‰’&nbsp;0.03</span>
<span>9</span>
<span>ã«ã—ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;</p>
<div></div>
<br />
&nbsp;<h1><b>
<span><b>14</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-63"><b>
<span><b>è‡ªä½œãƒ‡ã‚£ã‚¨ãƒ³ãƒ•ã‚¡ã‚·ã‚¹</b></span>
</b></a>
</b></h1>
<p>&nbsp;<span>F</span>
<span>M</span>
<span>æ”¾é€ã¯é€ä¿¡æ™‚ã«é«˜åŸŸã‚’å¼·èª¿ã—ã¦ã„ã‚‹ã®ã§ã€åå¯¾ã®å‘¨æ³¢æ•°ç‰¹æ€§ã§æ¸›è¡°ã•ã›ã¾ã™ã€‚</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>y[n] = 0.7058823529411764 * y[n-1] + 0.2941176470588236 * x[n]</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<h2><b>
<span><b>14.1</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-64"><b>
<span><b>MyDeEmphasis.</b></span>
<span><b>vã€€</b></span>
<span><b>Verilo</b></span>
<span><b>g</b></span>
<span><b>ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰</b></span>
</b></a>
</b></h2>
<p>&nbsp;<span>éŸ³å£°ãƒ‡ãƒ¼ã‚¿</span>
<span>ã‚’</span>
<span>I2S DA</span>
<span>C</span>
<span>ã«å‡ºåŠ›ã™</span>
<span>ã‚‹</span>
<span>Verilo</span>
<span>g</span>
<span>ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã§ã™ã€‚</span>
 &nbsp;</p>
<table cellspacing="0" cellpadding="0" border="1">
<tbody>
<tr>
<td>
<p>&nbsp;<span>`timescale 1ns/1ns</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>module MyDeEmphasis</span>
 &nbsp;</p>
<p>&nbsp;<span>#(</span>
 &nbsp;</p>
<p>&nbsp;<span>parameter DATA_WIDTH = 10</span>
 &nbsp;</p>
<p>&nbsp;<span>)</span>
 &nbsp;</p>
<p>&nbsp;<span>(</span>
 &nbsp;</p>
<p>&nbsp;<span>input wire clk,</span>
 &nbsp;</p>
<p>&nbsp;<span>input wire reset_n,</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>input wire signed [DATA_WIDTH-1:0] in_data,</span>
 &nbsp;</p>
<p>&nbsp;<span>input wire in_valid,</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>output reg signed [DATA_WIDTH-1:0] out_data,</span>
 &nbsp;</p>
<p>&nbsp;<span>output wire out_valid</span>
 &nbsp;</p>
<p>&nbsp;<span>);</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>always @(posedge clk)</span>
 &nbsp;</p>
<p>&nbsp;<span>begin</span>
 &nbsp;</p>
<p>&nbsp;<span>if (~reset_n) begin</span>
 &nbsp;</p>
<p>&nbsp;<span>out_data &lt;= 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>else begin</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>if (in_valid) begin</span>
 &nbsp;</p>
<p>&nbsp;<span>// y[n] = 0.7058823529411764 * y[n-1] + 0.2941176470588236 * x[n]</span>
 &nbsp;</p>
<p>&nbsp;<span>// 0 . 1011 0100 1011 0100 1011 0100 * y[n-1]</span>
 &nbsp;</p>
<p>&nbsp;<span>out_data &lt;=&nbsp;&nbsp; (out_data &gt;&gt;&gt; 1)</span>
 &nbsp;</p>
<p>&nbsp;<span>+ (out_data &gt;&gt;&gt; 3)</span>
 &nbsp;</p>
<p>&nbsp;<span>+ (out_data &gt;&gt;&gt; 4)</span>
 &nbsp;</p>
<p>&nbsp;<span>+ (out_data &gt;&gt;&gt; 6)</span>
 &nbsp;</p>
<p>&nbsp;<span>+ (out_data &gt;&gt;&gt; 9)</span>
 &nbsp;</p>
<p>&nbsp;<span>// + 0 . 0100 1011 0100 1011 0100 1011 * x[n]</span>
 &nbsp;</p>
<p>&nbsp;<span>+ (in_data &gt;&gt;&gt; 2)</span>
 &nbsp;</p>
<p>&nbsp;<span>+ (in_data &gt;&gt;&gt; 5)</span>
 &nbsp;</p>
<p>&nbsp;<span>+ (in_data &gt;&gt;&gt; 7)</span>
 &nbsp;</p>
<p>&nbsp;<span>+ (in_data &gt;&gt;&gt; 8)</span>
 &nbsp;</p>
<p>&nbsp;<span>+ (in_data &gt;&gt;&gt; 10);</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>assign out_valid = in_valid;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>endmodule</span>
 &nbsp;</p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<div></div>
<br />
&nbsp;<h1><b>
<span><b>15</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-65"><b>
<span><b>è‡ª</b></span>
<span><b>ä½œ</b></span>
<span><b>I2S&nbsp;I/F</b></span>
</b></a>
</b></h1>
<p>&nbsp;<span>48kSp</span>
<span>s</span>
<span>ã®éŸ³å£°ãƒ‡ãƒ¼ã‚¿</span>
<span>ã‚’</span>
<span>I2S DA</span>
<span>C</span>
<span>ã«é€ã‚‹ã‚·ãƒªã‚¢ãƒ«ãƒ‡ãƒ¼ã‚¿ã«å¤‰æ›ã—ã¾ã™ã€‚ã“ã‚Œã§ãƒ©ã‚¸ã‚ªã®å®Œæˆã§ã™ã€‚</span>
 &nbsp;</p>
<h2><b>
<span><b>15.1</b></span>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<a id="calibre_link-66"><b>
<span><b>MyI2S.</b></span>
<span><b>vã€€</b></span>
<span><b>Verilo</b></span>
<span><b>g</b></span>
<span><b>ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰</b></span>
</b></a>
</b></h2>
<p>&nbsp;<span>éŸ³å£°ãƒ‡ãƒ¼ã‚¿</span>
<span>ã‚’</span>
<span>I2S DA</span>
<span>C</span>
<span>ã«å‡ºåŠ›ã™</span>
<span>ã‚‹</span>
<span>Verilo</span>
<span>g</span>
<span>ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã§ã™ã€‚</span>
 &nbsp;</p>
<table cellspacing="0" cellpadding="0" border="1">
<tbody>
<tr>
<td>
<p>&nbsp;<span>`timescale 1ns/1ns</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>module MyI2S</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;#(</span>
 &nbsp;</p>
<p>&nbsp;<span>parameter VOLUME_WIDTH = 4,</span>
 &nbsp;</p>
<p>&nbsp;<span>parameter IN_WIDTH = 10,</span>
 &nbsp;</p>
<p>&nbsp;<span>parameter OUT_WIDTH = 32</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;)</span>
 &nbsp;</p>
<p>&nbsp;<span>(</span>
 &nbsp;</p>
<p>&nbsp;<span>input wire clk, // 73.728M</span>
 &nbsp;</p>
<p>&nbsp;<span>input wire reset_n,</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>input wire [VOLUME_WIDTH-1:0] volume,</span>
 &nbsp;</p>
<p>&nbsp;<span>input wire signed [IN_WIDTH-1:0] in_left,</span>
 &nbsp;</p>
<p>&nbsp;<span>input wire signed [IN_WIDTH-1:0] in_right,</span>
 &nbsp;</p>
<p>&nbsp;<span>input wire in_valid,</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>output reg SCK,</span>
 &nbsp;</p>
<p>&nbsp;<span>output reg BCK,</span>
 &nbsp;</p>
<p>&nbsp;<span>output reg LRCK,</span>
 &nbsp;</p>
<p>&nbsp;<span>output reg DATA</span>
 &nbsp;</p>
<p>&nbsp;<span>);</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>localparam LRCK_CLK = 1536;</span>
 &nbsp;</p>
<p>&nbsp;<span>localparam LRCK_HALF_CLK = LRCK_CLK &gt;&gt; 1;</span>
 &nbsp;</p>
<p>&nbsp;<span>localparam BCK_CLK = 24;</span>
 &nbsp;</p>
<p>&nbsp;<span>localparam BCK_HALF_CLK = BCK_CLK &gt;&gt; 1;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>reg [10:0] lrck_cnt; // fs = 48k = clk / 1536</span>
 &nbsp;</p>
<p>&nbsp;<span>reg [5:0] bck_cnt; // fs * 64 = clk / 24</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>reg signed [OUT_WIDTH-1:0] out_left;</span>
 &nbsp;</p>
<p>&nbsp;<span>reg signed [OUT_WIDTH-1:0] out_right;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>always @(posedge clk) begin</span>
 &nbsp;</p>
<p>&nbsp;<span>if (~reset_n) begin</span>
 &nbsp;</p>
<p>&nbsp;<span>lrck_cnt &lt;= 0;</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>LRCK &lt;= 1'b1;</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>else begin</span>
 &nbsp;</p>
<p>&nbsp;<span>if (in_valid) begin</span>
 &nbsp;</p>
<p>&nbsp;<span>lrck_cnt &lt;= 0;</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>LRCK &lt;= 1'b1;</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>else begin</span>
 &nbsp;</p>
<p>&nbsp;<span>lrck_cnt &lt;= lrck_cnt + 1;</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>if (lrck_cnt == LRCK_HALF_CLK-1) begin</span>
 &nbsp;</p>
<p>&nbsp;<span>LRCK &lt;= 1'b0;</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>always @(posedge clk) begin</span>
 &nbsp;</p>
<p>&nbsp;<span>if (~reset_n) begin</span>
 &nbsp;</p>
<p>&nbsp;<span>bck_cnt &lt;= 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>BCK &lt;= 1'b0;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>DATA &lt;= 1'b0;</span>
 &nbsp;</p>
<p>&nbsp;<span>out_left &lt;= 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>out_right &lt;= 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>else begin</span>
 &nbsp;</p>
<p>&nbsp;<span>if (in_valid) begin</span>
 &nbsp;</p>
<p>&nbsp;<span>bck_cnt &lt;= 0;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>BCK &lt;= 1'b0;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>DATA &lt;= (lrck_cnt &lt; LRCK_HALF_CLK) ? out_left[OUT_WIDTH-1] :&nbsp;out_right[OUT_WIDTH-1];</span>
 &nbsp;</p>
<p>&nbsp;<span>out_left &lt;= in_left &lt;&lt;&lt; (OUT_WIDTH - IN_WIDTH - volume);</span>
 &nbsp;</p>
<p>&nbsp;<span>out_right &lt;= in_right &lt;&lt;&lt; (OUT_WIDTH - IN_WIDTH - volume);</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>else begin</span>
 &nbsp;</p>
<p>&nbsp;<span>if (bck_cnt == BCK_CLK-1) begin</span>
 &nbsp;</p>
<p>&nbsp;<span>bck_cnt &lt;= 0;</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>BCK &lt;= 1'b0;</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>DATA &lt;= (lrck_cnt &lt; LRCK_HALF_CLK) ? out_left[OUT_WIDTH-1] : out_right[OUT_WIDTH-1];</span>
 &nbsp;</p>
<p>&nbsp;<span>if (lrck_cnt &lt; LRCK_HALF_CLK) out_left &lt;= out_left &lt;&lt;&lt; 1;</span>
 &nbsp;</p>
<p>&nbsp;<span>else out_right &lt;= out_right &lt;&lt;&lt; 1;</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>else begin</span>
 &nbsp;</p>
<p>&nbsp;<span>bck_cnt &lt;= bck_cnt + 1;</span>
 &nbsp;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;<span>if (bck_cnt == BCK_HALF_CLK-1) begin</span>
 &nbsp;</p>
<p>&nbsp;<span>BCK &lt;= 1'b1;</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>end</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>&nbsp;</span>
 &nbsp;</p>
<p>&nbsp;<span>endmodule</span>
</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>


<script>function myFunction(){document.getElementById("tateyoko").classList.toggle("tateread")}</script></body></html>